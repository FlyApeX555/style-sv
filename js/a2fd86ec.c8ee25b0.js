function e(){"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[7458],{802139:(e,t,o)=>{o.d(t,{VideoCatalogLinkMetaTrustMarkEnumNames:()=>a});const a={VERIFIED:1,PREMIUM:2,CONFIRMED:3}},767514:(e,t,o)=>{o.d(t,{Catalog:()=>S});var a=o(474848),i=o(296540),r=o(293721),n=o(308631),s=o(705470),l=o(418755),c=o(351137),d=o(220208),u=o(172656),p=o(194528),_=o(540462),g=o(304814),m=o(856289);const v=(0,_.partConfigEnabled)("video_memoization_video_card_web")&&(0,m.isVideoStandalone)()&&(0,g.isAuthorAllVideosPage)()?c.OptimizedCatalogOwnerProvider:c.CatalogOwnerProvider,S=({blockLayoutResolver:e,catalog:t,nextFromSections:o,loadingBlockIds:_,extendedData:g,onGetSection:m=()=>{},onGetBlockItems:S=()=>{},onPendingSection:C=()=>{},onErrorSection:h=()=>{},onSelectAction:f,onCatalogUpdate:I=()=>{},show:y=!0,island:k,sliderProps:E,collectClick:T,collectView:A,catalogVars:R,platformVars:x,blockResolvers:b,isIndexUsedAsBlockKey:L,supportSubsections:O,withStretchedPlaceholders:w,actionProps:V,loaderSpacingBeneath:P,internalSwitchSection:B,loaderLineHeight:N,appCatalogService:M=n.appCatalogService})=>{const D=(0,r.useStore)(M.catalogService.$catalog),j=(0,r.useStore)(M.catalogService.$sections),G=(0,r.useStore)(M.catalogService.$sectionResponse),F=(0,r.useUnit)(M.catalogService.$catalogGetBlockItemsResponse),U=(0,r.useStore)(M.catalogService.$isSectionPending),H=(0,r.useStore)(M.catalogService.$fetchSectionError),$=(0,r.useStore)(M.actionsService.$selectedAction),z=(0,r.useStore)(M.catalogService.$updatedCatalog),W=(0,r.useStore)(M.catalogService.$lastSectionId),K=(0,r.useStore)(M.catalogService.$nextFrom),Y=(0,r.useStore)(M.layoutService.$snackbar),q=(0,r.useStore)(M.layoutService.$popout),Q=(0,r.useEvent)(M.catalogService.fireLoadingBlockIds),Z=(0,r.useEvent)(M.catalogService.fireClearSectionResponse),J=(0,r.useEvent)(M.catalogService.fireClearUpdatedCatalog),X=(0,r.useEvent)(M.catalogService.fireSetCatalog),ee=(0,r.useEvent)(M.layoutService.setSnackbar),te=(0,r.useEvent)(M.pageService.fireSetCacheId),oe=(0,r.useEvent)(M.actionsService.selectAction),ae=(0,r.useEvent)(M.pageService.fireSetPageId),ie=(0,r.useEvent)(M.pageService.fireSetCatalogType),re=(0,r.useEvent)(M.storiesService.fireSetStoriesOpener),ne=(0,r.useEvent)(M.catalogService.fireSetSections),se=(0,r.useEvent)(M.fireSetExtendedData),le=(0,r.useEvent)(M.catalogService.fireClearCatalogGetBlockItemsResponse),ce=(0,i.useMemo)((()=>{if(O){const{currentSubsection:e}=(0,l.getCurrentSubsectionFromCatalogById)({catalog:D,subsectionId:D?.default_section});if(e)return e}const e=D?.sections?.find((({id:e})=>e===D?.default_section));if(e)return e}),[D?.sections,D?.default_section,O]),de=(0,i.useMemo)((()=>(0,l.unionBlocksByLayout)(ce?[ce,...j]:j)),[ce,j,ce?.blocks?.length]);if((0,i.useEffect)((()=>{ee(null)}),[ce]),(0,i.useEffect)((()=>{_&&Q(_)}),[_]),(0,i.useEffect)((()=>{te(R?.cacheId||"")}),[R?.cacheId]),(0,i.useEffect)((()=>{G&&(m(G),Z())}),[G]),(0,i.useEffect)((()=>{F&&F.block&&(S(F),le())}),[F]),(0,i.useEffect)((()=>{C(U)}),[U]),(0,i.useEffect)((()=>{h(H)}),[H]),(0,i.useEffect)((()=>{$&&f&&f($)}),[$]),(0,i.useEffect)((()=>{(ce||j.length>0)&&oe(null)}),[ce,j]),(0,i.useEffect)((()=>{if(z){const e=window.location.href;I({id:e,updatedCatalog:z,cacheId:R?.cacheId||""}),J()}}),[z]),(0,i.useEffect)((()=>{t&&X(t)}),[t]),(0,i.useEffect)((()=>{g&&se(g)}),[g]),(0,i.useEffect)((()=>{o&&ne(o)}),[o]),(0,i.useEffect)((()=>{R?.pageId&&ae(R.pageId)}),[R?.pageId]),(0,i.useEffect)((()=>{R?.catalogType&&ie(R.catalogType)}),[R?.catalogType]),(0,i.useEffect)((()=>{x?.openStories&&re(x.openStories)}),[x?.openStories]),(0,i.useEffect)((()=>()=>{X({sections:[],default_section:""})}),[]),!y)return null;const ue=t=>t.map(((t,o)=>{if(!t?.id)return null;const a=e(t),r=L?`section_${o}`:`${t.id}_section_${o}`;return(0,i.createElement)(a,{...t,...V,blockIndex:o,key:r})}));return(0,a.jsx)(c.CatalogConfigProvider,{...x,blockResolvers:b,appCatalogService:M,internalSwitchSection:B,withStretchedPlaceholders:w,sliderProps:E,children:(0,a.jsx)(c.CatalogLogProvider,{collectClick:T,collectView:A,children:(0,a.jsx)(v,{children:(0,a.jsx)(d.SplitLayout,{popout:q,children:(0,a.jsxs)(d.SplitCol,{children:[k?(0,l.splitCatalogBlocksByIsland)(de).map(((e,t,o)=>(0,a.jsxs)(u.Group,{mode:"card",children:[ue(e),o.length-1===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.NextFrom,{nextFrom:K,sectionId:W,rootMargin:R?.rootMargin,loaderLineHeight:N},W),P&&(0,a.jsx)(p.Spacing,{size:P})]})]},`${e[0]?.id}_section_group_${t}`))):ue(de),!k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.NextFrom,{nextFrom:K,sectionId:W,loaderLineHeight:N},W),P&&(0,a.jsx)(p.Spacing,{size:P})]}),Y]})})})})})}},493026:(e,t,o)=>{o(474848),o(296540),o(351137),o(767514),o(861743)},55617:(e,t,o)=>{o.d(t,{addAudio:()=>P,addFriend:()=>l,addRecent:()=>g,addToPlaylist:()=>S,addVideo:()=>C,agreeBlurRestriction:()=>j,clearSearchRecent:()=>d,deleteAudio:()=>B,deleteFriend:()=>c,deleteVideo:()=>h,faveAddPost:()=>A,faveAddProduct:()=>p,faveAddVideo:()=>f,faveRemovePost:()=>R,faveRemoveProduct:()=>_,faveRemoveVideo:()=>k,followRadioStation:()=>N,getPlaylistsByVideoExtended:()=>b,getPlaylistsExtended:()=>O,getSection:()=>n,getStories:()=>s,getVideosFromAlbum:()=>L,groupsRemoveRecent:()=>u,likeAdd:()=>m,likeDelete:()=>v,markNotInterested:()=>I,markNotOwnerRecommend:()=>y,removeFromPlaylist:()=>E,removeSearchRecentQuery:()=>G,removeViewingHistoryRecords:()=>T,restoreAudio:()=>D,saveSelection:()=>x,subscribeToVideoPlaylist:()=>w,unfollowRadioStation:()=>M,unsubscribeFromVideoPlaylist:()=>V});var a=o(957994),i=o(49932),r=(o(869071),o(540462));function n(e,t){return(0,a.api)(i.CATALOG_API_METHODS.GET_SECTION,{...e},void 0,t)}function s(e){return(0,a.api)(i.CATALOG_API_METHODS.GET_STORIES,{...e})}function l(e){return(0,a.api)(i.CATALOG_API_METHODS.ADD_FRIEND,e)}function c(e){return(0,a.api)(i.CATALOG_API_METHODS.DELETE_FRIEND,e)}function d(e){return(0,a.api)(i.CATALOG_API_METHODS.CLEAR_RECENT,{...e})}function u(e){return(0,a.api)(i.CATALOG_API_METHODS.GROUPS_REMOVE_RECENT,{...e})}function p(e){return(0,a.api)(i.CATALOG_API_METHODS.FAVE_ADD_PRODUCT,{...e})}function _(e){return(0,a.api)(i.CATALOG_API_METHODS.FAVE_REMOVE_PRODUCT,{...e})}function g(e){return(0,a.api)(i.CATALOG_API_METHODS.ADD_RECENT,e)}function m(e){return(0,a.api)(i.CATALOG_API_METHODS.LIKES_ADD,e)}function v(e){return(0,a.api)(i.CATALOG_API_METHODS.LIKES_DELETE,e)}function S(e){return(0,a.api)(i.CATALOG_API_METHODS.ADD_VIDEO_TO_PLAYLIST,e)}function C(e){return(0,a.api)(i.CATALOG_API_METHODS.ADD_VIDEO,e)}function h(e){return(0,a.api)(i.CATALOG_API_METHODS.DELETE_VIDEO,e)}function f(e){return(0,a.api)(i.CATALOG_API_METHODS.ADD_VIDEO_TO_FAVE,e)}function I(e){return(0,a.api)(i.CATALOG_API_METHODS.MARK_VIDEO_NOT_INTERESTED,e)}function y(e){return(0,a.api)(i.CATALOG_API_METHODS.NOT_RECOMMEND_OWNER,e)}function k(e){return(0,a.api)(i.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_FAVE,e)}function E(e){return(0,a.api)(i.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_PLAYLIST,e)}function T(e){return(0,a.api)(i.CATALOG_API_METHODS.REMOVE_VIEWING_HISTORY_RECORDS,e)}function A(e){return(0,a.api)(i.CATALOG_API_METHODS.FAVE_ADD_POST,e)}function R(e){return(0,a.api)(i.CATALOG_API_METHODS.FAVE_REMOVE_POST,e)}function x(e){return(0,a.api)(i.CATALOG_API_METHODS.SAVE_SELECTION,e)}function b(e,t){return(0,a.api)(i.CATALOG_API_METHODS.GET_PLAYLISTS_BY_VIDEO,e,void 0,t)}function L(e,t){return(0,a.api)(i.CATALOG_API_METHODS.GET_VIDEOS_FROM_ALBUM,e,void 0,t)}function O(e,t){return(0,a.api)(i.CATALOG_API_METHODS.GET_PLAYLISTS,e,void 0,t)}function w(e){return(0,a.api)(i.CATALOG_API_METHODS.SUBSCRIBE_TO_ALBUM,e)}function V(e){return(0,a.api)(i.CATALOG_API_METHODS.UNSUBSCRIBE_TO_ALBUM,e)}function P(e,t){return(0,a.api)(i.CATALOG_API_METHODS.ADD_AUDIO,e,{version:(0,r.partConfigEnabled)("web_my_music_cache_liked")?void 0:"5.251"},t)}function B(e,t){return(0,a.api)(i.CATALOG_API_METHODS.DELETE_AUDIO,e,{version:(0,r.partConfigEnabled)("web_my_music_cache_liked")?void 0:"5.251"},t)}function N(e,t){return(0,a.api)(i.CATALOG_API_METHODS.FOLLOW_RADIO_STATION,e,{version:(0,r.partConfigEnabled)("web_my_music_cache_liked")?void 0:"5.251"},t)}function M(e,t){return(0,a.api)(i.CATALOG_API_METHODS.UNFOLLOW_RADIO_STATION,e,void 0,t)}function D(e,t){return(0,a.api)(i.CATALOG_API_METHODS.RESTORE_AUDIO,e,{version:(0,r.partConfigEnabled)("web_my_music_cache_liked")?void 0:"5.251"},t)}function j(e){return(0,a.api)(i.CATALOG_API_METHODS.AGREE_BLUR_RESTRICTION,e)}function G(e){return(0,a.api)(i.CATALOG_API_METHODS.REMOVE_SEARCH_RECENT_QUERY,e)}},165077:(e,t,o)=>{o.d(t,{CatalogSnackbar:()=>s});var a=o(474848),i=o(351137),r=o(25114),n=o(620360);const s=({event:e,actionLink:t,...o})=>{const{isError:s,content:l,onActionClick:c}=o,{navGo:d}=(0,i.useCatalogConfig)();return(0,a.jsx)(n.Snackbar,{layout:"vertical",before:s?void 0:(0,r.getSnackbarStatusIcon)(e),onActionClick:t?()=>{d(t)}:c,content:e?(0,r.getSnackbarStatusText)(e):l,...o})}},158479:(e,t,o)=>{o.d(t,{CatalogSnackbar:()=>a.CatalogSnackbar});var a=o(165077)},25114:(e,t,o)=>{o.d(t,{getAppPromoSlowYtSnackbarProps:()=>m,getSnackbarStatusIcon:()=>_,getSnackbarStatusText:()=>p,isAppPromoSlowYtSnackbarEnabled:()=>g});var a=o(474848),i=o(866467),r=o(373594),n=o(762964),s=o(16496),l=o(723723),c=o(540462),d=o(558294),u=o(101272);const p=e=>{switch(e){case r.SNACKBAR_EVENTS.ADD_TO_FAVE:return g()?(0,i.getLang)("mobile_video_app_promo_slow_yt_snackbar_watch_later_text"):(0,i.getLang)("mobile_video_added_to_watch_later");case r.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,i.getLang)("mobile_video_removed_from_watch_later");case r.SNACKBAR_EVENTS.ADD_TO_MY:return(0,i.getLang)("mobile_video_added_to_my_videos");case r.SNACKBAR_EVENTS.REMOVE_FROM_MY:return(0,i.getLang)("mobile_video_removed_from_my_videos");case r.SNACKBAR_EVENTS.REMOVE_FROM_GROUP:return(0,i.getLang)("mobile_video_removed_from_group");case r.SNACKBAR_EVENTS.ADD_TO_PLAYLIST:return(0,i.getLang)("mobile_video_added_to_playlist");case r.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS:return(0,i.getLang)("mobile_video_added_to_playlists");case r.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST:return(0,i.getLang)("mobile_video_removed_from_playlist");case r.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS:return(0,i.getLang)("mobile_video_removed_from_playlists");case r.SNACKBAR_EVENTS.COPY_LINK:return(0,i.getLang)("mobile_video_link_copied");case r.SNACKBAR_EVENTS.COPY_ERID:return(0,i.getLang)("mobile_video_erid_copied");case r.SNACKBAR_EVENTS.ORD_ADDED:return(0,i.getLang)("mobile_video_ord_snackbar_added");case r.SNACKBAR_EVENTS.DELETE_PLAYLIST:return(0,i.getLang)("mobile_video_playlist_deleted");case r.SNACKBAR_EVENTS.PLAYLIST_SAVED:return(0,i.getLang)("mobile_video_playlist_saved");case r.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY:return(0,i.getLang)("mobile_video_removed_from_history");case r.SNACKBAR_EVENTS.CLEAR_VIEWING_HISTORY:return(0,i.getLang)("mobile_video_cleared_history");case r.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG:return(0,i.getLang)("mobile_video_onboarding_snackbar_refresh_text");case r.SNACKBAR_EVENTS.UPLOAD_SUCCESS:return(0,i.getLang)("mobile_video_showcase_form_file_upload_success");case r.SNACKBAR_EVENTS.UPLOAD_PROGRESS:return(0,i.getLang)("mobile_video_showcase_form_upload_in_progress");case r.SNACKBAR_EVENTS.VIDEO_SAVED:return(0,i.getLang)("mobile_video_saved");case r.SNACKBAR_EVENTS.ERROR:return(0,i.getLang)("mobile_video_global_error")}},_=e=>{if(e===r.SNACKBAR_EVENTS.ADD_TO_FAVE&&g())return(0,a.jsx)(d.Icon40VkVideoLogo,{});switch(e){case r.SNACKBAR_EVENTS.ADD_TO_FAVE:case r.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,a.jsx)(n.Icon24ClockOutline,{className:(0,l.getColorClass)("color_accent_blue")});default:return(0,a.jsx)(s.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")})}};function g(){return(0,c.partConfigEnabled)("feed_mvk_vkvideo_app_promo_slow_yt_snackbar_watch_later")}function m(){return{event:r.SNACKBAR_EVENTS.ADD_TO_FAVE,action:(0,i.getLang)("mobile_video_app_promo_slow_yt_snackbar_watch_later_action"),layout:"horizontal",onActionClick:()=>{(0,u.saveStatlogEvents)({name:r.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:r.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLICK,keys:[window.cur.screen]}),location.href="https://trk.mail.ru/c/vj7n7y5?mt_js=0"},onClose:()=>{(0,u.saveStatlogEvents)({name:r.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:r.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_CLOSE,keys:[window.cur.screen]})}}}},791893:(e,t,o)=>{o.d(t,{IconButton:()=>s});var a=o(474848),i=o(351118),r=o(271036),n=o(141815);const s=({className:e,children:t,...o})=>(0,a.jsx)(r.IconButton,{className:(0,i.classNames)(n.default.button,e),...o,children:t})},641412:(e,t,o)=>{o.d(t,{IconButton:()=>a.IconButton});var a=o(791893)},843349:(e,t,o)=>{o.d(t,{VirtualList:()=>d});var a=o(474848),i=o(296540),r=o(174269),n=o(333962),s=o(351118),l=o(293721),c=o(840023);const d=({Item:e,items:t})=>{const{appCatalogService:o}=(0,r.useCatalogConfig)(),[d,u]=(0,i.useState)(!1),[p,_]=(0,i.useState)(0),g=(0,i.useRef)(null),m=(0,i.useRef)(null),v=(0,l.useStore)(o.postsService.$postExpandedStates);(0,i.useEffect)((()=>{const e=g.current;if(!e)return;const t=(0,s.throttle)((()=>{const t=(0,n.getScrollTop)();u((o=>!t&&o?o:t<=e.offsetTop+e.offsetHeight+800&&t+window.innerHeight>=e.offsetTop-800))}),50);return t(),window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const S=(0,i.useCallback)((0,s.throttle)((e=>{const t=e.contentRect.height??e.target.clientHeight;t&&_(t)}),50),[]);(0,i.useEffect)((()=>{if(!m.current||!d||p)return;const e=new ResizeObserver((e=>{e.forEach(S)}));return e.observe(m.current),()=>e.disconnect()}),[S,d]),(0,i.useEffect)((()=>{d&&m.current&&_(m.current.clientHeight)}),[v]);const C={"--virtual-list-height":p?`${p}px`:"100%"};return(0,a.jsx)("div",{ref:g,className:c.default.root,style:C,children:(0,a.jsx)("div",{className:(0,s.classNames)(p&&c.default.viewport),children:d&&(0,a.jsx)("div",{ref:m,children:t.map((t=>(0,i.createElement)(e,{...t,key:t.id})))})})})}},368044:(e,t,o)=>{o.d(t,{VirtualList:()=>a.VirtualList});var a=o(843349)},643400:(e,t,o)=>{o.d(t,{CatalogSnackbar:()=>a.CatalogSnackbar,VirtualList:()=>i.VirtualList});o(641412);var a=o(158479),i=o(368044)},994591:(e,t,o)=>{o(474848),o(174269),o(866467),o(412888),o(837046),o(815138),o(724244)},853649:(e,t,o)=>{o.d(t,{getCatalogUserDescription:()=>n});var a=o(474848),i=o(412888),r=o(837046);const n=({friendsDescription:e,descriptions:t,friendsPhotos:o,userStackSize:n="s"})=>{const s=[],l=e?.text,[c,d]=t?.map((e=>e.text))||[];return!c||o.length&&!l||s.push((0,a.jsx)(i.TextClamp,{"data-testid":"catalog_user_list_description",lines:1,children:c})),d?s.push((0,a.jsx)(i.TextClamp,{lines:1,children:d})):o.length&&(l||c)&&s.push((0,a.jsx)(r.UsersStack,{photos:o,size:n,children:(0,a.jsx)(i.TextClamp,{lines:1,children:l||c})})),s}},629261:(e,t,o)=>{o(994591),o(853649)},247368:(e,t,o)=>{o.d(t,{prepareSpellcheck:()=>a});const a=e=>{const t={...e};return t.title&&(t.title=t.title.replace(/\$query/g,"")),t.suggest&&(t.suggest=t.suggest.replace(/\$search_action/g,"")),t}},962271:(e,t,o)=>{o.d(t,{APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE:()=>i.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,AppPromoSlowYtSnackbarEventTypes:()=>i.AppPromoSlowYtSnackbarEventTypes,FAVORITE_SOURCES:()=>i.FAVORITE_SOURCES,SNACKBAR_EVENTS:()=>i.SNACKBAR_EVENTS,VirtualList:()=>a.VirtualList,chunks:()=>r.chunks,getObjectPropertyNumber:()=>r.getObjectPropertyNumber,getObjectPropertyString:()=>r.getObjectPropertyString,getUrlWithTrackCode:()=>r.getUrlWithTrackCode});var a=o(643400),i=(o(629261),o(373594)),r=o(665606)},665606:(e,t,o)=>{o.d(t,{chunks:()=>u,extractIds:()=>d,fromQueryObjectField:()=>c,getAvatarOwnerSrc:()=>p,getObjectPropertyNumber:()=>g,getObjectPropertyString:()=>_,getUrlWithTrackCode:()=>l});var a=o(373594),i=o(22421),r=o(174269),n=o(351118);const s=e=>{switch(e){case r.CatalogType.SEARCH:return"search_track_code";case r.CatalogType.VIDEO:return"video_track_code";case r.CatalogType.GROUPS:return"trackcode";default:return"search_track_code"}},l=(e,t,o)=>t&&o?(0,i.makeUrl)(e,{[s(o)]:t,from:o}):e,c=(e="")=>{const t=decodeURI(e);let o=t;return t.startsWith("?")&&(o=o.substr(1)),o.split("&").reduce(((e,t)=>{let[o="",i=""]=t.split("=");if(a.CRITERIA_PARAMS_REG_EXP.test(o)){const e=o.match(a.CRITERIA_PARAMS_REG_EXP);o=e?.length&&e[1]?e[1]:""}return{...e,[o]:i}}),{})},d=e=>{const[t,o]=`${e}`.split("_");return[+t,+o]};function*u(e,t){for(let o=0;o<e.length;o+=t)yield e.slice(o,o+t)}const p=e=>e.photo_100||e.photo_200,_=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isString)(e[t]))return e[t]},g=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isNumber)(e[t]))return e[t]}},951461:(e,t,o)=>{o.d(t,{Action:()=>n});var a=o(474848),i=o(842600),r=o(296540);const n=({action:e,dataTestId:t,...o})=>{if(!e)return(0,a.jsx)(r.Fragment,{});const n=(0,i.getAction)(e);return(0,a.jsx)(n,{...o,action:e,dataTestId:t})}},766438:(e,t,o)=>{o.d(t,{BlockFilter:()=>u});var a=o(474848),i=o(296540),r=o(694992),n=o(293721),s=o(49932),l=o(351137),c=o(213442);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:o}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(o.actionsService.$selectedAction);switch((0,i.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e){case s.CatalogBlockLayoutName.HORIZONTAL_BUTTONS:case s.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(i.Fragment,{children:(t.options||[]).map((e=>{const t=e.icon_sizes?.[0]?.url,i=u?e.replacement_id===u.replacement_id:1===e.selected;return(0,a.jsx)(r.SubnavigationButton,{"data-testid":"block_filter",id:d(e.replacement_id),className:c.default.root,selected:i,mode:i?"tertiary":"outline",before:t&&(0,a.jsx)("img",{className:c.default.icon,alt:e.text,src:t}),onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&o.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id)}))});default:return(0,a.jsx)(i.Fragment,{})}}},95917:(e,t,o)=>{o.d(t,{BlockFilter:()=>a.BlockFilter});var a=o(766438)},693582:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>_});var a=o(474848),i=o(271036),r=o(723723),n=o(391329),s=o(317216),l=o(657293),c=o(351137),d=o(293721),u=o(49932),p=o(866467);const _=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),o=(0,c.useCollectClick)(),_=(0,d.useStore)(t.pageService.$catalogType),g=(0,l.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code});return(0,a.jsx)(i.IconButton,{"data-testid":"clear_recent_groups",getRootRef:g,onClick:()=>{if(o({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),t.catalogService.fireRemoveBlocks(e.target_block_ids||[]),_===u.CatalogType.SEARCH)return t.searchRecentService.fireClearSearchRecent({});t.searchRecentService.fireGroupsRemoveRecent({})},noPadding:!0,"aria-label":(0,p.getLang)("groups_catalog_header_aria_label_clear_recent"),children:(0,a.jsx)(n.Icon24Dismiss,{className:(0,r.getColorClass)("color_icon_secondary")})})}},738164:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>a.ClearRecentGroups});var a=o(693582)},804044:(e,t,o)=>{o.d(t,{CreatePlaylist:()=>l});var a=o(474848),i=o(303800),r=o(454154),n=o(298096),s=o(866467);const l=({action:e})=>{const t=e.owner_id??window.vk.id;return(0,a.jsx)(i.Div,{children:(0,a.jsx)(r.Button,{before:(0,a.jsx)(n.Icon24Add,{}),mode:"secondary",stretched:!0,href:`/video?action=add_playlist&owner_id=${t}`,size:"m",children:(0,s.getLang)("mobile_video_showcase_create_playlist")})})}},606784:(e,t,o)=>{o.d(t,{CreatePlaylist:()=>a.CreatePlaylist});var a=o(804044)},179068:(e,t,o)=>{o.d(t,{GroupsMyGroupsTabs:()=>u});var a=o(474848),i=o(296540),r=o(194528),n=o(774038),s=o(502656),l=o(293721),c=o(49932),d=o(351137);const u=({layout:e,action:t})=>{const{appCatalogService:o}=(0,d.useCatalogConfig)(),u=(0,l.useStore)(o.actionsService.$selectedAction);return t.options&&e===c.CatalogBlockLayoutName.LIST?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Spacing,{size:4}),(0,a.jsx)(n.Tabs,{children:t.options.map((e=>{const t=u?e.replacement_id===u.replacement_id:1===e.selected,i=e.badge?.text?Number(e.badge.text):void 0;return(0,a.jsx)(s.TabsItem,{"data-testid":"tabs_item",id:(r=e.replacement_id,`catalog-action-${r}`),selected:t,status:i,onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&o.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id);var r}))})]}):(0,a.jsx)(i.Fragment,{})}},818164:(e,t,o)=>{o.d(t,{GroupsMyGroupsTabs:()=>a.GroupsMyGroupsTabs});var a=o(179068)},14806:(e,t,o)=>{o.d(t,{HideBlock:()=>u});var a=o(474848),i=o(141575),r=o(293721),n=o(296540),s=o(866467),l=o(507852),c=o(279734),d=o(174269);const u=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),o=(0,r.useEvent)(t.catalogService.fireHideBlock),u=(0,n.useRef)(null),p=(0,s.getLang)("global_hide"),_=(0,n.useCallback)((()=>{e?.block_id&&o(e.block_id)}),[e.block_id]);return(0,a.jsx)(l.DropdownActionSheet,{offsetByMainAxis:-7,placement:"bottom-end",content:(0,a.jsx)(l.DropdownActionSheet.Item,{onClick:_,children:p},p),children:(0,a.jsx)(c.Link,{mode:"tertiary",getRootRef:u,children:(0,a.jsx)(i.Icon24MoreHorizontal,{})})})}},874611:(e,t,o)=>{o.d(t,{HideBlock:()=>a.HideBlock});var a=o(14806)},426718:(e,t,o)=>{o.d(t,{Onboarding:()=>m});var a=o(474848),i=o(296540),r=o(694992),n=o(454154),s=o(285056),l=o(293721),c=o(974081),d=o(586594),u=o(866467),p=o(573856),_=o(66474),g=o(174269);const m=({action:e})=>{const{appCatalogService:t}=(0,g.useCatalogConfig)(),o=(0,l.useStore)(t.onboardingService.$onboardingOptions),m=(0,l.useStore)(t.onboardingService.$onboardingStatus),v=o.some((e=>!!e.selected)),S=e.title,C=e.block_id;(0,i.useEffect)((()=>{t.onboardingService.fireInitOptions(e.options||[])}),[e.options]);return(0,a.jsxs)(a.Fragment,{children:[(m.status===p.OnboardingResponseStatus.IDLE||m.status===p.OnboardingResponseStatus.PENDING)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:_.default.options,children:o.map((e=>(0,a.jsx)(r.SubnavigationButton,{size:"m",mode:"primary",selected:!!e.selected,onClick:()=>t.onboardingService.fireToggleOption(e),children:e.text},e.replacement_id)))}),v&&(0,a.jsx)(n.Button,{onClick:()=>{const e=o.filter((e=>!!e.selected)).map((e=>e.replacement_id)).join(",");C&&t.onboardingService.fireSaveOptions({selection_ids:e,block_id:C})},loading:m.status===p.OnboardingResponseStatus.PENDING,size:"m",stretched:!0,className:_.default.saveButton,children:S})]}),m.status===p.OnboardingResponseStatus.SUCCESS&&(0,a.jsxs)("div",{className:_.default.doneBox,children:[(0,a.jsx)(c.Icon56LikeOutline,{className:_.default.doneBoxIcon}),(0,a.jsx)(s.Headline,{className:_.default.headlineDone,children:m.message})]}),m.status===p.OnboardingResponseStatus.ERROR&&(0,a.jsxs)("div",{className:_.default.doneBox,children:[(0,a.jsx)(d.Icon56ErrorOutline,{className:_.default.doneBoxIcon}),(0,a.jsx)(s.Headline,{className:_.default.headlineDone,children:(0,u.getLang)("mobile_video_global_error")})]})]})}},484331:(e,t,o)=>{o.d(t,{Onboarding:()=>a.Onboarding});var a=o(426718)},982798:(e,t,o)=>{o.d(t,{OpenSearchTab:()=>_});var a=o(474848),i=o(296540),r=o(279734),n=o(665606),s=o(317216),l=o(49932),c=o(351137),d=o(657293),u=o(444430),p=o(275370);const _=({action:e})=>{const{navGo:t}=(0,c.useCatalogConfig)(),o=(0,c.useCollectClick)(),_=(0,d.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),g=(0,n.fromQueryObjectField)(window.location.search),m=(0,u.encodeUrlSearchParams)({q:g.q},"&"),v=(0,i.useMemo)((()=>{switch(e.search_tab){case"groups":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GROUPS}${m}`;case"people":return`${l.OPEN_SEARCH_TAB_ACTION_URL.PEOPLE}${m}`;case"video":case"videos":return`${l.OPEN_SEARCH_TAB_ACTION_URL.VIDEO}${m}`;case"mini_apps":return`${l.OPEN_SEARCH_TAB_ACTION_URL.SERVICES}${m}`;case"games":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GAMES}${m}`;case"music":return`${l.OPEN_SEARCH_TAB_ACTION_URL.MUSIC}${m}`;case"clips":return`${l.OPEN_SEARCH_TAB_ACTION_URL.CLIPS}${m}`;default:return""}}),[e]),S=(0,i.useCallback)((a=>{a.preventDefault(),o({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.TAP_SHOW_ALL}),t(v)}),[e,v]);return(0,a.jsx)(r.Link,{"data-testid":"open_search_tab",getRootRef:_,href:v,onClick:S,className:p.default.link,children:e.title})}},472949:(e,t,o)=>{o.d(t,{OpenSearchTab:()=>a.OpenSearchTab});var a=o(982798)},85062:(e,t,o)=>{o.d(t,{OpenSection:()=>g});var a=o(474848),i=o(896412),r=o(271036),n=o(279734),s=o(657293),l=o(293721),c=o(317216),d=o(351137),u=o(174269),p=o(22421),_=o(62784);const g=({action:e,layout:t,ariaLabel:o,dataTestId:g,onShowMoreActionClick:m})=>{const{appCatalogService:v}=(0,d.useCatalogConfig)(),S=(0,l.useStore)(v.pageService.$catalogType),C=(0,s.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),h=(0,d.useCollectClick)(),f=t===u.CatalogBlockLayoutName.HEADER_LARGE&&S===u.CatalogType.GROUPS?void 0:e?.action?.url,I=e.section_id,y=(0,_.getActionIcon)(e.icon);if(y)return(0,a.jsx)(r.IconButton,{noPadding:!0,href:f,"aria-hidden":!f,"aria-label":o,children:y});const k=f?e?.action?.type===u.CatalogActionType.OPEN_URL?(0,u.getUrlWithTrackCode)((0,p.makeUrl)(f,{section_id:I||""}),e.track_code,S):(0,p.makeUrl)(f,{section_id:I||"",from:S}):"";return(0,a.jsx)(n.Link,{"data-testid":Boolean(g)?g:"open_section",getRootRef:C,href:k,onClick:t=>{(0,i.cancelEvent)(t),m?.("header",e.section_id),window.nav?.go(k),h({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:e.track_code,type:c.EventItemType.CATALOG_ITEM})},children:e.title})}},55713:(e,t,o)=>{o.d(t,{OpenSection:()=>a.OpenSection});var a=o(85062)},62784:(e,t,o)=>{o.d(t,{getActionIcon:()=>s});var a=o(474848),i=o(728498),r=o(723723),n=o(49932);const s=e=>e===n.CatalogActionIcons.CHEVRON_RIGHT_CIRCLE_28?(0,a.jsx)(i.Icon28ChevronRightCircle,{className:(0,r.getColorClass)("color_icon_secondary")}):null},175962:(e,t,o)=>{o.d(t,{OpenSectionSliderCell:()=>u});var a=o(474848),i=o(213338),r=o(454154),n=o(285056),s=o(216549),l=o(351137),c=o(317216),d=o(596910);const u=e=>{const{title:t,section_id:o,track_code:u,action:p}=e.action,_=(0,l.useCollectClick)(),g=p?.url?p?.url+(o?`?section_id=${o}`:""):void 0;return(0,a.jsx)("div",{className:d.default.openSectionSliderCell,children:(0,a.jsxs)(i.HorizontalCell,{"data-testid":"open_section_slider_cell",href:g,onClick:()=>{_({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:u,type:c.EventItemType.CATALOG_ITEM})},className:d.default.openSectionSliderCard,children:[(0,a.jsx)(r.Button,{appearance:"accent",mode:"tertiary",className:d.default.openSectionSliderCellButton,children:(0,a.jsx)(s.Icon24ChevronCompactRight,{className:d.default.openSectionSliderCellButtonIcon})}),(0,a.jsx)(n.Text,{className:d.default.openSectionSliderCellText,children:t})]})})}},997750:(e,t,o)=>{o.d(t,{PlayVideosFromBlock:()=>v});var a=o(474848),i=o(293721),r=o(191601),n=o(866467),s=o(296540),l=o(454154),c=o(768035),d=o(174269),u=o(351137),p=o(317216),_=o(540462),g=o(298077),m=o(841315);const v=({action:e,id:t})=>{const{appCatalogService:o}=(0,u.useCatalogConfig)(),v=(0,i.useStore)(o.catalogService.$catalog),S=(0,i.useStore)(o.pageService.$catalogType),C=(0,u.useCollectClick)(),h=(0,s.useMemo)((()=>v?.sections?.find((({id:e})=>e===v?.default_section))),[v?.sections,v?.default_section]),f=(0,s.useMemo)((()=>h?.blocks?.find((e=>e.videos_ids?.length))?.videos_ids?.[0]),[h]),{trackCode:I,videoUrl:y}=(0,i.useStoreMap)({store:o.videoService.$videoItems,keys:[f,t],fn:(e,[t,o])=>{const a={trackCode:void 0,videoUrl:(0,_.partConfigEnabled)("video_mvk_videopage_with_playlist")?`/playlist/${o}/video${t}`:`/video${t}`};if(!t)return a;try{const{id:o,ownerId:i}=(0,c.parseRawId)(t),r=e.find((({id:e,owner_id:t})=>e===o&&t===i));return r?{trackCode:r.track_code,videoUrl:(0,_.partConfigEnabled)("vkvideo_sport_domain")?(0,m.getVideoUrl)(r):a.videoUrl}:a}catch(e){return(0,g.logError)(e),a}}}),k=(0,d.getUrlWithTrackCode)(y,I,S);return(0,a.jsx)(l.Button,{before:(0,a.jsx)(r.Icon24Play,{}),appearance:"overlay",mode:"primary",stretched:!0,href:f?k:"",onClick:()=>{C?.({action:p.SearchClickActionMap.PLAY_ALL_OUT,track_code:e?.track_code,type:p.EventItemType.VIDEO})},size:"m",children:(0,n.getLang)("mobile_video_playlist_play")})}},214825:(e,t,o)=>{o.d(t,{PlayVideosFromBlock:()=>a.PlayVideosFromBlock});var a=o(997750)},503844:(e,t,o)=>{o.d(t,{SearchShowMore:()=>d});var a=o(474848),i=o(209808),r=o(652862),n=o(540431),s=o(866467),l=o(351137),c=o(293721);const d=({action:e,next_from:t})=>{const{appCatalogService:o}=(0,l.useCatalogConfig)(),d=(0,c.useUnit)(o.catalogService.fireGetBlockItems);return(0,c.useUnit)(o.catalogService.CatalogGetBlockItemsFx.pending)?(0,a.jsx)(i.PanelSpinner,{size:"regular"}):(0,a.jsx)(r.CellButton,{centered:!0,after:(0,a.jsx)(n.Icon16DropdownOutline,{}),onClick:()=>{e.block_id&&d({block_id:e.block_id,start_from:t})},children:(0,s.getLang)("search_show_more")})}},474622:(e,t,o)=>{o.d(t,{ShowFilters:()=>g});var a=o(474848),i=o(78021),r=o(548099),n=o(293721),s=o(317216),l=o(296540),c=o(351137),d=o(260546),u=o(350072),p=o(285056),_=o(507898);const g=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),{appliedFiltersCount:o,setFilterModal:g}=(0,c.useCatalogSearch)(),m=(0,c.useCollectClick)(),v=(0,n.useStore)(t.pageService.$pageId);return(0,a.jsx)(d.SimpleCell,{"data-testid":"show_filters",className:_.default.root,onClick:()=>{m({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.OPEN_FILTERS}),g(v)},before:(0,a.jsx)(i.Icon24Filter,{className:_.default.iconBefore}),after:(0,a.jsxs)(l.Fragment,{children:[!!o&&(0,a.jsx)(u.Counter,{mode:"primary",children:o}),(0,a.jsx)(r.Icon24ChevronRight,{})]}),children:(0,a.jsx)(p.Headline,{className:_.default.headline,children:e.title})})}},443278:(e,t,o)=>{o.d(t,{ShowFilters:()=>a.ShowFilters});var a=o(474622)},817474:(e,t,o)=>{o.d(t,{ToggleAlbumSubscription:()=>g});var a=o(474848),i=o(454154),r=o(285056),n=o(134034),s=o(432817),l=o(866467),c=o(293721),d=o(351137),u=o(451549),p=o(558e3),_=o(317216);const g=({id:e,action:t})=>{const{appCatalogService:o}=(0,d.useCatalogConfig)(),{openUnauthorizedMoreBox:g}=(0,d.useCatalogVideo)(),[m,v]=e.toString().split("_"),S=(0,d.useCollectClick)(),C=(0,c.useStoreMap)({store:o.playlistService.$playlistItems,keys:[m,v],fn:(e,[t,o])=>e.find((({id:e,owner_id:a})=>e===+o&&a===+t))}),h=Boolean(C?.is_subscribed);if(!C)return null;if((0,u.isVKUserAnonymous)()){const e=e=>{g({source:p.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e})};return(0,a.jsx)(i.Button,{appearance:"overlay",mode:"outline",stretched:!0,onClick:e,size:"m",children:(0,a.jsx)(r.Paragraph,{children:(0,l.getLang)("mobile_video_playlist_subscribe_need_auth_action")})})}return(0,a.jsx)(i.Button,{before:h?(0,a.jsx)(n.Icon24CheckSquareOutline,{}):(0,a.jsx)(s.Icon24AddSquareOutline,{}),appearance:"overlay",mode:h?"secondary":"primary",stretched:!0,onClick:()=>{const e=C.owner_id,a=C.id;void 0!==e&&void 0!==a&&(h?(o.playlistService.unsubscribeFromPlaylist({owner_id:e,album_id:a}),S?.({action:_.SearchClickActionMap.UNSUBSCRIBE_OUT,track_code:t?.track_code,type:_.EventItemType.VIDEO_PLAYLIST})):(o.playlistService.subscribeOnPlaylist({owner_id:e,album_id:a}),S?.({action:_.SearchClickActionMap.SUBSCRIBE_OUT,track_code:t?.track_code,type:_.EventItemType.VIDEO_PLAYLIST})))},size:"m",children:h?(0,l.getLang)("mobile_groups_you_are_in_public"):(0,l.getLang)("mobile_groups_public_subscribe")})}},116420:(e,t,o)=>{o.d(t,{ToggleAlbumSubscription:()=>a.ToggleAlbumSubscription});var a=o(817474)},947009:(e,t,o)=>{o.d(t,{Action:()=>a.Action});var a=o(951461)},842600:(e,t,o)=>{o.d(t,{getAction:()=>S});var a=o(49932),i=o(55713),r=o(472949),n=o(738164),s=o(95917),l=o(484331),c=o(175962),d=o(443278),u=o(214825),p=o(116420),_=o(606784),g=o(818164),m=o(874611),v=o(503844);const S=e=>{switch(e.action?.type){case a.CatalogActionType.OPEN_URL:case a.CatalogActionType.OPEN_SECTION:return i.OpenSection;case a.CatalogActionType.OPEN_SEARCH_TAB:return r.OpenSearchTab;case a.CatalogActionType.CLEAR_RECENT_GROUPS:return n.ClearRecentGroups;case a.CatalogActionType.GROUPS_MY_GROUPS_TABS:return g.GroupsMyGroupsTabs;case a.CatalogActionType.BLOCK_FILTER:return s.BlockFilter;case a.CatalogActionType.OPEN_SECTION_SLIDER_CELL:return c.OpenSectionSliderCell;case a.CatalogActionType.ONBOARDING:return l.Onboarding;case a.CatalogActionType.SHOW_FILTERS:return d.ShowFilters;case a.CatalogActionType.PLAY_VIDEOS_FROM_BLOCK:return u.PlayVideosFromBlock;case a.CatalogActionType.TOGGLE_ALBUM_SUBSCRIPTION:return p.ToggleAlbumSubscription;case a.CatalogActionType.CREATE_ALBUM:return _.CreatePlaylist;case a.CatalogActionType.HIDE_BLOCK:return m.HideBlock;case a.CatalogActionType.SEARCH_SHOW_MORE:return v.SearchShowMore;default:return()=>null}}},395899:(e,t,o)=>{o.d(t,{AudioPlaylist:()=>I});var a=o(474848),i=o(293721),r=o(294691),n=o(213338),s=o(412888),l=o(285056),c=o(260546),d=o(139612),u=o(174269),p=o(641495),_=o(703488),g=o(351137),m=o(317216),v=o(657293),S=o(49932),C=o(432148),h=o(874921);const f="photo_270",I=({id:e,layout:t})=>{const{appCatalogService:o}=(0,u.useCatalogConfig)(),{ownerId:I}=(0,d.mapAPIRawIdToAudioIdentity)(String(e)),y=(0,u.useCatalogStoreMap)(o.musicPlaylistsService.$musicPlaylists,e),k=(0,u.useCatalogStoreMap)(o.groupsService.$groups,Math.abs(Number(I))),E=(0,i.useStoreMap)({store:o.profilesService.$profiles,keys:[I],fn:(e,[t])=>e.get(+t)}),T=y&&"playlist"===(0,r.getAudioPlaylistAlbumType)(y)?m.EventItemType.MUSIC_PLAYLIST:m.EventItemType.MUSIC_ALBUM,A=(0,g.useCollectClick)(),R=(0,v.useRefLogView)({type:T,trackCode:y?.track_code});if(!y)return null;const x=`/audio_playlist${e}`,{title:b,main_artists:L,thumbs:O,photo:w,year:V,track_code:P}=y,B=L?.length&&(0,_.createAuthorsString)(L)||(0,p.getOwnerName)(k||E);let N=O?.filter((e=>f in e)).map((e=>e[f]))||[];!N.length&&w&&f in w&&N.push(w[f]);const M=()=>{A({action:m.SearchClickActionMap.TAP,track_code:P,type:T})};switch(t){case S.CatalogBlockLayoutName.LARGE_SLIDER:return(0,a.jsx)(n.HorizontalCell,{size:"dynamic",header:(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Text,className:h.default.title,lines:1,children:b}),onClick:M,getRootRef:R,href:x,subtitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.TextClamp,{TypographyComponent:l.Subhead,className:h.default.subtitle,weight:"3",lines:1,children:[B," "]}),V&&(0,a.jsx)(l.Subhead,{weight:"3",className:h.default.year,children:V})]}),children:(0,a.jsx)(C.AudioPlaylistImage,{images:N,size:156})},e);case S.CatalogBlockLayoutName.LIST:return(0,a.jsx)(c.SimpleCell,{onClick:M,getRootRef:R,href:x,before:(0,a.jsx)(C.AudioPlaylistImage,{images:N,size:72}),subtitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:B}),V&&(0,a.jsx)(l.Subhead,{weight:"3",className:h.default.year,children:V})]}),children:(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:b})});default:return null}}},432148:(e,t,o)=>{o.d(t,{AudioPlaylistImage:()=>s});var a=o(474848),i=o(875730),r=o(952352),n=o(293116);const s=({images:e,size:t})=>e?.length?(0,a.jsx)(r.GridImage,{size:t,src:e}):(0,a.jsx)(n.Image,{size:t,children:(0,a.jsx)(i.Icon56PlaylistOutline,{width:t/2,height:t/2})})},984905:(e,t,o)=>{o.d(t,{AudioPlaylist:()=>a.AudioPlaylist});var a=o(395899)},703488:(e,t,o)=>{function a(e){return e?.map((({name:e})=>e)).join(", ")}o.d(t,{createAuthorsString:()=>a})},38113:(e,t,o)=>{o.d(t,{Banner:()=>u});var a=o(474848),i=o(296540),r=o(261880),n=o(418755),s=o(947009),l=o(174269),c=o(762855),d=o(704547);const u=e=>{const t=(0,i.useMemo)((()=>(0,r.extractItemsIds)(e)),[e]),o=(0,r.getBlockByDataType)(e),u=(0,n.getEventItemTypeByDataType)(e);return e.data_type===l.CatalogBlockDataType.GROUPS_COLLECTION?(0,a.jsx)(c.DoubleStackedList,{...e}):(0,a.jsx)("div",{children:t.map((t=>(0,a.jsxs)("div",{className:d.default.banner,children:[(0,a.jsx)(o,{...t,layout:e.layout.name,type:u}),(0,a.jsx)("div",{className:d.default.actionsWrapper,children:e.actions?.map(((e,o)=>(0,a.jsx)(s.Action,{id:t.id,action:e},e.track_code||o)))})]},t.id)))})}},105681:(e,t,o)=>{o.d(t,{Banner:()=>a.Banner});var a=o(38113)},261880:(e,t,o)=>{o.d(t,{extractItemsIds:()=>r,getBlockByDataType:()=>n});var a=o(49932),i=o(708109);const r=e=>e.data_type===a.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===a.CatalogBlockDataType.ALBUMS?i.Playlist:()=>null},484781:(e,t,o)=>{o.d(t,{Button:()=>s});var a=o(474848),i=o(296540),r=o(462770),n=o(418755);const s=e=>{const t=(0,i.useMemo)((()=>(0,r.extractItemsIds)(e)),[e]),o=(0,r.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,a.jsx)(i.Fragment,{children:t.map((t=>(0,a.jsx)(o,{...t,layout:e.layout.name,type:s},t.id)))})}},228555:(e,t,o)=>{o.d(t,{Button:()=>a.Button});var a=o(484781)},462770:(e,t,o)=>{o.d(t,{extractItemsIds:()=>n,getBlockByDataType:()=>s});var a=o(49932),i=o(418562),r=o(947009);const n=e=>e.data_type===a.CatalogBlockDataType.ACTION&&e.actions?.map((e=>({id:(0,i.default)(),action:e})))||[],s=e=>e.data_type===a.CatalogBlockDataType.ACTION?r.Action:()=>null},999541:(e,t,o)=>{o.d(t,{CatalogSeparator:()=>r});var a=o(474848),i=o(582192);const r=()=>(0,a.jsx)(i.Separator,{})},828433:(e,t,o)=>{o.d(t,{CatalogSeparator:()=>a.CatalogSeparator});var a=o(999541)},495799:(e,t,o)=>{o.d(t,{Chips:()=>p});var a=o(474848),i=o(296540),r=o(285056),n=o(293721),s=o(351118),l=o(947009),c=o(573856),d=o(540909),u=o(174269);const p=({actions:e,layout:t,...o})=>{const{appCatalogService:p}=(0,u.useCatalogConfig)(),_=(0,n.useStore)(p.onboardingService.$onboardingStatus),{title:g,subtitle:m}=t;return(0,i.useEffect)((()=>{if(_.status===c.OnboardingResponseStatus.SUCCESS){const e=setTimeout((()=>p.onboardingService.fireCompleteOnboarding()),3e3);return()=>clearTimeout(e)}}),[_.status]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,s.classNames)(d.default.chips,_.status===c.OnboardingResponseStatus.COMPLETE&&d.default.chipsHidden,_.status===c.OnboardingResponseStatus.SUCCESS&&d.default.chipsFadedOut),children:[(_.status===c.OnboardingResponseStatus.IDLE||_.status===c.OnboardingResponseStatus.PENDING)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Headline,{level:"1",className:d.default.chipsHeadline,children:g}),(0,a.jsx)(r.Subhead,{className:d.default.chipsSubhead,children:m})]}),e?.map(((e,a)=>(0,i.createElement)(l.Action,{...o,key:a,action:e,layout:t.name})))]})})}},476370:(e,t,o)=>{o.d(t,{Chips:()=>a.Chips});var a=o(495799)},459923:(e,t,o)=>{o.d(t,{DoubleStackedList:()=>p});var a=o(474848),i=o(296540),r=o(351118),n=o(149342),s=o(418755),l=o(174269),c=o(220208),d=o(591378),u=o(144033);const p=e=>{const t=(0,c.useAdaptivityWithJSMediaQueries)(),o=(0,n.getColumnsCount)(e.data_type,t),p=(0,n.getBlockByDataType)(e),_=(0,s.getEventItemTypeByDataType)(e),g=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e).map((t=>(0,i.createElement)(p,{...t,key:t.id,layout:e.layout.name,type:_})))),[e]),m=e.data_type===l.CatalogBlockDataType.ALBUMS;return(0,a.jsx)("div",{className:(0,r.classNames)(u.default.root,m&&u.default.rootWithoutGrid),children:m?g:(0,a.jsx)(d.Grid,{columns:o,spacing:8,children:g.map((e=>(0,a.jsx)(d.Grid.Item,{children:e},e.key)))})})}},762855:(e,t,o)=>{o.d(t,{DoubleStackedList:()=>a.DoubleStackedList});var a=o(459923)},149342:(e,t,o)=>{o.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>l,getColumnsCount:()=>c});var a=o(220208),i=o(49932),r=o(708109),n=o(689477);const s=e=>{switch(e.data_type){case i.CatalogBlockDataType.ALBUMS:return e?.albums_ids?.map((e=>({id:e})))||[];case i.CatalogBlockDataType.GROUPS_ITEMS:case i.CatalogBlockDataType.GROUPS_COLLECTION:return e.group_items||[];default:return[]}},l=e=>{switch(e.data_type){case i.CatalogBlockDataType.ALBUMS:return r.Playlist;case i.CatalogBlockDataType.GROUPS_ITEMS:case i.CatalogBlockDataType.GROUPS_COLLECTION:return n.GroupItem;default:return()=>null}},c=(e,t)=>{const o=(e=>{switch(e){case i.CatalogBlockDataType.GROUPS_ITEMS:case i.CatalogBlockDataType.GROUPS_COLLECTION:return!0;default:return!1}})(e);if(o&&t.viewWidth){return t.viewWidth>=a.ViewWidth.SMALL_TABLET?3:2}return 2}},111967:(e,t,o)=>{o.d(t,{GroupCategory:()=>C});var a=o(474848),i=o(296540),r=o(293721),n=o(213338),s=o(916388),l=o(260546),c=o(293116),d=o(49932),u=o(657293),p=o(317216),_=o(351118),g=o(22421),m=o(367887),v=o(174269);const S=({id:e,layout:t,action:o,group_items:i=[]})=>{const{appCatalogService:S}=(0,v.useCatalogConfig)(),C=(0,r.useStoreMap)({store:S.groupCategoryItemsService.$groupCategoryItems,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),h=(0,u.useRefLogView)({type:p.EventItemType.GROUP_CATEGORY_ITEM,trackCode:o?.track_code});if(!C)return null;const f=o?.action?.url,I=o?.section_id,y=f?(0,g.makeUrl)(f,{section_id:I||"",from:p.EventItemType.GROUP_CATEGORY_ITEM}):void 0,k=C.images?(0,_.getPhotoSize)(C.images,44*window.devicePixelRatio)?.url:void 0;if(!k||!C.name)return null;switch(t){case d.CatalogBlockLayoutName.TRIPLE_STACKED_SLIDER:return(0,a.jsx)(n.HorizontalCell,{getRootRef:h,"data-testid":"group_category_item_triple_stacked_slider_card",size:"dynamic",children:(0,a.jsx)(s.CommunityCategoryItem,{mode:"horizontal",src:k,title:C.name,href:y})});case d.CatalogBlockLayoutName.SMALL_SLIDER:return(0,a.jsx)(n.HorizontalCell,{getRootRef:h,"data-testid":"group_category_item_small_slider_card",size:"dynamic",children:(0,a.jsx)(s.CommunityCategoryItem,{mode:"vertical",src:k,title:C.name,href:y})});case d.CatalogBlockLayoutName.LARGE_SLIDER:return(0,a.jsx)(m.GroupCategoryLargeItem,{categoryItem:C,href:y,getRootRef:h,groupItems:i});case d.CatalogBlockLayoutName.LIST:return(0,a.jsx)(l.SimpleCell,{"data-testid":"group_category_list_item",getRootRef:h,href:y,before:(0,a.jsx)(c.Image,{borderRadius:"l",size:44,src:k}),children:C.name});default:return null}},C=(0,i.memo)(S)},367887:(e,t,o)=>{o.d(t,{GroupCategoryLargeItem:()=>l});var a=o(474848),i=o(469732),r=o(351118),n=o(225482),s=o(962125);const l=({categoryItem:e,getRootRef:t,href:o,groupItems:l})=>{const c=(0,n.useCommunityCollectionItems)(l),d=e.images?(0,r.getPhotoSize)(e.images,307*window.devicePixelRatio)?.url:void 0,u={title:e.link_text||"",href:o};return(0,a.jsx)("div",{className:s.default.largeSliderCard,ref:t,"data-testid":"group_category_item_large_slider_card",children:(0,a.jsx)(i.CommunityCollection,{title:e.name,action:u,coverSrc:d,items:c})})}},374154:(e,t,o)=>{o.d(t,{GroupCategory:()=>a.GroupCategory});var a=o(111967)},181719:(e,t,o)=>{o.d(t,{GroupCollection:()=>g});var a=o(474848),i=o(456921),r=o(866467),n=o(469732),s=o(723723),l=o(49932),c=o(657293),d=o(174269),u=o(225482),p=o(31987),_=o(140157);const g=(0,i.observer)((function({id:e,layout:t,type:o,group_items:i=[],isSingleItem:g}){const{groupsService:m}=(0,d.useCatalogGroupsContext)(),v=m?.getCollection?.(String(e)),S=g?6:3,C=i.slice(0,S),h=(0,u.useCommunityCollectionItems)(C),f=(0,p.getTrackCodesArray)(C),I=(0,c.useRefLogView)({type:o,trackCodes:f});if(!v)return null;const y=(0,p.getGroupCollectionCover)(v,g),k={title:(0,r.getLang)("groups_catalog_view_all"),href:v.url};return t===l.CatalogBlockLayoutName.SLIDER_CARD?(0,a.jsx)("div",{className:g?_.default.singleSliderCard:_.default.sliderCard,ref:I,"data-testid":"group_community_item_slider_card",children:(0,a.jsx)(n.CommunityCollection,{title:(0,a.jsx)("span",{className:(0,s.getColorClass)("color_text_contrast"),children:v.name}),action:k,coverSrc:y,subtitle:v.short_description,items:h,columns:g?2:1})}):null}))},716286:(e,t,o)=>{o.d(t,{GroupCollection:()=>a.GroupCollection});var a=o(181719)},31987:(e,t,o)=>{o.d(t,{getGroupCollectionCover:()=>r,getTrackCodesArray:()=>i});var a=o(351118);const i=e=>e.reduce(((e,t)=>(t.track_code&&e.push(t.track_code),e)),[]),r=(e,t)=>t&&e.images_wide?(0,a.getPhotoSize)(e.images_wide,window.innerWidth*window.devicePixelRatio)?.url:e.images?(0,a.getPhotoSize)(e.images,300*window.devicePixelRatio)?.url:void 0},859567:(e,t,o)=>{o.d(t,{CommonFriends:()=>c});var a=o(474848),i=o(837046),r=o(724244),n=o(723723),s=o(866467),l=o(984140);const c=({group:e})=>{const t=e.friends?.count||0,o=e.friends?.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[])??[],c=(0,l.getMembersCountText)(e.members_count);return t>0?(0,a.jsxs)(i.UsersStack,{photos:o,children:[c,(0,a.jsx)(r.InterpunctSeparator,{spacing:4}),(0,s.getLang)("groups_friends_count",t).replace("{count}",String(t))]}):(0,a.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:c})}},335203:(e,t,o)=>{o.d(t,{GroupInvite:()=>v});var a=o(474848),i=o(456921),r=o(276898),n=o(612196),s=o(220208),l=o(723723),c=o(49932),d=o(984140),u=o(174269),p=o(476806),_=o(859567),g=o(200512),m=o(569726);const v=(0,i.observer)((function({id:e,layout:t}){const{groupsService:o,profilesService:i,platformVars:v}=(0,u.useCatalogGroupsContext)(),S=Number(e),C=o?.getGroup(S),h=i?.getProfile(Number(C?.invited_by)),f=o?.getGroup(Math.abs(Number(C?.invited_by)));if(!C||!h&&!f)return null;const{hasSenderAvatar:I,avatarSize:y}=v?.groupInviteConfig||{avatarSize:48},k=h?`${h.first_name} ${h.last_name}`:f?.name||f?.screen_name||"",E=(0,m.getInviterHref)(h,f),T=h?.photo_100||f?.photo_100,A=o?.getIsLeftGroup?.(S)??!1,R=o?.checkSubscriptionLoading(S)??!1;return t===c.CatalogBlockLayoutName.LIST?(0,a.jsx)(r.RichCell,{before:(0,a.jsx)(n.Avatar,{size:y,src:C.photo_100,href:(0,d.getGroupUrl)(C),"aria-hidden":!0,tabIndex:-1}),caption:(0,a.jsx)(g.GroupInviteSender,{inviterName:k,inviterHref:E}),after:I&&(0,a.jsx)(n.Avatar,{size:48,src:T,alt:""}),bottom:(0,a.jsx)(_.CommonFriends,{group:C}),actions:(0,a.jsx)(p.GroupInviteActions,{groupId:S,groupIsLeft:A,isMember:C.is_member,subscriptionLoading:R,isEvent:"event"===C.type}),disabled:!0,"aria-disabled":!1,role:"",children:(0,a.jsx)(s.Tappable,{href:(0,d.getGroupUrl)(C),className:(0,l.getColorClass)("color_text_primary"),hoverMode:"",hasActive:!1,children:C.name})}):null}))},476806:(e,t,o)=>{o.d(t,{GroupInviteActions:()=>u});var a=o(474848),i=o(351137),r=o(454154),n=o(723723),s=o(175400),l=o(363046),c=o(866467),d=o(925228);const u=({groupId:e,isMember:t,groupIsLeft:o,subscriptionLoading:u,isEvent:p})=>{const{platformVars:_,groupsService:g}=(0,i.useCatalogGroupsContext)(),{negativeButtonMode:m,hasEventNotSureButton:v}=_?.groupInviteConfig||{},S=p&&v;return t?(0,a.jsx)(r.Button,{mode:"link",size:"s",before:(0,a.jsx)(d.Icon16CheckOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,a.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:(0,c.getLang)("notifications_group_invite_accept_success")})}):o?(0,a.jsx)(r.Button,{mode:"link",size:"s",onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,a.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:(0,c.getLang)("notifications_group_invite_decline_success")})}):(0,a.jsxs)(s.ButtonGroup,{mode:"horizontal",gap:"m",stretched:!0,children:[(0,a.jsx)(r.Button,{mode:"primary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.subscribe({group_id:e})},disabled:u,children:S?(0,c.getLang)("groups_event_action_will_go"):(0,c.getLang)("global_accept")}),S&&(0,a.jsx)(r.Button,{mode:"secondary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.subscribe({group_id:e,not_sure:"1"})},disabled:u,children:(0,c.getLang)("groups_event_action_maybe_will_go")}),(0,a.jsx)(r.Button,{mode:m,size:"s",onClick:t=>{(0,l.cancelEvent)(t),g?.unsubscribe({group_id:e})},disabled:u,children:S?(0,c.getLang)("groups_catalog_decline_invitation_event"):(0,c.getLang)("groups_decline")})]})}},200512:(e,t,o)=>{o.d(t,{GroupInviteSender:()=>c});var a=o(474848),i=o(731860),r=o(279734),n=o(723723),s=o(866467),l=o(174269);const c=({inviterName:e,inviterHref:t})=>{const{platformVars:o}=(0,l.useCatalogGroupsContext)(),{isClickableSender:c}=o?.groupInviteConfig||{},d=(0,s.getLang)("groups_tag_user_invite").replace("{user}",e),u=(0,s.getLang)("groups_user_invite").replace("{user}",e);return c&&t?(0,a.jsx)(i.LangTag,{tag:"tag",Component:r.Link,href:t,target:"_blank","aria-label":u,children:d}):(0,a.jsx)(i.LangTag,{tag:"tag",className:(0,n.getColorClass)("color_text_primary"),"aria-label":u,children:d})}},984839:(e,t,o)=>{o.d(t,{CommonFriends:()=>i.CommonFriends,GroupInvite:()=>a.GroupInvite});var a=o(335203),i=o(859567)},569726:(e,t,o)=>{o.d(t,{getInviterHref:()=>i});var a=o(984140);const i=(e,t)=>e?`/id${e.id}`:t?(0,a.getGroupUrl)(t):""},648061:(e,t,o)=>{o.d(t,{FavoriteActionSheetItemWidget:()=>p});var a=o(474848),i=o(456921),r=o(657842),n=o(786936),s=o(149333),l=o(507852),c=o(993031),d=o(132028);const u=(0,i.observer)((function(){const{groupsFavoriteService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:o}=(0,s.useLangs)(),i=t.is_favorite,d=e.getIsLoading(t.id);return void 0===i?null:(0,a.jsx)(l.DropdownActionSheet.Item,{before:i?(0,a.jsx)(r.Icon20BookmarkSlashOutline,{}):(0,a.jsx)(n.Icon20BookmarkOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:o(i?"groups_bookmark_delete":"groups_bookmark_add")})})),p=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},429057:(e,t,o)=>{o.d(t,{SubscribeActionSheetItemWidget:()=>g});var a=o(474848),i=o(456921),r=o(845794),n=o(507852),s=o(723723),l=o(149333),c=o(993031),d=o(132028),u=o(454236),p=o(174269);const _=(0,i.observer)((function(){const{groupsSubscribeService:e,group:t,trackCode:o}=(0,c.useGroupActionsSheetItemModel)(),{platformVars:i}=(0,p.useCatalogGroupsContext)(),{getLang:d}=(0,l.useLangs)(),_=e.getIsLoading(t.id);if(!t.is_member)return null;return(0,a.jsx)(n.DropdownActionSheet.Item,{loading:_,onClick:()=>{!t.is_member||t.is_closed!==u.GroupsGroupIsClosedEnumNames.CLOSED&&t.is_closed!==u.GroupsGroupIsClosedEnumNames.PRIVATE?e.leave({group_id:t.id,track_code:o}):i?.showConfirmModal?.({groupId:t.id,isAdmin:Boolean(t.is_admin),trackCode:o})},before:(0,a.jsx)(r.Icon20MinusSquareOutline,{className:(0,s.getColorClass)("color_icon_negative")}),children:d("groups_unsubscribe")})})),g=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,_)},333021:(e,t,o)=>{o.d(t,{WallSubscribeActionSheetItemWidget:()=>p});var a=o(474848),i=o(456921),r=o(971711),n=o(168325),s=o(149333),l=o(507852),c=o(993031),d=o(132028);const u=(0,i.observer)((function(){const{groupsWallSubscribeService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:o}=(0,s.useLangs)(),i=t.is_subscribed,d=e.getIsLoading(t.id);return void 0===i?null:(0,a.jsx)(l.DropdownActionSheet.Item,{before:i?(0,a.jsx)(r.Icon20NotificationSlashOutline,{}):(0,a.jsx)(n.Icon20NotificationOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:o(i?"wall_unsubscribe_from_posts":"wall_subscribe_to_posts")})})),p=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},569297:(e,t,o)=>{o.d(t,{FavoriteActionSheetItemWidget:()=>i.FavoriteActionSheetItemWidget,SubscribeActionSheetItemWidget:()=>a.SubscribeActionSheetItemWidget,WallSubscribeActionSheetItemWidget:()=>r.WallSubscribeActionSheetItemWidget});var a=o(429057),i=o(648061),r=o(333021)},948588:(e,t,o)=>{o.d(t,{GroupActionsSheetItemModelProvider:()=>u,useGroupActionsSheetItemModel:()=>d});var a=o(331635),i=o(276289),r=o(504715),n=o(734773),s=o(327813),l=o(132028);class c{[l.init]({group:e,trackCode:t}){this._group=e,this._trackCode=t}get trackCode(){if(!this._trackCode)throw new Error("Trying to use before initialization");return this._trackCode}get group(){if(!this._group)throw new Error("Trying to use before initialization");return this._group}constructor(e,t,o){this.groupsSubscribeService=e,this.groupsFavoriteService=t,this.groupsWallSubscribeService=o,(0,s.makeAutoObservable)(this)}}c=(0,a.__decorate)([l.scope.transient(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[void 0===i.GroupsSubscribeService?Object:i.GroupsSubscribeService,void 0===r.GroupsFavoriteService?Object:r.GroupsFavoriteService,void 0===n.GroupsWallSubscribeService?Object:n.GroupsWallSubscribeService])],c);const{useModel:d,Provider:u}=(0,l.createProvider)(c,{isolatedContext:!1,onlyTransient:!0})},993031:(e,t,o)=>{o.d(t,{GroupActionsSheetItemModelProvider:()=>a.GroupActionsSheetItemModelProvider,useGroupActionsSheetItemModel:()=>a.useGroupActionsSheetItemModel});var a=o(948588)},459983:(e,t,o)=>{o.d(t,{GroupItem:()=>B});var a=o(474848),i=o(665606),r=o(984140),n=o(49932),s=o(351137),l=o(657293),c=o(866467),d=o(723723),u=o(213338),p=o(412888),_=o(751268),g=o(224788),m=o(329477),v=o(260546),S=o(612196),C=o(84136),h=o(482199),f=o(532795),I=o(684273),y=o(351118),k=o(780345),E=o(454236),T=o(837333),A=o(468073),R=o(456921),x=o(296540),b=o(730710),L=o(536562),O=o(103941),w=o(918277),V=o(69381),P=o(621258);const B=(0,R.observer)((function({id:e,track_code:t,layout:o,type:R,itemIndex:B,description:N,counter:M,meta:D}){const{groupsService:j,platformVars:G}=(0,s.useCatalogGroupsContext)(),F=j?.getGroup(Number(e)),U=j?.checkSubscriptionLoading(Number(e)),H=(0,x.useCallback)((e=>{e?.stopPropagation(),e?.preventDefault(),F?.id&&!U&&(F.is_member||F.member_status===k.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?j?.unsubscribe({group_id:F.id,track_code:t}):j?.subscribe({group_id:F.id,track_code:t}))}),[F,t,U]),$=(0,l.useRefLogView)({type:R,trackCode:t,meta:D});if(!F)return null;const z=G?.openStories,W=(0,i.getUrlWithTrackCode)((0,r.getGroupUrl)(F),t,n.CatalogType.GROUPS),K=!!B&&B>3,Y=K?-1:0,q=F.cover?.images?(0,y.getPhotoSize)(F.cover.images,400*window.devicePixelRatio)?.url:void 0,Q=A.Ranges.convertGroupIdToOwnerId(F.id),Z=F.has_unseen_stories&&(F.is_member||F.is_closed===E.GroupsGroupIsClosedEnumNames.OPEN),J=e=>{Z&&z&&(e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),z(`${Q}/owner_feed${Q}`,{source:"avatar"})))},X=Boolean(F.verified)?{badgeIcon:(0,a.jsx)(w.RasterIcon24Verified,{alt:(0,c.getLang)("search_verified")}),icon:(0,a.jsx)(h.Icon16Verified,{})}:F.trust_mark===T.GroupsGroupFullTrustMarkEnumNames.PREMIUM?{badgeIcon:(0,a.jsx)(V.RasterIcon24CrownVerified,{"data-testid":"business_premium_icon",alt:(0,c.getLang)("search_business_premium")}),icon:(0,a.jsx)(f.Icon16CrownVerified,{"data-testid":"business_mark_verified"})}:F.trust_mark===T.GroupsGroupFullTrustMarkEnumNames.CONFIRMED?{badgeIcon:(0,a.jsx)(P.RasterIcon24BusinessVerified,{"data-testid":"business_confirmed_icon",alt:(0,c.getLang)("search_business_verified")}),icon:(0,a.jsx)(h.Icon16Verified,{className:(0,d.getColorClass)("color_icon_secondary"),"data-testid":"verified_business_icon"})}:null;switch(o){case n.CatalogBlockLayoutName.SMALL_LIST:return(0,a.jsx)(L.GroupItemActions,{group:F,href:W,onButtonClick:H,description:N,trackCode:t,showStoryHandler:J,hasUnseenStories:Z});case n.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(u.HorizontalCell,{size:"s",href:W,getRootRef:$,"data-testid":"group_item_slider",header:(0,a.jsx)(p.TextClamp,{lines:1,children:F.name}),"aria-label":F.name,noPadding:!0,children:(0,a.jsx)(_.RichAvatar,{size:n.SLIDER_AVATAR_SIZE_SM,nft:Boolean(F.is_nft_photo),src:F.photo_200,alt:"",children:X?.badgeIcon&&(0,a.jsx)(_.RichAvatar.Badge,{children:X.badgeIcon})})});case n.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.SLIDER_CARD:return(0,a.jsx)("div",{className:O.default.sliderCard,ref:$,"data-testid":"group_item_slider_card",children:(0,a.jsx)(g.RecommendationBlock.Card,{stretched:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!U,title:F.name||"",subtitle:F.activity||"",image:F.photo_400,href:W,badge:(0,r.getBadge)(F.members_count,F.friends),buttonLabel:F.is_member?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),hasButtonLoading:U,onButtonClick:H,verified:Boolean(F.verified),hasButtonDone:Boolean(F.is_member),"aria-label":F.name,ariaHidden:K,tabIndex:Y,buttonAriaHidden:K,buttonTabIndex:Y})});case n.CatalogBlockLayoutName.COMPACT_LIST:return(0,a.jsx)(m.CommunityListItem,{subtitle:(0,r.getMembersCountText)(F.members_count),getRootRef:$,photo:F.photo_100,href:W,checked:Boolean(F.is_member),loading:U,verified:Boolean(F.verified),onSubscribeClick:H,buttonAriaLabel:Boolean(F.is_member)?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),ariaLabel:F.name,children:F.name});case n.CatalogBlockLayoutName.LARGE_LIST:return(0,a.jsx)(v.SimpleCell,{before:(0,a.jsx)(S.Avatar,{src:F.photo_100,size:48,alt:""}),getRootRef:$,subtitle:F.activity,badgeAfterTitle:X?.icon,extraSubtitle:(0,r.getMembersCountText)(F.members_count),href:W,children:F.name});case n.CatalogBlockLayoutName.SLIDER_EVENT:return(0,a.jsx)("div",{className:O.default.sliderEvent,ref:$,"data-testid":"group_item_slider_event",children:(0,a.jsx)(C.EventCard,{title:(0,a.jsx)("span",{className:(0,d.getColorClass)("color_text_primary"),title:F.name,children:F.name}),avatar:F.photo_100,cover:q,href:W,descriptions:[{text:F.activity}],"aria-label":F.name,"aria-hidden":K,tabIndex:Y})});case n.CatalogBlockLayoutName.STACKED_LIST:return(0,a.jsx)("div",{className:O.default.stacked,ref:$,"data-testid":"group_item_stacked_event",children:(0,a.jsx)(C.EventCard,{title:(0,a.jsx)("span",{className:(0,d.getColorClass)("color_text_primary"),title:F.name,children:F.name}),avatar:F.photo_100,cover:q,href:W,descriptions:[{text:F.activity}],"aria-label":F.name})});case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:case n.CatalogBlockLayoutName.BANNER:return(0,a.jsx)("div",{className:O.default.stacked,ref:$,"data-testid":"group_item_double_stacked_list",children:(0,a.jsx)(g.RecommendationBlock.Card,{stretched:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!U,title:F.name||"",subtitle:F.activity||"",image:F.photo_400,href:W,badge:(0,r.getBadge)(F.members_count,F.friends),buttonLabel:F.is_member?(0,c.getLang)("groups_dd_you_in_group"):(0,c.getLang)("global_share_button_join_public"),hasButtonLoading:U,onButtonClick:H,verified:Boolean(F.verified),hasButtonDone:Boolean(F.is_member),"aria-label":F.name})});case n.CatalogBlockLayoutName.DOUBLE_LIST:return(0,a.jsx)(v.SimpleCell,{href:W,subtitle:F.activity,getRootRef:$,"data-testid":"group_item_list","aria-label":F.name,badgeAfterTitle:X?.icon,after:(0,a.jsx)(b.GroupItemCounter,{value:M}),hasHoverWithChildren:!0,before:(0,a.jsx)(_.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:(0,i.getAvatarOwnerSrc)(F),nft:Boolean(F.is_nft_photo),onClick:J,"aria-hidden":!0,tabIndex:-1,alt:"",children:Z&&(0,a.jsx)(_.RichAvatar.Outline,{appearance:"accent"})}),badgeBeforeSubtitle:Boolean(F.is_government_organization)&&(0,a.jsx)(I.Icon12Flag,{className:(0,d.getColorClass)("color_icon_tertiary")}),children:F.name});default:return null}}))},536562:(e,t,o)=>{o.d(t,{GroupItemActions:()=>h});var a=o(474848),i=o(456921),r=o(276898),n=o(751268),s=o(412888),l=o(285056),c=o(723723),d=o(279734),u=o(174269),p=o(730710),_=o(569297),g=o(351118),m=o(684273),v=o(866467),S=o(454236),C=o(103941);const h=(0,i.observer)((function({group:e,href:t,onButtonClick:o,trackCode:i,description:h,showStoryHandler:f,hasUnseenStories:I}){const{groupsService:y}=(0,u.useCatalogGroupsContext)(),k=y?.checkSubscriptionLoading(e.id),E=y?.getIsJoinedGroup?.(e.id),T=e.is_closed===S.GroupsGroupIsClosedEnumNames.PRIVATE,A=e.is_closed===S.GroupsGroupIsClosedEnumNames.CLOSED,R="event"===e.type;return(0,a.jsx)(r.RichCell,{className:!e.is_member&&(T||R&&A)?C.default.blur:"",before:(0,a.jsx)(n.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_L,src:e.photo_200,nft:!!e?.is_nft_photo,href:t,onClick:f,children:I&&(0,a.jsx)(n.RichAvatar.Outline,{appearance:"accent"})}),after:(0,a.jsx)(p.GroupItemAfter,{group:e,loading:k,canLeaveGroup:E,actionSheetContent:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.FavoriteActionSheetItemWidget,{group:e}),(0,a.jsx)(_.WallSubscribeActionSheetItemWidget,{group:e}),(0,a.jsx)(_.SubscribeActionSheetItemWidget,{group:e,trackCode:i})]}),toggleMembership:o}),afterAlign:"center",contentAlign:"center",extraSubtitle:(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Footnote,lines:1,children:e.is_government_organization?(0,a.jsxs)("div",{className:(0,g.classNames)(C.default.government,(0,c.getColorClass)("color_text_secondary")),children:[(0,a.jsx)(m.Icon12Flag,{className:C.default.governmentIcon}),(0,a.jsx)(l.Text,{weight:"2",children:(0,v.getLang)("search_search_government_label")})]}):h||e.activity}),bottom:(0,a.jsx)(p.GroupItemBottom,{membersCount:e.members_count,membersCountText:e.members_count_text}),children:Boolean(e.trust_mark)?(0,a.jsx)(p.GroupItemVerifiedLabel,{href:t,groupName:e.name,verifiedType:e.trust_mark}):(0,a.jsx)(d.Link,{href:t,className:(0,c.getColorClass)("color_text_primary"),children:(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"1",weight:"2",lines:1,children:e.name})})})}))},601778:(e,t,o)=>{o.d(t,{GroupItemAfter:()=>_});var a=o(474848),i=o(641412),r=o(866467),n=o(454154),s=o(700272),l=o(507852),c=o(723723),d=o(141575),u=o(454236),p=o(780345);const _=(0,o(456921).observer)((function({loading:e,canLeaveGroup:t,actionSheetContent:o,toggleMembership:_,group:g}){const m=g.is_closed===u.GroupsGroupIsClosedEnumNames.PRIVATE,v=g.is_closed===u.GroupsGroupIsClosedEnumNames.CLOSED,S=g.is_member,C="event"===g.type;if(g.ban_info||g.deactivated||m&&!S)return null;if(C&&v&&!S)return null;if(!S||t&&S){const t=()=>S?C?(0,r.getLang)("search_joined_event_group_btn"):(0,r.getLang)("search_joined_group_btn"):v?g.member_status===p.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?(0,r.getLang)("groups_cancel_application"):(0,r.getLang)("groups_apply"):C?(0,r.getLang)("search_join_event_group_btn"):(0,r.getLang)("search_join_group_btn");return(0,a.jsx)(n.Button,{minWidth:134,mode:"secondary",loading:e,disabled:e,onClick:_,"data-testid":"desktop_group_item_button",children:t()})}return o?e?(0,a.jsx)(i.IconButton,{disabled:!0,size:40,children:(0,a.jsx)(s.Spinner,{stretched:!1})}):(0,a.jsx)(l.DropdownActionSheet,{restoreFocus:!1,width:225,placement:"bottom-end",content:o,children:(0,a.jsx)(i.IconButton,{size:40,"data-testid":"desktop_group_item_button","aria-label":(0,r.getLang)("global_more"),children:(0,a.jsx)(d.Icon24MoreHorizontal,{className:(0,c.getColorClass)("color_icon_secondary")})})}):null}))},725819:(e,t,o)=>{o.d(t,{GroupItemBottom:()=>l});var a=o(474848),i=o(412888),r=o(285056),n=o(723723),s=o(984140);const l=(0,o(296540).memo)((function({membersCount:e,membersCountText:t,text:o}){const l=t??e?(0,s.getMembersCountText)(e):o;if(l)return(0,a.jsx)(i.TextClamp,{lines:1,children:(0,a.jsx)(r.Text,{weight:"3",className:(0,n.getColorClass)("color_text_secondary"),children:l})})}))},756880:(e,t,o)=>{o.d(t,{GroupItemCounter:()=>n});var a=o(474848),i=o(220208),r=o(350072);const n=({value:e,minCountForShowBadge:t=20})=>e?e>t?(0,a.jsx)(i.Badge,{mode:"new"}):(0,a.jsx)(r.Counter,{size:"s",children:e}):null},454526:(e,t,o)=>{o.d(t,{GroupItemVerifiedLabel:()=>d});var a=o(474848),i=o(456921),r=o(412888),n=o(285056),s=o(699032),l=o(279734),c=o(2901);const d=(0,i.observer)((function({verifiedType:e=1,groupName:t,href:o}){const i=(0,c.useTrustMarksLabel)(e);if(i)return(0,a.jsx)(r.TextClamp,{TypographyComponent:n.Headline,level:"1",weight:"2",lines:1,children:(0,a.jsx)(s.VerifiedLabel,{mode:"primary",href:o,icon:i.icon,tooltip:{text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Text,{children:i.tooltipText}),(0,a.jsx)(l.Link,{href:i.tooltipLink,target:"_blank",children:i.tooltipLinkText})]}),header:i.header,maxWidth:i.maxWidth},iconHref:i.iconHref,iconLabel:i.iconLabel,children:t})})}))},2901:(e,t,o)=>{o.d(t,{useTrustMarksLabel:()=>a.useTrustMarksLabel});var a=o(941030)},941030:(e,t,o)=>{o.d(t,{useTrustMarksLabel:()=>_});var a=o(474848),i=o(149333),r=o(482199),n=o(532795),s=o(279734),l=o(723723),c=o(837333);const d="/verify",u="/@business-otmetky-dlya-biznesa?anchor=otmetka-podtverzhd-nny-biznes",p="/@business-otmetky-dlya-biznesa?anchor=otmetka-premium-biznes",_=e=>{const{getLang:t}=(0,i.useLangs)();return e===c.GroupsGroupFullTrustMarkEnumNames.VERIFIED?{header:(0,a.jsx)(s.Link,{href:d,children:t("groups_catalog_verification_tooltip_title")}),tooltipText:t("groups_catalog_verification_tooltip_text"),tooltipLinkText:t("groups_catalog_verification_tooltip_blog_link"),tooltipLink:"/blog/verification",icon:(0,a.jsx)(r.Icon16Verified,{}),iconLabel:t("groups_main_verified_icon_text"),iconHref:d,maxWidth:237}:e===c.GroupsGroupFullTrustMarkEnumNames.PREMIUM?{tooltipText:t("groups_main_premium_mark_tooltip_text"),tooltipLinkText:t("groups_main_marks_tooltip_link_text"),tooltipLink:p,icon:(0,a.jsx)(n.Icon16CrownVerified,{className:(0,l.getColorClass)("color_icon_accent"),"data-testid":"business_mark_verified"}),iconLabel:t("groups_main_premium_mark_text"),iconHref:p,maxWidth:288}:e===c.GroupsGroupFullTrustMarkEnumNames.CONFIRMED?{tooltipText:t("groups_main_confirmed_mark_tooltip_text"),tooltipLinkText:t("groups_main_marks_tooltip_link_text"),tooltipLink:u,icon:(0,a.jsx)(r.Icon16Verified,{className:(0,l.getColorClass)("color_icon_secondary"),"data-testid":"verified_business_icon"}),iconLabel:t("groups_main_confirmed_mark_text"),iconHref:u,maxWidth:237}:null}},730710:(e,t,o)=>{o.d(t,{GroupItemAfter:()=>a.GroupItemAfter,GroupItemBottom:()=>i.GroupItemBottom,GroupItemCounter:()=>n.GroupItemCounter,GroupItemVerifiedLabel:()=>r.GroupItemVerifiedLabel});var a=o(601778),i=o(725819),r=o(454526),n=o(756880)},689477:(e,t,o)=>{o.d(t,{GroupItem:()=>a.GroupItem});var a=o(459983)},984140:(e,t,o)=>{o.d(t,{getBadge:()=>s,getGroupUrl:()=>r,getMembersCountText:()=>n});var a=o(866467),i=o(908671);const r=e=>e.screen_name?`/${e.screen_name}`:`/club${e.id}`,n=(e=0)=>{const t=(0,i.formatCount)(e),o=e<1e3?e:0;return(0,a.getLang)("groups_catalog_subscribers_count",o).replace(String(o),t)},s=(e,t)=>{if(!t||!t.count)return{text:n(e)};const o=t.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[]);return{photos:o,text:(0,a.getLang)("groups_subscribed_friends",t.count)}}},527607:(e,t,o)=>{o.d(t,{HeaderCompact:()=>v});var a=o(474848),i=o(296540),r=o(293721),n=o(552292),s=o(557992),l=o(947009),c=o(351118),d=o(540462),u=o(174269),p=o(743395),_=o(418755),g=o(409323),m=o(327677);const v=({actions:e,layout:t,badge:o,data_type:v,...S})=>{const C=(0,d.partConfigEnabled)("search_enable_new_design_catalog_header"),h=(0,d.partConfigEnabled)("video_showcase_mvk_continue_watch_design_fixes"),f="small"===t.style,I=(0,u.useScrollToBlockById)(S.id),{appCatalogService:y}=(0,u.useCatalogConfig)(),k=(0,r.useStore)(y.pageService.$pageId),E=(0,d.partConfigEnabled)("video_mvk_fix_playlist_actions_disappear")?"Playlist"===k:"video_playlist"===window.cur.screen;return(0,a.jsxs)(a.Fragment,{children:[I,h?(0,a.jsx)(n.HeaderLayout,{className:m.default.header,aside:!e&&E?(0,a.jsx)(g.PlaylistActions,{}):e?.map(((e,o)=>(0,i.createElement)(l.Action,{...S,key:e.track_code||o,action:e,layout:t.name,dataTestId:(0,_.getClipDataTestId)(e)||(0,_.getGroupItemsDataTestId)({layout:t,type:e.action?.type,isAction:Boolean(e.action)})}))),children:(0,a.jsx)(s.Header,{indicator:(0,a.jsx)(p.HeaderIndicator,{badge:o}),size:C&&!f?"large":"small",mode:C?"primary":"secondary",className:(0,c.classNames)(!C&&"CatalogHeaderCompact"),"data-testid":(0,_.getGroupItemsDataTestId)({layout:t,type:v,isAction:Boolean(e?.length)})||"catalog-header-section-block",children:t.title})}):(0,a.jsx)(s.Header,{indicator:(0,a.jsx)(p.HeaderIndicator,{badge:o}),size:C&&!f?"large":"small",mode:C?"primary":"secondary",className:(0,c.classNames)(m.default.header,!C&&"CatalogHeaderCompact"),aside:e?.map(((e,o)=>(0,i.createElement)(l.Action,{...S,key:e.track_code||o,action:e,layout:t.name,dataTestId:(0,_.getClipDataTestId)(e)}))),children:t.title})]})}},264383:(e,t,o)=>{o.d(t,{HeaderCompact:()=>a.HeaderCompact});var a=o(527607)},705303:(e,t,o)=>{o.d(t,{HeaderIndicator:()=>r});var a=o(474848),i=o(350072);const r=({badge:e})=>e?.text?"prominent"===e?.type?(0,a.jsx)(i.Counter,{size:"s",mode:"prominent",children:e.text}):(0,a.jsx)(a.Fragment,{children:e.text}):null},743395:(e,t,o)=>{o.d(t,{HeaderIndicator:()=>a.HeaderIndicator});var a=o(705303)},630667:(e,t,o)=>{o.d(t,{HeaderLarge:()=>p});var a=o(474848),i=o(296540),r=o(557992),n=o(293116),s=o(947009),l=o(766824),c=o(743395),d=o(293721),u=o(174269);const p=({actions:e,layout:t,badge:o,...p})=>{const{appCatalogService:_}=(0,u.useCatalogConfig)(),g=(0,d.useStore)(_.pageService.$catalogType)===u.CatalogType.GROUPS?(0,l.getOpenSectionHref)(e):void 0;return(0,a.jsx)(r.Header,{size:"large",href:g,mode:"primary",indicator:(0,a.jsx)(c.HeaderIndicator,{badge:o}),before:t.icon&&(0,a.jsx)(n.Image,{src:t.icon,size:28,borderRadius:"l"}),aside:e?.map(((e,o)=>(0,i.createElement)(s.Action,{...p,key:e.track_code||o,action:e,layout:t.name,ariaLabel:t.title}))),"aria-label":t.title,children:t.title})}},900417:(e,t,o)=>{o.d(t,{HeaderLarge:()=>a.HeaderLarge});var a=o(630667)},766824:(e,t,o)=>{o.d(t,{getOpenSectionHref:()=>a});const a=e=>e?.find((e=>"open_section"===e.action?.type))?.action?.url},216629:(e,t,o)=>{o.d(t,{Link:()=>b});var a=o(474848),i=o(314799),r=o(632731),n=o(751268),s=o(293116),l=o(213338),c=o(412888),d=o(260546),u=o(220208),p=o(918277),_=o(69381),g=o(621258),m=o(802139),v=o(424060),S=o(418755),C=o(931040),h=o(900388),f=o(49932),I=o(317216),y=o(911922),k=o(657293),E=o(351137),T=o(174269),A=o(856289),R=o(866467),x=o(342079);const b=({id:e,layout:t,type:o})=>{const{appCatalogService:b}=(0,E.useCatalogConfig)(),L=(0,E.useCollectClick)(),O=(0,T.useCatalogStoreMap)(b.linksService.$links,e),w=O?.meta?.track_code,V=(0,k.useRefLogView)({type:o,trackCode:w}),P=(0,i.useHelpHint)(r.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU),B=(0,i.useHelpHint)(r.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION);if(!O)return null;const N=O?.url,M=()=>{L({track_code:w,type:o,action:I.SearchClickActionMap.TAP})},D=(0,y.getImageSrc)(t,O?.image);switch(t){case"slider":const e="verified"===O?.meta?.icon?(0,a.jsx)(p.RasterIcon24Verified,{alt:(0,R.getLang)("search_verified")}):O?.meta?.trust_mark===m.VideoCatalogLinkMetaTrustMarkEnumNames.PREMIUM?(0,a.jsx)(_.RasterIcon24CrownVerified,{alt:(0,R.getLang)("search_business_premium")}):O?.meta?.trust_mark===m.VideoCatalogLinkMetaTrustMarkEnumNames.CONFIRMED?(0,a.jsx)(g.RasterIcon24BusinessVerified,{alt:(0,R.getLang)("search_business_verified")}):null,t="mini_app"!==O?.meta?.content_type?(0,a.jsx)(n.RichAvatar,{size:f.SLIDER_AVATAR_SIZE_SM,src:D,nft:Boolean(O?.is_nft),children:e&&(0,a.jsx)(n.RichAvatar.Badge,{children:e})}):(0,a.jsx)(s.Image,{src:D,size:f.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:e&&(0,a.jsx)(s.Image.Badge,{children:e})});return(0,a.jsx)(l.HorizontalCell,{"data-testid":"link_slider",getRootRef:V,size:"s",header:(0,a.jsx)(c.TextClamp,{lines:2,children:O.title}),href:N,onClick:M,children:t});case"triple_stacked_slider":return(0,a.jsx)(v.TripleStackedSliderLinkItem,{href:N,ref:V,avatarSrc:D,onClick:M,title:O.title||""});case"list":return(0,a.jsx)(d.SimpleCell,{"data-testid":"link_list",getRootRef:V,href:N,before:(0,y.isContentTypeUrl)(O)?(0,a.jsx)("div",{className:x.default.iconUrl,children:(0,a.jsx)(C.Icon28LinkOutline,{})}):(0,a.jsx)(s.Image,{size:f.CATALOG_AVATAR_SIZE_M,src:D,borderRadius:"l"}),after:(0,y.isArrowVisible)(O)?(0,a.jsx)(h.Icon28ChevronRightOutline,{}):void 0,subtitle:O.subtitle,onClick:M,children:O.title});case"small_list":return(0,a.jsx)(u.OnboardingTooltipContainer,{fixed:!0,children:(0,a.jsx)(d.SimpleCell,{"data-testid":"link_small_list",getRootRef:V,href:N,before:(0,S.testBookmarksSection)(N)&&P&&B?(0,a.jsx)(A.MenuHelpHintTooltip,{helpHint:P,placement:"top-start",maxWidth:262,children:(0,a.jsx)("img",{className:x.default.iconSmall,src:D})}):(0,a.jsx)("img",{className:x.default.iconSmall,src:D}),expandable:"always",onClick:M,children:O.title})});default:return null}}},424060:(e,t,o)=>{o.d(t,{TripleStackedSliderLinkItem:()=>c});var a=o(474848),i=o(296540),r=o(482199),n=o(49932),s=o(260546),l=o(751268);const c=(0,i.forwardRef)((({href:e,onClick:t,title:o,isVerified:i,avatarSrc:c},d)=>(0,a.jsx)(s.SimpleCell,{"data-testid":"link_triple_stacked_slider",getRootRef:d,onClick:t,href:e,before:(0,a.jsx)(l.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:c,onClick:t}),badgeAfterTitle:i?(0,a.jsx)(r.Icon16Verified,{}):null,children:o})));c.displayName="TripleStackedSliderLinkItem"},677707:(e,t,o)=>{o.d(t,{Link:()=>a.Link});var a=o(216629)},911922:(e,t,o)=>{o.d(t,{getImageSrc:()=>n,isArrowVisible:()=>r,isContentTypeUrl:()=>i});var a=o(898848);const i=e=>"url"===e.meta?.content_type,r=e=>!i(e)&&!["curator","artist"].includes(e?.meta?.content_type??""),n=(e,t)=>{if(!t||!t?.length)return"";const[o,i,r]=t;return"small_list"===e?r?.url??"":(0,a.isRetina)()&&i?.url?i.url:o?.url??""}},166617:(e,t,o)=>{o.d(t,{List:()=>C});var a=o(474848),i=o(296540),r=o(172656),n=o(209808),s=o(49932),l=o(418755),c=o(351118),d=o(842600),u=o(351137),p=o(293721),_=o(174269),g=o(982058),m=o(878701),v=o(780571);const S=e=>{switch(e.data_type){case s.CatalogBlockDataType.LINKS:return null;case s.CatalogBlockDataType.VIDEOS:return"CatalogList--small";case s.CatalogBlockDataType.NEWSFEED_ITEMS:return"CatalogList--statuses";case s.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return"card"===e.layout.style?(0,c.classNames)("CatalogList--no-bottom","CatalogList--entity-card"):(0,c.classNames)("CatalogList--no-bottom",v.default.searchEntityFlat,0===e.blockIndex&&v.default.searchEntityFlatFirst)}if(0===e.blockIndex)return"CatalogList--no-header"},C=e=>{const{blockResolvers:t,appCatalogService:o}=(0,u.useCatalogConfig)(),v=(0,p.useStore)(o.pageService.$catalogType),{data_type:C,layout:h,actions:f}=e,I=(0,p.useStore)(o.catalogService.$loadingBlockIds),y=t?.[h.name]?.(e)||(0,g.getBlockByDataType)(e),k=C===s.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION,E=C===s.CatalogBlockDataType.NEWSFEED_ITEMS,T=(0,l.getEventItemTypeByDataType)(e),A=I.includes(e.id),R=(0,i.useMemo)((()=>{const t=(0,l.extractItemsIds)(e),o=(0,l.getMaxItemsByBlock)(e);return o?[...(0,_.chunks)(t,o)]:[t]}),[e]);return(0,a.jsx)(a.Fragment,{children:R.map(((t,o)=>(0,a.jsxs)(r.Group,{"data-suggester-item":k,mode:"plain",separator:"hide",className:(0,c.classNames)("CatalogList",v===s.CatalogType.GROUPS&&"CatalogList--groups",S(e)),children:[f?.map(((t,o)=>{const a=(0,d.getAction)(t);return(0,i.createElement)(a,{...e,key:t.track_code||o,action:t,layout:h.name})})),A&&(0,a.jsx)(n.PanelSpinner,{}),!A&&(E&&(0,m.isResizeObserverSupported)()?(0,a.jsx)(_.VirtualList,{items:t,Item:y}):t.map((t=>(0,i.createElement)(y,{...t,key:t.id,layout:e.layout.name,block_id:e.id,blockActions:e.actions,type:T,onOwnerActionClick:e.onOwnerActionClick}))))]},t[0]?.id||o)))})}},897907:(e,t,o)=>{o.d(t,{List:()=>a.List});var a=o(166617)},982058:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>_});var a=o(49932),i=o(677707),r=o(657210),n=o(708109),s=o(469335),l=o(214955),c=o(762817),d=o(984905),u=o(374154),p=o(984839);const _=e=>{switch(e.data_type){case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return u.GroupCategory;case a.CatalogBlockDataType.GROUPS_INVITES:return p.GroupInvite;case a.CatalogBlockDataType.LINKS:return i.Link;case a.CatalogBlockDataType.VIDEOS:return r.Video;case a.CatalogBlockDataType.ALBUMS:return n.Playlist;case a.CatalogBlockDataType.SEARCH_SUGGESTIONS:return l.SearchSuggestion;case a.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return s.Suggestion;case a.CatalogBlockDataType.MUSIC_AUDIOS:return c.MusicAudios;case a.CatalogBlockDataType.MUSIC_PLAYLISTS:return d.AudioPlaylist;default:return()=>null}}},179987:(e,t,o)=>{o.d(t,{MarketItem:()=>O});var a=o(474848),i=o(296540),r=o(293721),n=o(930291),s=o(206412),l=o(482199),c=o(534492),d=o(167751),u=o(865416),p=o(106965),_=o(49932),g=o(317216),m=o(351137),v=o(657293),S=o(469821),C=o(213338),h=o(279734),f=o(293116),I=o(783856),y=o(271036),k=o(723723),E=o(285056),T=o(211114),A=o(220208),R=o(412888),x=o(665606),b=o(174269),L=o(245665);const O=({id:e,type:t,layout:o})=>{const{appCatalogService:O}=(0,m.useCatalogConfig)(),w=(0,m.useCollectClick)(),[[V]]=(0,i.useState)((0,x.extractIds)(e)),[P,B]=(0,S.useElementSize)(),N=(0,b.useCatalogStoreMap)(O.marketItemsService.$marketItems,e),M=(0,b.useCatalogStoreMap)(O.groupsService.$groups,Math.abs(V)),D=(0,b.useCatalogStoreArray)(O.marketItemsService.$marketItemPendingIds,String(e)),j=(0,r.useStore)(O.pageService.$catalogType),G=N?.track_code,F=(0,v.useRefLogView)({type:t,trackCode:G}),U=e=>{w({track_code:G,type:t,action:e})},H=()=>U(g.SearchClickActionMap.TAP),$=(0,i.useCallback)((()=>{O.searchRecentService.fireAddRecent({owner_ids:`-${M?.id}`})}),[M]),z=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!D&&N&&(N.is_favorite?(U(g.SearchClickActionMap.UNFAVE),O.marketItemsService.fireRemoveFavorite({id:N.id,owner_id:N.owner_id})):(U(g.SearchClickActionMap.FAVE),O.marketItemsService.fireMakeFavorite({params:{id:N.id,owner_id:N.owner_id}})))}),[N,D]),W=(0,i.useMemo)((()=>{switch(o){case _.CatalogBlockLayoutName.SLIDER:return(0,p.getClosestImage)(N?.thumb||[],_.MARKET_ITEM_AVATAR_SIZE_SM)?.url??"";case _.CatalogBlockLayoutName.STACKED_LIST:return B.width?(0,p.getClosestImage)(N?.thumb||[],B.width)?.url??N?.thumb_photo??"":"";default:return N?.thumb_photo??""}}),[o,N,B.width]);if(!N)return null;const K=(0,x.getUrlWithTrackCode)((0,p.getMarketItemUrl)(N),G,j),Y={"--image-height":`${B.width}px`};switch(o){case _.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(C.HorizontalCell,{"data-testid":"market_item_slider",getRootRef:F,size:"dynamic",className:"CatalogMarketItem",onClick:H,children:(0,a.jsxs)("div",{className:"CatalogMarketItem__inner",children:[(0,a.jsxs)(h.Link,{className:"CatalogMarketItem__avatar",hasHover:!1,href:K,children:[(0,a.jsx)(f.Image,{size:_.MARKET_ITEM_AVATAR_SIZE_SM,src:W}),(0,a.jsx)(I.Overlay,{placement:"top-right",children:(0,a.jsx)(y.IconButton,{"data-testid":"market_item_favorite",size:48,className:(0,k.getColorClass)("color_icon_primary"),onClick:z,children:N.is_favorite?(0,a.jsx)(n.Icon28Favorite,{}):(0,a.jsx)(s.Icon28FavoriteOutline,{})})})]}),(0,a.jsx)(h.Link,{className:"CatalogMarketItem__title",hasHover:!1,href:K,children:N.title}),(0,a.jsx)(E.Text,{weight:"1",className:"CatalogMarketItem__price",children:N.price.text}),M&&(0,a.jsxs)(h.Link,{className:"CatalogMarketItem__owner",hasHover:!1,href:`/${M.screen_name}`,onClick:$,children:[(0,a.jsx)("span",{className:"CatalogMarketItem__ownerName",children:M.name}),Boolean(M.verified)&&(0,a.jsx)("span",{className:"CatalogMarketItem__ownerIcon",children:(0,a.jsx)(l.Icon16Verified,{})})]})]})});case _.CatalogBlockLayoutName.STACKED_LIST:return(0,a.jsx)(T.Card,{"data-testid":"market_item_stacked_list",className:L.default.card,mode:"tint",children:(0,a.jsxs)(A.Tappable,{href:K,hasActive:!1,hasHover:!1,onClick:H,children:[(0,a.jsxs)("div",{className:L.default.imageWrapper,ref:P,style:Y,children:[W?(0,a.jsx)("img",{className:L.default.image,src:W,width:"100%",height:"100%",alt:N.title}):(0,a.jsx)(c.Icon56MarketOutline,{}),(0,a.jsx)(I.Overlay,{placement:"top-right",children:(0,a.jsx)(y.IconButton,{"data-testid":"market_item_favorite",className:(0,k.getColorClass)("color_icon_primary"),onClick:z,children:N.is_favorite?(0,a.jsx)(d.Icon28Bookmark,{}):(0,a.jsx)(u.Icon28BookmarkOutline,{})})})]}),(0,a.jsxs)("div",{className:L.default.body,children:[(0,a.jsx)(R.TextClamp,{TypographyComponent:E.Footnote,lines:1,weight:"3",className:L.default.subtitle,children:N.title}),(0,a.jsxs)(E.Subhead,{className:L.default.header,weight:"1",children:[(0,a.jsx)("span",{children:N.price.text}),N.price.old_amount_text&&(0,a.jsx)(E.Footnote,{weight:"3",className:L.default.oldPrice,children:N.price.old_amount_text})]}),M&&(0,a.jsxs)(E.Footnote,{className:L.default.group,weight:"3",children:[(0,a.jsx)(R.TextClamp,{lines:1,className:L.default.caption,children:M.name}),!!M.verified&&(0,a.jsx)(l.Icon16Verified,{className:L.default.verified})]})]})]})});default:return null}}},726984:(e,t,o)=>{o.d(t,{MarketItem:()=>a.MarketItem});var a=o(179987)},106965:(e,t,o)=>{o.d(t,{getClosestImage:()=>r,getMarketItemUrl:()=>i});var a=o(898848);const i=e=>`/product${e.owner_id}_${e.id}`,r=(e,t)=>{(0,a.isRetina)()&&(t*=2);return e.sort(((e,o)=>{const a=Math.max(e.width,e.height),i=Math.max(o.width,o.height),r=Math.abs(a-t),n=Math.abs(i-t);return r===n?i-a:r-n}))[0]}},430819:(e,t,o)=>{o.d(t,{MusicAudios:()=>v});var a=o(474848),i=o(351118),r=o(34897),n=o(642852),s=o(293721),l=o(29560),c=o(351137),d=o(317216),u=o(657293),p=o(866467),_=o(174269),g=o(139612),m=o(261233);const v=({id:e,type:t})=>{const{musicPlayer:o,userId:v,appCatalogService:S}=(0,c.useCatalogConfig)(),{id:C}=(0,g.mapAPIRawIdToAudioIdentity)(String(e)),h=(0,s.useStoreMap)(S.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),f=(0,_.useCatalogStoreMap)(S.audioService.$audioItems,e),I=(0,s.useStore)(S.audioService.$audioModifiedItems),y=I?.[C],k=(0,l.useAudioPlayer)(),E=(0,c.useCollectClick)(),T=(0,u.useRefLogView)({type:t,trackCode:f?.track_code});if(!f)return null;const A=k?.currentAudio?.id===f?.id,R=A&&"playing"===k.status;return(0,a.jsx)("div",{ref:T,children:(0,a.jsx)(n.MusicCell,{thumb:f?.album?.thumb?.photo_135,title:f.title,artists:[{name:f.artist}],duration:f.duration,hasThumbPlaying:R,hasThumbActivated:A,explicit:f.is_explicit,onClick:()=>{if(E({action:R?d.SearchClickActionMap.PAUSE:d.SearchClickActionMap.PLAY,track_code:f.track_code,type:t}),R)k?.platformAudioPlayer?.pause();else{const e=o?.playlistType&&{ownerId:v,albumId:f?.id,type:o.playlistType};k?.platformAudioPlayer?.playAudio(f,h,k?.audioPlayerContext,e)}},after:(0,a.jsx)(r.Icon24MoreVertical,{className:m.default.moreIcon,onClick:e=>{e.stopPropagation();const a=!!y?.isAdded||!y?.isDeleted&&f.owner_id===v,i={action:a?d.SearchClickActionMap.REMOVE_FROM_ME:d.SearchClickActionMap.ADD_TO_ME,track_code:f.track_code,type:t},r={audio_id:f.id,owner_id:f.owner_id,user_id:v,access_key:f.access_key||""},n={buttonText:a?(0,p.getLang)("global_delete_audio"):(0,p.getLang)("global_add_to_audio"),target:e.currentTarget,onButtonClick:(s=()=>(a?S.audioService.deleteAudioFromMyList:S.audioService.addAudioToMyList)(r),l=i,(...e)=>{E(l),s(...e)})};var s,l;o?.openAudioActions?.(n)}}),thumbSize:48,className:(0,i.classNames)(m.default.musicCell,m.default.padding)})})}},762817:(e,t,o)=>{o.d(t,{MusicAudios:()=>a.MusicAudios});var a=o(430819)},613719:(e,t,o)=>{o.d(t,{NextFrom:()=>l});var a=o(474848),i=o(293721),r=o(456921),n=o(564508),s=o(174269);const l=(0,r.observer)((function({nextFrom:e,sectionId:t,rootMargin:o,loaderLineHeight:r}){const{appCatalogService:l}=(0,s.useCatalogConfig)(),c=(0,i.useStore)(l.catalogService.$isSectionPending),d=(0,i.useStore)(l.catalogService.$loadingBlockIds),u=(0,i.useStore)(l.catalogService.$fetchSectionError),{currentSectionService:p}=(0,s.useCatalogHandlersContext)();return t&&0===d.length?(0,a.jsx)(n.DynamicPagination,{isLoading:p?p.checkNextLoading():c,fetchData:()=>{const o={section_id:t,start_from:e};p?p.fetchNext():l.catalogService.fireGetSection(o)},fetchError:u,nextFrom:e,rootMargin:o,loaderLineHeight:r,dontSavePrevious:!0}):null}))},705470:(e,t,o)=>{o.d(t,{NextFrom:()=>a.NextFrom});var a=o(613719)},853883:(e,t,o)=>{o.d(t,{Placeholder:()=>m});var a=o(474848),i=o(720836),r=o(866467),n=o(293721),s=o(49932),l=o(147853),c=o(351118),d=o(351137),u=o(296540),p=o(934393);const _={[s.CatalogBlockLayoutName.PLACEHOLDER]:56,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:100,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:100},g={[s.CatalogBlockLayoutName.PLACEHOLDER]:p.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:p.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_BIG]:p.default.placeholderBig,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:p.default.placeholderStretched},m=({placeholder_ids:e,layout:t})=>{const{appCatalogService:o}=(0,d.useCatalogConfig)(),{setContentRestricted:m}=(0,d.useCatalogSearch)(),v=(0,n.useStore)(o.placeholdersService.$placeholders),S=_[t.name];return(0,u.useEffect)((()=>{if(t.name===s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY){const e=setTimeout((()=>m(!0)));return()=>{clearTimeout(e),m(!1)}}}),[t.name]),(0,a.jsx)("div",{className:(0,c.classNames)(p.default.placeholder,g[t.name]),children:e?.map((e=>{const t=v.get(e);if(!t)return null;const o=t.buttons?.map(((t,o)=>{const i=(0,l.getButton)(t);return(0,a.jsx)(i,{id:e,button:t},o)}));return(0,a.jsx)(i.Placeholder,{header:t.title,action:o,icon:t.icons&&(0,a.jsx)("img",{className:p.default.image,width:S,height:S,srcSet:t.icons.map(((e,t)=>`${e.url} ${t+1}x`)).join(", "),alt:t.title}),children:t.text||(0,r.getLang)("mobile_search_no_found_summary")},e)}))})}},683766:(e,t,o)=>{o.d(t,{StartLive:()=>n});var a=o(474848),i=o(454154),r=o(174269);const n=({button:e})=>{const{openLiveSettings:t,liveEnabled:o}=(0,r.useCatalogVideo)();return(0,a.jsx)(a.Fragment,{children:o&&(0,a.jsx)(i.Button,{size:"m",mode:"primary",onClick:()=>{t({ownerId:e.owner_id})},children:e.title})})}},72736:(e,t,o)=>{o.d(t,{StartLive:()=>a.StartLive});var a=o(683766)},86658:(e,t,o)=>{o.d(t,{UploadVideo:()=>s});var a=o(474848),i=o(454154),r=o(293721),n=o(351137);const s=({button:e})=>{const{appCatalogService:t}=(0,n.useCatalogConfig)(),{openVideoUploader:o}=(0,n.useCatalogVideo)(),s=(0,r.useStoreMap)({store:t.playlistService.$playlistItems,keys:[e.owner_id||0,e.album_id||0],fn:(e,[t,o])=>e.find((({id:e,owner_id:a})=>e===o&&a===t))});return(0,a.jsx)(i.Button,{size:"m",mode:"primary",onClick:()=>{o({playlist:s})},children:e.title})}},263074:(e,t,o)=>{o.d(t,{UploadVideo:()=>a.UploadVideo});var a=o(86658)},681776:(e,t,o)=>{o.d(t,{Placeholder:()=>a.Placeholder});var a=o(853883)},147853:(e,t,o)=>{o.d(t,{getButton:()=>n});var a=o(263074),i=o(49932),r=o(72736);const n=e=>{switch(e.action?.type){case i.CatalogActionType.UPLOAD_VIDEO:return a.UploadVideo;case i.CatalogActionType.START_LIVE:return r.StartLive;default:return()=>null}}},733901:(e,t,o)=>{o.d(t,{Playlist:()=>T});var a=o(474848),i=o(296540),r=o(293721),n=o(866467),s=o(49932),l=o(831312),c=o(603710),d=o(671112),u=o(980353),p=o(402711),_=o(612570),g=o(657293),m=o(317216),v=o(314309),S=o(665606),C=o(351137),h=o(531424),f=o(792698),I=o(591485),y=o(172479),k=o(222062),E=o(174269);const T=({id:e,layout:t,type:o,badge:T})=>{const{appCatalogService:A}=(0,C.useCatalogConfig)(),[R,x]=e.toString().split("_"),{openPlaylistActions:b,isVideoPWA:L,isVideoStandalone:O}=(0,C.useCatalogVideo)(),w=(0,C.useCollectClick)(),V=(0,u.useWindowWidth)(),P=(0,r.useStore)(A.pageService.$catalogType),B=(0,r.useStore)(A.$isStandaloneSection),N=(0,r.useStoreMap)({store:A.playlistService.$playlistItems,keys:[R,x],fn:(e,[t,o])=>e.find((({id:e,owner_id:a})=>e===+o&&a===+t))}),M=(0,S.getUrlWithTrackCode)((0,d.getPlaylistURL)(N?.owner_id,N?.id),N?.track_code,P),D=(0,E.useCatalogStoreMap)(A.groupsService.$groups,Math.abs(Number(R))),j=(0,r.useStoreMap)({store:A.profilesService.$profiles,keys:[R],fn:(e,[t])=>e.get(+t)}),G=(0,i.useMemo)((()=>D||j),[D,j]),F=(0,i.useCallback)((e=>{const t=e=>()=>{w?.({action:e,track_code:N?.track_code,type:m.EventItemType.VIDEO_PLAYLIST}),v.searchStatsCollector.logOutOfSerpEvent({action:e,type:m.EventItemType.VIDEO_PLAYLIST})},o={copy:t(B?m.SearchClickActionMap.COPY_LINK_OUT:m.SearchClickActionMap.COPY_LINK),remove:t(B?m.SearchClickActionMap.REMOVE_FROM_ME_OUT:m.SearchClickActionMap.REMOVE_FROM_ME),unsubscribe:t(B?m.SearchClickActionMap.UNSUBSCRIBE_OUT:m.SearchClickActionMap.UNSUBSCRIBE),share:t(B?m.SearchClickActionMap.SHARE_OUT:m.SearchClickActionMap.SHARE)};b({target:e.currentTarget,playlist:N,clickEvents:o})}),[N,B]),U=()=>{w?.({action:m.SearchClickActionMap.TAP,track_code:N?.track_code,type:m.EventItemType.VIDEO_PLAYLIST})},H=()=>{w?.({action:B?m.SearchClickActionMap.OPEN_OWNER_OUT:m.SearchClickActionMap.OPEN_OWNER,track_code:N?.track_code,type:m.EventItemType.VIDEO_PLAYLIST})},$=(0,g.useRefLogView)({type:o,trackCode:N?.track_code});if(!N)return null;switch(t){case s.CatalogBlockLayoutName.LIST:return(0,a.jsx)(p.VideoListItem,{getRootRef:$,title:N?.title,secondTitle:(0,n.langNumeric)(N?.count||0,(0,n.getLang)("mobile_video_videos_counter","raw"),!0),url:M,preview:(0,a.jsx)(c.PlaylistPreview,{playlist:N,badge:T}),onMoreClick:F,onClick:U});case s.CatalogBlockLayoutName.SLIDER:case s.CatalogBlockLayoutName.DOUBLE_STACKED_SLIDER:return(0,a.jsx)(_.SliderCard,{playlist:N,getRootRef:$,badge:T});case s.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:return(0,a.jsx)(l.PlaylistCard,{getRootRef:$,playlist:N,parentWidth:V});case s.CatalogBlockLayoutName.BANNER:return(0,a.jsx)(h.PlaylistBanner,{images:N.image,imageBlur:Boolean(N.image_blur)});case s.CatalogBlockLayoutName.TITLE_SUBTITLE_AVATAR:return(0,a.jsx)(f.PlaylistHeader,{ownerId:N.owner_id,title:N.title,ownerUrl:(0,y.getOwnerUrl)(G,L||O?"/@":"/"),ownerAvatar:(0,I.getOwnerAvatar)(G),isNFT:(0,k.checkOwnerIsNFT)(G),followersCount:N.followers_count,onAuthorClick:H});default:return null}}},132070:(e,t,o)=>{o.d(t,{PlaylistActions:()=>l});var a=o(474848),i=o(175400),r=o(540462),n=o(94528),s=o(843781);const l=()=>(0,a.jsxs)(i.ButtonGroup,{children:[(0,a.jsx)(n.PlaylistSortButton,{}),(0,r.partConfigEnabled)("video_mvk_videopage_with_playlist")&&(0,r.partConfigEnabled)("video_mvk_playlist_page_shuffle_btn")&&(0,a.jsx)(s.PlaylistShuffleButton,{})]})},409323:(e,t,o)=>{o.d(t,{PlaylistActions:()=>a.PlaylistActions});var a=o(132070)},531424:(e,t,o)=>{o.d(t,{PlaylistBanner:()=>d});var a=o(474848),i=o(296540),r=o(351118),n=o(812009),s=o(980353),l=o(60267),c=o(828336);const d=({images:e=[],imageBlur:t=!1})=>{const[o,d]=(0,i.useState)(!1),u=(0,s.useWindowWidth)(),p=(0,l.getThumb)(e,u);(0,i.useEffect)((()=>{p?.url&&d(!1)}),[p?.url]);const _=!!p&&p.height/p.width>1;return(0,a.jsx)("div",{className:(0,r.classNames)(c.default.root,c.default.ratio,{[c.default.verticalRatio]:_}),children:p?.url&&!o?(0,a.jsx)("img",{onError:()=>d(!0),className:(0,r.classNames)(c.default.thumb,{[c.default.verticalThumb]:_,[c.default.blur]:t}),loading:"lazy",src:p.url,width:p.width,height:p.height}):(0,a.jsx)(n.Icon56ListPlayOutline,{className:c.default.placeholder})})}},60267:(e,t,o)=>{o.d(t,{getThumb:()=>s});var a=o(351118),i=o(540462),r=o(856289),n=o(188546);const s=(e,t)=>{if((0,i.partConfigEnabled)("disable_common_covers_of_videos")){const o=(0,n.findBaseImage)(e);if(o){const e=o.height/o.width>1,a=Math.floor(e?t*r.ASPECT_RATIO:t/r.ASPECT_RATIO);return{...o,url:(0,n.getBaseImageUrl)(o.url,t,a)}}}return(0,a.getPhotoSize)(e.filter((e=>!e.with_padding)),t)}},831312:(e,t,o)=>{o.d(t,{PlaylistCard:()=>g});var a=o(474848),i=o(866467),r=o(504944),n=o(671112),s=o(351118),l=o(317216),c=o(351137),d=o(293721),u=o(665606),p=o(285056),_=o(412888);const g=({playlist:e,parentWidth:t=0,getRootRef:o})=>{const{devicePixelRatio:g,appCatalogService:m}=(0,c.useCatalogConfig)(),v=(0,c.useCollectClick)(),S=(0,s.getPhotoSize)(e?.image||[],t/2*g),C=Boolean(e?.image_blur),h=(0,d.useStore)(m.pageService.$catalogType),f=(0,u.getUrlWithTrackCode)((0,n.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,h),I=()=>{v?.({action:l.SearchClickActionMap.TAP,track_code:e?.track_code,type:l.EventItemType.VIDEO_PLAYLIST})};return(0,a.jsxs)("div",{ref:o,className:r.default.root,children:[(0,a.jsxs)("a",{"data-testid":"album_card",href:f,onClick:I,className:r.default.preview,children:[(0,a.jsx)("img",{src:S?.url,className:(0,s.classNames)(r.default.thumb,{[r.default.blur]:C})}),e?.count&&e.count>1&&(0,a.jsx)(p.Footnote,{weight:"1",className:r.default.counter,children:(0,i.getLang)("mobile_video_series_counter",e.count,!0)})]}),!!e?.title&&(0,a.jsx)(_.TextClamp,{TypographyComponent:p.Headline,Component:"a",level:"2",href:f,onClick:I,className:r.default.title,lines:2,children:e.title})]})}},792698:(e,t,o)=>{o.d(t,{PlaylistHeader:()=>p});var a=o(474848),i=o(916126),r=o(751268),n=o(412888),s=o(285056),l=o(866467),c=o(351137),d=o(451549),u=o(558e3);const p=({ownerId:e,ownerUrl:t,ownerAvatar:o,title:p,followersCount:_,isNFT:g,onAuthorClick:m})=>{const{navGo:v}=(0,c.useCatalogConfig)(),{openUnauthorizedMoreBox:S}=(0,c.useCatalogVideo)();return(0,a.jsxs)("div",{className:i.default.root,children:[e!==window.vk.id&&(0,a.jsx)(r.RichAvatar,{className:i.default.avatar,nft:!!g,size:40,src:o,onClick:e=>{m?.(),(0,d.isVKUserAnonymous)()?S({source:u.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e}):v(t)}}),(0,a.jsxs)("div",{className:i.default.titleWrapper,children:[(0,a.jsx)(n.TextClamp,{TypographyComponent:s.Title,level:"3",className:i.default.title,lines:2,children:p}),(0,a.jsx)(s.Headline,{level:"2",className:i.default.subtitle,children:_?(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,l.langNumeric)(_,(0,l.getLang)("video_showcase_N_subscribers","raw"),!0)}}):(0,l.getLang)("mobile_video_playlist_no_subscribers")})]})]})}},603710:(e,t,o)=>{o.d(t,{PlaylistPreview:()=>c});var a=o(474848),i=o(220208),r=o(90330),n=o(246055),s=o(308951),l=o(351137);const c=({playlist:e,owner:t,badge:o})=>{const{userId:c}=(0,l.useCatalogConfig)();return(0,a.jsxs)("div",{className:r.default.root,children:[(0,a.jsx)(n.VideoPreview,{video:{image:e?.image,privacy_view:e?.privacy,restriction:e?.cover_video_restriction},ownerId:t?.id||0,viewerId:c,mode:"compact"}),(0,a.jsx)("div",{className:r.default.overlay,children:(0,a.jsx)(s.Icon20ListPlayOutline,{})}),!!o&&(0,a.jsx)(i.Badge,{mode:"new",className:r.default.badge})]})}},476314:(e,t,o)=>{o.d(t,{PlaylistShuffleButton:()=>_});var a=o(474848),i=o(296540),r=o(870821),n=o(700272),s=o(271036),l=o(723723),c=o(149333),d=o(768035),u=o(670542);const p=e=>{const{getLang:t}=(0,c.useLangs)(),{isLoading:o,isDisabled:i,shufflePlaylist:d}=(0,u.useShufflePlaylist)(e);return o?(0,a.jsx)(n.Spinner,{}):(0,a.jsx)(s.IconButton,{className:(0,l.getColorClass)("color_icon_secondary"),onClick:d,label:t("video_mvk_videopage_shuffled_order"),disabled:i,activeMode:"opacity",hoverMode:"opacity",hasActive:!1,noPadding:!0,children:(0,a.jsx)(r.Icon24ShuffleOutline,{})})},_=(0,i.memo)((function(){const e=window.location.pathname.split("/").at(2);if(!e)return null;const{id:t,ownerId:o}=(0,d.parseRawId)(e);return(0,a.jsx)(p,{ownerId:o,playlistId:t})}))},670542:(e,t,o)=>{o.d(t,{useShufflePlaylist:()=>_});var a=o(296540),i=o(293721),r=o(351118),n=o(22421),s=o(768035),l=o(873900),c=o(883828),d=o(174269),u=o(841315);const p="shuffle_key",_=({playlistId:e,ownerId:t})=>{const{setSnackbar:o,showSnackbar:_}=(0,i.useUnit)(d.appCatalogService.layoutService),{catalog:g,catalogType:m}=(0,i.useUnit)({catalog:d.appCatalogService.catalogService.$catalog,catalogType:d.appCatalogService.pageService.$catalogType}),{$shuffleKey:v,$randomVideo:S,$randomVideoPending:C,$randomVideoError:h,$needSortPlaylist:f}=(0,i.useUnit)(d.appCatalogService.playlistService),I=(0,a.useMemo)((()=>g.sections[0]?.blocks?.find((e=>"videos"===e.data_type))?.videos_ids?.[0]),[g]),y=(0,i.useStoreMap)({store:d.appCatalogService.videoService.$videoItems,keys:[I],fn:(e,[t])=>{if(t)try{const{id:o,ownerId:a}=(0,s.parseRawId)(t),i=e.find((({id:e,owner_id:t})=>e===o&&t===a));return i?.track_code}catch{return}}}),k=(0,a.useCallback)((()=>{d.appCatalogService.playlistService.fireGetRandomVideo({owner_id:t,album_id:e,track_code:y,shuffle_key:(0,r.getRandomInt)(1,c.MAX_INT32)})}),[e,t,y]);return(0,a.useEffect)((()=>{if(C||!v||!S)return;const o=(0,l.getIdentityRawId)({id:e,ownerId:t}),a=(0,u.getVideoUrl)(S,{playlistId:o}),i=(0,d.getUrlWithTrackCode)(a,S.track_code,m),r=(0,n.makeUrl)(i,{[p]:`${v}`});window.nav.go(r)}),[C,S,m,v,e,t]),(0,a.useEffect)((()=>{h&&(o(null),_({isError:!0,event:d.SNACKBAR_EVENTS.ERROR}),d.appCatalogService.playlistService.fireClearRandomVideoData())}),[h]),(0,a.useEffect)((()=>()=>{d.appCatalogService.playlistService.fireClearRandomVideoData()}),[]),{shufflePlaylist:k,isLoading:C,isDisabled:f}}},843781:(e,t,o)=>{o.d(t,{PlaylistShuffleButton:()=>a.PlaylistShuffleButton});var a=o(476314)},895196:(e,t,o)=>{o.d(t,{PlaylistSortButton:()=>u});var a=o(474848),i=o(867696),r=o(271036),n=o(723723),s=o(296540),l=o(149333),c=o(264552);const d=({ownerId:e,playlistId:t})=>{const{getLang:o}=(0,l.useLangs)(),{isReversed:s,reversePlaylist:d,playlistSortDisabled:u}=(0,c.useReversedPlaylist)({ownerId:e,playlistId:t}),p=o(s?"video_playlist_reset_order":"video_playlist_reverse_tt");return(0,a.jsx)(r.IconButton,{className:(0,n.getColorClass)(s?"color_icon_primary":"color_icon_secondary"),onClick:d,label:p,activeMode:"opacity",hoverMode:"opacity",disabled:u,hasActive:!1,noPadding:!0,children:(0,a.jsx)(i.Icon24SortOutline,{})})},u=(0,s.memo)((function(){const e=window.nav.path.split("/").at(-1);if(!e)return null;const[t,o]=e.split("_").map(Number);return(0,a.jsx)(d,{ownerId:t,playlistId:o})}))},264552:(e,t,o)=>{o.d(t,{useReversedPlaylist:()=>s});var a=o(296540),i=o(174269),r=o(293721),n=o(344384);const s=({playlistId:e,ownerId:t})=>{const[o,s]=(0,a.useState)((()=>(0,n.checkIsPlaylistReversed)({playlistId:e,ownerId:t}))),l=(0,r.useStore)(i.appCatalogService.playlistService.$needSortPlaylist),c=(0,r.useStore)(i.appCatalogService.playlistService.$randomVideoPending),d=l||c,u=(0,a.useCallback)((()=>{if(d)return;const a=o?0:1;(0,n.setReversedPlaylist)({playlistId:e,ownerId:t,isReversed:a}),i.appCatalogService.playlistService.fireNeedSortPlaylist(!0),s(a)}),[o,t,e,d]);return{playlistSortDisabled:d,isReversed:o,reversePlaylist:u}}},94528:(e,t,o)=>{o.d(t,{PlaylistSortButton:()=>a.PlaylistSortButton});var a=o(895196)},612570:(e,t,o)=>{o.d(t,{SliderCard:()=>p});var a=o(474848),i=o(671112),r=o(603710),n=o(351137),s=o(317216),l=o(665606),c=o(293721),d=o(213338),u=o(412888);const p=({playlist:e,getRootRef:t,badge:o})=>{const{appCatalogService:p}=(0,n.useCatalogConfig)(),_=(0,n.useCollectClick)(),g=(0,c.useStore)(p.pageService.$catalogType),m=(0,l.getUrlWithTrackCode)((0,i.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,g);return(0,a.jsx)(d.HorizontalCell,{"data-testid":"slider_card",getRootRef:t,size:"dynamic",href:m,onClick:()=>{_({action:s.SearchClickActionMap.TAP,track_code:e?.track_code,type:s.EventItemType.VIDEO_PLAYLIST})},header:e?.title?(0,a.jsx)(u.TextClamp,{lines:2,children:e.title}):null,children:(0,a.jsx)(r.PlaylistPreview,{playlist:e,badge:o})})}},708109:(e,t,o)=>{o.d(t,{Playlist:()=>a.Playlist});var a=o(733901)},155603:(e,t,o)=>{o.d(t,{Preview:()=>r});var a=o(474848),i=o(824921);const r=e=>{const{group_items:t,layout:o,actions:r,id:n}=e,s=(0,i.getBlockByDataType)(e),l=r?.find((({action:e})=>"open_url"===e?.type));return(0,a.jsx)(s,{id:n,group_items:t,action:l,layout:o.name,description:o.subtitle,title:o.title})}},824921:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>r});var a=o(49932),i=o(25168);const r=e=>e.data_type===a.CatalogBlockDataType.GROUPS_ITEMS?i.PreviewGroupItems:()=>null},875705:(e,t,o)=>{o.d(t,{Preview:()=>a.Preview});var a=o(155603)},405755:(e,t,o)=>{o.d(t,{PreviewGroupItems:()=>_});var a=o(474848),i=o(296540),r=o(293721),n=o(174269),s=o(49932),l=o(260546),c=o(655676),d=o(194528),u=o(525421);const p=({group_items:e,layout:t,description:o,title:i,action:p})=>{const{appCatalogService:_}=(0,n.useCatalogConfig)(),g=e?.map((e=>e.id)),m=(0,r.useStoreMap)({store:_.groupsService.$groups,keys:[g],fn:(e,[t=[]])=>t.map((t=>e.get(t))).filter((e=>Boolean(e))).map((e=>e.photo_50))}),v=(0,u.getHref)(p);return t===s.CatalogBlockLayoutName.PREVIEW?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.SimpleCell,{href:v,before:(0,a.jsxs)(c.AvatarStack,{size:48,direction:"top",hasHover:!1,hasActive:!1,children:[(0,a.jsx)(c.AvatarStack.Item,{src:m[0]}),(0,a.jsx)(c.AvatarStack.Item,{src:m[1]})]}),expandable:"always",subtitle:o,children:i}),(0,a.jsx)(d.Spacing,{size:12})]}):null},_=(0,i.memo)(p)},25168:(e,t,o)=>{o.d(t,{PreviewGroupItems:()=>a.PreviewGroupItems});var a=o(405755)},525421:(e,t,o)=>{o.d(t,{getHref:()=>a});const a=e=>e?.action?.url?e.action.url.replace("static.vk.com","m.vk.com/vkui"):""},671423:(e,t,o)=>{o.d(t,{SearchSpellchecker:()=>g});var a=o(474848),i=o(293721),r=o(260546),n=o(285056),s=o(194528),l=o(279734),c=o(247368),d=o(317216),u=o(657293),p=o(351137),_=o(929477);const g=({id:e,type:t})=>{const{appCatalogService:o}=(0,p.useCatalogConfig)(),{search:g}=(0,p.useCatalogSearch)(),m=(0,p.useCollectClick)(),v=(0,i.useStore)(o.pageService.$pageId),S=(0,i.useStoreMap)({store:o.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),C=S?.track_code,h=(0,u.useRefLogView)({type:t,trackCode:C});if(!S)return null;const f=(0,c.prepareSpellcheck)(S);return(0,a.jsxs)(r.SimpleCell,{getRootRef:h,className:_.default.searchSpellcheck,hasActive:!1,hasHover:!1,children:[(0,a.jsxs)(n.Text,{"data-testid":"spellcheker_text",className:_.default.searchSpellcheckTitle,children:[f.title," ",(0,a.jsx)(n.Text,{"data-testid":"spellcheker_request",className:_.default.searchSpellcheckQuery,weight:"1",children:f.query.text})]}),(0,a.jsx)(s.Spacing,{size:4}),(0,a.jsxs)(n.Text,{className:_.default.searchSpellcheckSubtitle,children:[f.suggest," ",(0,a.jsx)(l.Link,{"data-testid":"search_spellchecker",onClick:()=>{S?.id&&C&&(g({q:S.search_action.next_search_query,page:v,additionalParams:{suggestTrackCode:C,noSpellcheck:1}}),m({action:d.SearchClickActionMap.TAP,track_code:S.track_code,type:d.EventItemType.CATALOG_ITEM}))},className:_.default.searchSpellcheckSubtitleButton,children:f.search_action.text})]})]})}},402329:(e,t,o)=>{o.d(t,{SearchSuggestion:()=>p});var a=o(474848),i=o(293721),r=o(260546),n=o(386872),s=o(258617),l=o(351137),c=o(317216),d=o(657293),u=o(174269);const p=({id:e,layout:t,type:o})=>{const{appCatalogService:p}=(0,l.useCatalogConfig)(),{search:_}=(0,l.useCatalogSearch)(),g=(0,l.useCollectClick)(),m=(0,i.useStore)(p.pageService.$pageId),v=(0,u.useCatalogStoreMap)(p.suggestionsService.$suggestions,e),S=(0,d.useRefLogView)({type:o,trackCode:v?.track_code});if(!v)return null;const{title:C="",subtitle:h,context:f,id:I,track_code:y}=v,k=()=>{I&&C&&(g({action:c.SearchClickActionMap.TAP,track_code:y,type:o}),_({q:C,page:m,additionalParams:{context:f,suggestTrackCode:y}}))};return"slider"===t?(0,a.jsx)(s.SliderSuggestion,{title:C,subtitle:h,onClick:k,ref:S}):(0,a.jsx)(r.SimpleCell,{"data-testid":"search_suggestion","data-suggester-item":!0,onClick:k,before:(0,a.jsx)(n.Icon28SearchOutline,{}),getRootRef:S,children:C})}},813864:(e,t,o)=>{o.d(t,{SliderSuggestion:()=>l});var a=o(474848),i=o(296540),r=o(303800),n=o(865786),s=o(682624);const l=(0,i.forwardRef)((({title:e,subtitle:t,onClick:o},i)=>(0,a.jsx)(r.Div,{className:s.default.suggestionItem,getRootRef:i,children:(0,a.jsx)(n.SearchSuggestion,{title:e,subtitle:t,onClick:o})})))},258617:(e,t,o)=>{o.d(t,{SliderSuggestion:()=>a.SliderSuggestion});var a=o(813864)},214955:(e,t,o)=>{o.d(t,{SearchSuggestion:()=>a.SearchSuggestion});var a=o(402329)},144967:(e,t,o)=>{o.d(t,{Slider:()=>v});var a=o(474848),i=o(296540),r=o(49932),n=o(418755),s=o(947009),l=o(418562),c=o(781036),d=o(351137),u=o(467463),p=o(354592),_=o(303800),g=o(770973);const m=[r.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD,r.CatalogBlockLayoutName.SLIDER_CARD,r.CatalogBlockLayoutName.SLIDER_EVENT,r.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER],v=e=>{const{blockResolvers:t}=(0,d.useCatalogConfig)(),{layout:o,actions:v}=e,S=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),C=t?.[o.name]?.(e)||(0,c.getBlockByDataType)(e),h=(0,n.getEventItemTypeByDataType)(e);if(!S.length&&1===v?.length&&o.name===r.CatalogBlockLayoutName.HORIZONTAL_BUTTONS){const e=v?.[0],t=e?.track_code||(0,l.default)();return(0,a.jsx)(s.Action,{id:t,action:e,layout:o.name},t)}const f=(0,c.getScrollSize)(o),I=m.includes(o.name),y={className:g.default.content,spacing:e.data_type===r.CatalogBlockDataType.STICKERS_PACKS?12:0,...I?{mode:"horizontal",paddingBottom:4}:{mode:"vertical",paddingBottom:8,paddingTop:8}};return(0,a.jsx)(p.HorizontalScroll,{getScrollToLeft:e=>e-f,getScrollToRight:e=>e+f,children:(0,a.jsxs)(_.Div,{...y,children:[S.map(((e,t)=>(0,a.jsx)(C,{...e,layout:o.name,type:h,itemIndex:t},e.id))),(0,a.jsx)(u.SliderPagination,{...e}),v?.map((e=>{const t=e.track_code||(0,l.default)();return(0,a.jsx)(s.Action,{id:t,action:e,layout:o.name},t)}))]})})}},467463:(e,t,o)=>{o.d(t,{SliderPagination:()=>d});var a=o(474848),i=o(564508),r=o(174269),n=o(235104),s=o(456921),l=o(293721),c=o(770973);const d=(0,s.observer)((function(e){const{appCatalogService:t}=(0,r.useCatalogConfig)(),o=(0,l.useStore)(t.catalogService.CatalogGetBlockItemsFx.pending),{next_from:s,id:d}=e,{hasPagination:u,loadingComponent:p}=(0,n.paginationData)(e),{currentSectionService:_}=(0,r.useCatalogHandlersContext)(),g=()=>{_?_.fetchNextFromBlock(d):t.catalogService.fireGetBlockItems({block_id:d,start_from:s})};return u&&s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c.default.pagination,children:(0,a.jsx)(i.DynamicPagination,{withSpinner:!1,isLoading:_?_.checkNextFromBlockLoading(d):o,nextFrom:s,fetchData:g})}),p]}):null}))},781036:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>g,getScrollSize:()=>m});var a=o(49932),i=o(677707),r=o(726984),n=o(689477),s=o(657210),l=o(708109),c=o(947009),d=o(214955),u=o(984905),p=o(716286),_=o(374154);const g=e=>{switch(e.data_type){case a.CatalogBlockDataType.LINKS:return i.Link;case a.CatalogBlockDataType.ACTION:return c.Action;case a.CatalogBlockDataType.MARKET_ITEMS:return r.MarketItem;case a.CatalogBlockDataType.GROUPS_ALL:case a.CatalogBlockDataType.GROUPS_ITEMS:return n.GroupItem;case a.CatalogBlockDataType.GROUPS_COLLECTION:return p.GroupCollection;case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return _.GroupCategory;case a.CatalogBlockDataType.VIDEOS:return s.Video;case a.CatalogBlockDataType.ALBUMS:return l.Playlist;case a.CatalogBlockDataType.SEARCH_SUGGESTIONS:return d.SearchSuggestion;case a.CatalogBlockDataType.MUSIC_PLAYLISTS:return u.AudioPlaylist;default:return()=>null}},m=e=>{switch(e.name){case a.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:return a.GROUP_REDESIGN_SLIDER_SCROLL;case a.CatalogBlockLayoutName.SLIDER_CARD:case a.CatalogBlockLayoutName.SLIDER_EVENT:return a.GROUP_REDESIGN_EVENT_SLIDER_SCROLL;default:return a.SLIDER_SCROLL}}},260938:(e,t,o)=>{o.d(t,{Slider:()=>a.Slider});var a=o(144967)},235104:(e,t,o)=>{o.d(t,{paginationData:()=>s});var a=o(474848),i=o(49932),r=o(224788),n=o(770973);const s=({data_type:e,layout:t})=>(e=>{switch(e.name){case i.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case i.CatalogBlockLayoutName.SLIDER_EVENT:return!0;default:return!1}})(t)&&e===i.CatalogBlockDataType.GROUPS_ITEMS?{hasPagination:!0,loadingComponent:(0,a.jsx)("div",{className:n.default.groupsItemSliderElement,children:(0,a.jsx)(r.RecommendationBlock.LoadingCard,{size:"square",cardProps:{stretched:!0,withButton:!0}})})}:{hasPagination:!1}},792687:(e,t,o)=>{o.d(t,{StackedList:()=>p});var a=o(474848),i=o(296540),r=o(53525),n=o(418755),s=o(220208),l=o(303800),c=o(591378),d=o(812950),u=o(174269);const p=e=>{const{layout:t,data_type:o}=e,{blockResolvers:p}=(0,u.useCatalogConfig)(),_=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),g=p?.[t.name]?.(e)||(0,r.getBlockByDataType)(e),m=(0,n.getEventItemTypeByDataType)(e),{viewWidth:v=s.ViewWidth.MOBILE}=(0,s.useAdaptivityWithJSMediaQueries)(),S=v>=s.ViewWidth.SMALL_TABLET;return(0,r.getIsWideGridStackedItem)(o)?(0,a.jsx)(l.Div,{mode:"horizontal",spacing:0,children:(0,a.jsx)(c.Grid,{columns:S?2:1,spacing:12,children:_.map((t=>(0,a.jsx)(c.Grid.Item,{children:(0,a.jsx)(g,{...t,layout:e.layout.name,block_id:e.id,type:m})},t.id)))})}):(0,a.jsx)(d.CardGrid,{size:S?"s":"m",spaced:!0,children:_.map((t=>(0,i.createElement)(g,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:m})))})}},285768:(e,t,o)=>{o.d(t,{StackedList:()=>a.StackedList});var a=o(792687)},53525:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>r,getIsWideGridStackedItem:()=>n});var a=o(49932),i=o(689477);const r=e=>e.data_type===a.CatalogBlockDataType.GROUPS_ITEMS?i.GroupItem:()=>null,n=e=>e===a.CatalogBlockDataType.GROUPS_ITEMS},475138:(e,t,o)=>{o.d(t,{Suggestion:()=>m});var a=o(474848),i=o(293721),r=o(260546),n=o(271036),s=o(516744),l=o(560265),c=o(386872),d=o(317216),u=o(351137),p=o(657293),_=o(174269),g=o(458431);const m=({id:e,track_code:t,block_id:o,type:m})=>{const{appCatalogService:v}=(0,u.useCatalogConfig)(),{search:S}=(0,u.useCatalogSearch)(),C=(0,u.useCollectClick)(),h=(0,i.useStore)(v.pageService.$pageId),f=(0,_.useCatalogStoreMap)(v.suggestionsService.$suggestions,e),I=f?.track_code||t,y=(0,p.useRefLogView)({type:m,trackCode:I}),k=()=>{f?.id&&f.title&&(S({q:f.title,page:h,additionalParams:{suggestTrackCode:I}}),C({action:d.SearchClickActionMap.TAP,track_code:I,type:m}))},E=e=>{e.stopPropagation(),e.preventDefault(),f?.id&&(o&&v.suggestionsService.fireRemoveSearchRecentQuery({block_id:o,params:{item_id:f.id,track_code:I}}),C({action:d.SearchClickActionMap.REMOVE_RECENT,track_code:I,type:m}))};return f?"recent"===f.type?(0,a.jsx)(r.SimpleCell,{"data-testid":"suggestion_recent",getRootRef:y,"data-suggester-item":!0,onClick:k,before:(0,a.jsx)(s.Icon28HistoryBackwardOutline,{}),after:(0,a.jsx)(n.IconButton,{onClick:E,"data-testid":"suggestion_recent_clear",children:(0,a.jsx)(l.Icon24Cancel,{className:g.default.suggestionRemove})}),children:f.title}):(0,a.jsx)(r.SimpleCell,{"data-testid":"search_suggestion",getRootRef:y,"data-suggester-item":!0,onClick:k,before:(0,a.jsx)(c.Icon28SearchOutline,{}),children:f.title}):null}},469335:(e,t,o)=>{o.d(t,{Suggestion:()=>a.Suggestion});var a=o(475138)},854411:(e,t,o)=>{o.d(t,{Text:()=>l});var a=o(474848),i=o(296540),r=o(172656),n=o(635457),s=o(418755);const l=e=>{const t=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),o=(0,n.getBlockByDataType)(e),l=(0,s.getEventItemTypeByDataType)(e);return(0,a.jsx)(r.Group,{mode:"plain",separator:"hide",children:t.map((t=>(0,i.createElement)(o,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:l})))})}},872196:(e,t,o)=>{o.d(t,{Text:()=>a.Text});var a=o(854411)},635457:(e,t,o)=>{o.d(t,{extractItemsIds:()=>r,getBlockByDataType:()=>n});var a=o(49932),i=o(671423);const r=e=>e.data_type===a.CatalogBlockDataType.SEARCH_SPELLCHECKER&&e?.search_spellcheckers_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===a.CatalogBlockDataType.SEARCH_SPELLCHECKER?i.SearchSpellchecker:()=>null},874335:(e,t,o)=>{o.d(t,{TitleSubtitleAvatar:()=>s});var a=o(474848),i=o(296540),r=o(378319),n=o(418755);const s=e=>{const t=(0,i.useMemo)((()=>(0,r.extractItemsIds)(e)),[e]),o=(0,r.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,a.jsx)("div",{children:t.map((t=>(0,a.jsx)(o,{...t,layout:e.layout.name,type:s},t.id)))})}},874794:(e,t,o)=>{o.d(t,{TitleSubtitleAvatar:()=>a.TitleSubtitleAvatar});var a=o(874335)},378319:(e,t,o)=>{o.d(t,{extractItemsIds:()=>r,getBlockByDataType:()=>n});var a=o(49932),i=o(708109);const r=e=>e.data_type===a.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===a.CatalogBlockDataType.ALBUMS?i.Playlist:()=>null},31619:(e,t,o)=>{o.d(t,{TripleStackedSlider:()=>d});var a=o(474848),i=o(296540),r=o(354592),n=o(171284),s=o(418755),l=o(975654),c=o(174269);const d=e=>{const{blockResolvers:t}=(0,c.useCatalogConfig)(),o=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),d=t?.[e.layout.name]?.(e)||(0,n.getBlockByDataType)(e),u=(0,s.getEventItemTypeByDataType)(e),p=(0,n.getDirectionType)(e),_=(0,n.getColumnsSize)(e),g=(0,i.useMemo)((()=>o.map((t=>({key:t.id,length:t.content_length,component:(0,a.jsx)(d,{...t,layout:e.layout.name,type:u})})))),o);return(0,a.jsx)(r.HorizontalScroll,{children:(0,a.jsx)(l.TripleStackedSliderItems,{directionType:p,content:g,columnsSize:_})})}},526376:(e,t,o)=>{o.d(t,{TripleStackedSliderItems:()=>c});var a=o(474848),i=o(174269),r=o(249368),n=o(351118),s=o(111648);const l={s:s.default.catalogTripleStackedSliderColumnS,m:s.default.catalogTripleStackedSliderColumn},c=({directionType:e,content:t,columnsSize:o="m"})=>{const c=e===r.DirectionType.row,d=c?(0,i.toColumnWithRows)(t,3):(0,n.chunkArray)(t,3);return(0,a.jsx)("div",{className:s.default.catalogTripleStackedSliderInner,children:d.map(((e,t)=>(0,a.jsx)("ul",{className:l[o],children:e?.map((e=>(0,a.jsx)("li",{children:(0,a.jsx)("div",{className:(0,n.classNames)(c&&s.default.row),children:e.component})},e.key)))},t)))})}},975654:(e,t,o)=>{o.d(t,{TripleStackedSliderItems:()=>a.TripleStackedSliderItems});var a=o(526376)},86941:(e,t,o)=>{o.d(t,{TripleStackedSlider:()=>a.TripleStackedSlider});var a=o(31619)},249368:(e,t,o)=>{o.d(t,{DirectionType:()=>a});var a=function(e){return e.row="row",e.column="column",e}({})},171284:(e,t,o)=>{o.d(t,{extractItemsIds:()=>d,getBlockByDataType:()=>u,getColumnsSize:()=>c,getDirectionType:()=>l});var a=o(49932),i=o(762817),r=o(677707),n=o(374154),s=o(249368);const l=e=>e.data_type===a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS?s.DirectionType.row:s.DirectionType.column,c=e=>e.data_type===a.CatalogBlockDataType.MUSIC_AUDIOS?"s":"m",d=e=>{switch(e.data_type){case a.CatalogBlockDataType.MUSIC_AUDIOS:return e.audios_ids?.map((e=>({id:e})))||[];case a.CatalogBlockDataType.LINKS:return e.links_ids?.map((e=>({id:e})))||[];case a.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:e,click_action:t})=>({id:e||"",action:t,content_length:t?.title?.length})))||[];default:return[]}},u=e=>{switch(e.data_type){case a.CatalogBlockDataType.MUSIC_AUDIOS:return i.MusicAudios;case a.CatalogBlockDataType.LINKS:return r.Link;case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return n.GroupCategory;default:return()=>null}}},821771:(e,t,o)=>{o.d(t,{ShortVideoCard:()=>m});var a=o(474848),i=o(303800),r=o(279734),n=o(425072),s=o(192678),l=o(908671),c=o(540462),d=o(348882),u=o(652547),p=o(781945),_=o(57873);const g=131,m=({video:e,owner:t,href:o,getRootRef:m,onClick:v})=>{if(!e||!t)return null;const S=(0,u.getThumb)(e.image??e.first_frame??[],g),C=Boolean(e.restriction?.blur);return(0,c.partConfigEnabled)("clips_add_seized_restrictions_web")&&e.restriction?(0,a.jsx)(i.Div,{mode:"vertical",paddingTop:4,paddingBottom:4,spacing:4,children:(0,a.jsx)(r.Link,{href:o,children:(0,a.jsx)(n.ClipRestricted,{width:g,cover:S,title:e.restriction?.title??"",borderRadius:"s",icon:(0,d.getClipIcon)(e.restriction?.icon_name),blurred:Boolean(e.restriction.blur),"data-testid":`clips-restricted-${e.owner_id}_${e.id}`})})}):(0,c.partConfigEnabled)("clips_add_seized_restrictions_web")?(0,a.jsx)(i.Div,{mode:"vertical",paddingTop:4,paddingBottom:4,spacing:4,children:(0,a.jsx)(r.Link,{href:o,children:(0,a.jsx)(s.ClipContainer,{width:g,size:"compact",mode:"cover",cover:S,"data-testid":"clips-catalog-clip-card",onClick:v,gradient:"bottom",after:(0,p.isLockedVideo)(e,t)&&(0,a.jsx)(s.ClipContainer.IconLock,{size:"compact"}),children:(0,a.jsx)(s.ClipContainer.TextWithIcon,{type:"views",children:(0,l.formatCount)(e.views??0)})})})}):(0,a.jsx)("div",{ref:m,className:_.default.card,children:(0,a.jsx)(r.Link,{href:o,children:(0,a.jsx)(s.ClipContainer,{width:g,size:"compact",blurred:C,mode:"cover",cover:S,"data-testid":"clips-catalog-clip-card",onClick:v,gradient:C?void 0:"bottom",after:!C&&(0,p.isLockedVideo)(e,t)&&(0,a.jsx)(s.ClipContainer.IconLock,{size:"compact"}),children:!C&&(0,a.jsx)(s.ClipContainer.TextWithIcon,{type:"views",children:(0,l.formatCount)(e.views??0)})})})})}},794572:(e,t,o)=>{o.d(t,{ShortVideoCard:()=>a.ShortVideoCard});var a=o(821771)},781945:(e,t,o)=>{o.d(t,{isLockedVideo:()=>i});var a=o(720028);function i(e,t){return Boolean(t?.id===window.vk.id)&&Boolean(e.privacy_view&&(0,a.isBasePrivacyLimited)(e.privacy_view))}},961143:(e,t,o)=>{o.d(t,{Video:()=>R});var a=o(474848),i=o(296540),r=o(213338),n=o(361121),s=o(293721),l=o(317216),c=o(314309),d=o(49932),u=o(159884),p=o(794572),_=o(991547),g=o(405938),m=o(246055),v=o(224241),S=o(682040),C=o(402711),h=o(657293),f=o(351137),I=o(665606),y=o(652547),k=o(174269),E=o(841315),T=o(866467),A=o(540462);o(235641);const R=({id:e,layout:t,type:o,onOwnerActionClick:R})=>{const{userId:x,appCatalogService:b}=(0,f.useCatalogConfig)(),L=(0,f.useCollectClick)(),O=(0,s.useStore)(b.$isStandaloneSection),w=(0,s.useStore)(b.pageService.$catalogType),V=(0,s.useStore)(b.catalogService.$catalog),[P,B]=e.toString().split("_"),N=(0,s.useStoreMap)({store:b.videoService.$videoItems,keys:[P,B],fn:(e,[t,o])=>e.find((({id:e,owner_id:a})=>e===+o&&a===+t))}),M=(0,s.useStoreMap)({store:b.videoService.$notInterestedVideos,keys:[e],fn:(e,[t])=>e.hasOwnProperty(String(t))}),D=(0,s.useStoreMap)({store:b.videoService.$notOwnerRecommend,keys:[e],fn:(e,[t])=>{const o=Object.keys(e),{ownerId:a}=(0,n.splitRawId)(t.toString()||"");return o.includes(a.toString())}}),j=(0,k.useCatalogStoreMap)(b.groupsService.$groups,Math.abs(Number(P))),G=(0,s.useStoreMap)({store:b.profilesService.$profiles,keys:[P],fn:(e,[t])=>e.get(+t)}),F=N?.main_artists?.length?N.main_artists[0]:void 0,U=N?.track_code,H=(0,h.useRefLogView)({type:o,trackCode:U}),$=(0,i.useMemo)((()=>V?.sections?.find((({id:e})=>e===V?.default_section))?.blocks?.find((e=>"videos"===e.data_type))?.layout.owner_id),[V?.sections,V?.default_section]),z=(0,i.useCallback)((e=>{if(N){const t=e=>()=>{L?.({action:e,track_code:N.track_code,type:l.EventItemType.VIDEO})},o={fave:t(O?l.SearchClickActionMap.FAVE_OUT:l.SearchClickActionMap.FAVE),unfave:t(O||"video"===w?l.SearchClickActionMap.UNFAVE_OUT:l.SearchClickActionMap.UNFAVE),share:t(O||"video"===w?l.SearchClickActionMap.SHARE_OUT:l.SearchClickActionMap.SHARE),copy:t(O||"video"===w?l.SearchClickActionMap.COPY_LINK_OUT:l.SearchClickActionMap.COPY_LINK),addToMe:t(O||"video"===w?l.SearchClickActionMap.ADD_TO_ME_OUT:l.SearchClickActionMap.ADD_TO_ME),removeFromMe:t(O||"video"===w?l.SearchClickActionMap.REMOVE_FROM_ME_OUT:l.SearchClickActionMap.REMOVE_FROM_ME),removeRecent:t(l.SearchClickActionMap.REMOVE_RECENT)};b.videoService.openVideoActions({target:e.currentTarget,video:N,clickEvents:o,targetId:$})}}),[N,L,O,$]);if(!N)return null;const W=()=>{L?.({action:l.SearchClickActionMap.TAP,track_code:N?.track_code,type:l.EventItemType.VIDEO})},K=()=>{N?.owner_id&&N?.id&&b.videoService.markVideoNotInterested({owner_id:N.owner_id,video_id:N.id,is_unset:1})},Y=()=>{N?.owner_id&&N?.id&&(b.videoService.markVideoNotOwnerRecommend({owner_id:N.owner_id,video_id:N.id,is_unset:1}),c.videoRecommendOwnerCollector.logEvent(l.ClickProductionStatEventTypes.TYPE_VIDEO_UNDO_STOP_RECOMMENDING_CREATOR,{id:Number(N.id),ownerId:Number(N.owner_id),trackCode:N.track_code||""}))},q=(0,A.partConfigEnabled)("video_mvk_videopage_with_playlist")&&"video_playlist"===window.cur.screen?window.nav.path.split("/")?.at(-1):void 0,Q=(0,I.getUrlWithTrackCode)((0,E.getVideoUrl)(N,{playlistId:q}),U,w);switch(t){case d.CatalogBlockLayoutName.VIDEO_SLIDER:return(0,a.jsx)(u.VideoCard,{videoData:N||{},owner:j||G||F,catalogType:w,onMoreClick:z,isLargeCard:!0,getRootRef:H,onOwnerClick:R});case d.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(r.HorizontalCell,{getRootRef:H,size:"dynamic",href:Q,children:(0,a.jsx)(u.VideoCard,{videoData:N||{},owner:j||G||F,catalogType:w,onOwnerClick:R})});case d.CatalogBlockLayoutName.LIST:case d.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,a.jsx)(C.VideoListItem,{getRootRef:H,title:N.title,secondTitle:(0,S.formatViews)(N.views,!0),lastTitle:(0,v.formatDateTime)(N.date,!0),url:Q,preview:(0,a.jsx)(m.VideoPreview,{video:N||{},ownerId:Number((j||G||F)?.id||0),viewerId:x,mode:"compact"}),onMoreClick:z,onClick:W});case d.CatalogBlockLayoutName.LARGE_LIST:return M?(0,a.jsx)(_.VideoNotInterestedCard,{onClick:K}):D?(0,a.jsx)(g.VideoAlertCard,{placeholder:(0,T.getLang)("mobile_video_not_owner_recommend_placeholder"),actionPlaceholder:(0,T.getLang)("mobile_video_not_owner_recommend_action_placeholder"),onClick:Y}):(0,a.jsx)(u.VideoCard,{getRootRef:H,videoData:N,owner:j||G||F,fullWidth:!0,onMoreClick:z,onOwnerClick:R,catalogType:w});case d.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,a.jsx)(p.ShortVideoCard,{getRootRef:H,href:N.owner_id&&N.id?(0,I.getUrlWithTrackCode)((0,y.getUrlToOwnerFeedShortVideo)(N.owner_id,N.id,(G||j)?.screen_name),U,w):"",video:N,owner:G||j,onClick:W});default:return null}}},940651:(e,t,o)=>{o.d(t,{VideoAlertCard:()=>d});var a=o(474848),i=o(303800),r=o(782818),n=o(285056),s=o(723723),l=o(454154),c=o(194528);function d({placeholder:e,actionPlaceholder:t,onClick:o}){return(0,a.jsxs)(i.Div,{mode:"horizontal",spacing:8,children:[(0,a.jsx)(r.StatusBanner,{header:(0,a.jsx)(n.Subhead,{className:(0,s.getColorClass)("color_text_secondary"),children:e}),after:(0,a.jsx)(l.Button,{"data-testid":"video_not_interested_card_button",onClick:o,mode:"tertiary",children:t})}),(0,a.jsx)(c.Spacing,{})]})}},405938:(e,t,o)=>{o.d(t,{VideoAlertCard:()=>a.VideoAlertCard});var a=o(940651)},766291:(e,t,o)=>{o.d(t,{VideoCard:()=>b});var a=o(474848),i=o(218409),r=o(856473),n=o(351118),s=o(724648),l=o(612196),c=o(412888),d=o(271036),u=o(723723),p=o(785631),_=o(57892),g=o(141575),m=o(246055),v=o(540462),S=o(641495),C=o(172479),h=o(841315),f=o(224241),I=o(591485),y=o(682040),k=o(866467),E=o(351137),T=o(317216),A=o(665606),R=o(451549),x=o(856289);const b=({videoData:e,owner:t,fullWidth:o,onMoreClick:b,onOwnerClick:L,getRootRef:O,catalogType:w,isLargeCard:V,replaceLocation:P,onClick:B})=>{const{userId:N}=(0,E.useCatalogConfig)(),M=Boolean(b)&&((0,v.partConfigEnabled)("enable_share_modal_for_anonymous")||!(0,R.isVKUserAnonymous)()),D=(0,E.useCollectClick)(),{restriction:j,live_status:G}=e,F=(0,S.getOwnerName)(t),U=(0,I.getOwnerAvatar)(t),H=Boolean(t&&"verified"in t&&t?.verified),$=(0,A.getUrlWithTrackCode)((0,h.getVideoUrl)(e),e.track_code,w),z=(0,x.getVideoPrefix)("doubleSlash"),W=t?(0,C.getOwnerUrl)(t,`${z}@`):void 0,K=!o&&!V,Y=!j,q=({children:e,href:t,...o})=>K?(0,a.jsx)("div",{...o,children:e}):(0,a.jsx)("a",{href:t,...o,children:e});let Q;(o||V)&&e.width&&e.height&&(Q=Math.max(i.MAX_RATIO,Math.min(e.height/e.width,i.MIN_RATIO)));const Z=()=>{P&&window.nav?.go($,null,{replace:!0}),D({action:T.SearchClickActionMap.TAP,track_code:e.track_code,type:T.EventItemType.VIDEO}),B?.()},J=t=>{D({action:T.SearchClickActionMap.OPEN_OWNER,track_code:e.track_code,type:T.EventItemType.VIDEO}),L?.(t,W)},X=(0,a.jsxs)("div",{className:r.default.subtitle,children:[(0,a.jsx)("div",{className:r.default.userNameWrapper,children:(0,a.jsx)(q,{"data-testid":"video_card_author_name",href:W,onClick:J,className:r.default.userName,children:F})}),H&&(0,a.jsx)(p.Icon12Verified,{className:r.default.verifiedIcon}),(o||V)&&Y&&(0,a.jsxs)(a.Fragment,{children:["·",(0,a.jsxs)("span",{className:r.default.views,children:[(0,a.jsx)(_.Icon12View,{className:r.default.viewIcon})," ",(0,y.formatViews)(e?.views)]}),!G&&(0,a.jsxs)(a.Fragment,{children:["·",(0,a.jsx)("span",{children:(0,f.formatDateTime)(e?.date)})]})]})]});return(0,a.jsxs)("div",{ref:O,className:(0,n.classNames)(!o&&!V&&r.default.cardRounded,V&&r.default.largeCard),children:[(0,a.jsx)(m.VideoPreview,{video:e,ownerId:Number(t?.id||0),viewerId:N,itemUrl:K?"":$,onItemClick:Z,mode:"regular",ratio:Q,withTimeline:!0,fullWidth:o}),(0,a.jsxs)(s.Flex,{justify:V?"space-between":void 0,className:r.default.info,children:[(0,a.jsxs)("div",{className:r.default.main,children:[(o||V)&&(0,a.jsx)(q,{"data-testid":"video_card_author",href:W,onClick:J,className:r.default.avatarWrapper,children:(0,a.jsx)(l.Avatar,{src:U,size:40})}),(0,a.jsxs)("div",{className:r.default.titleWrapper,children:[(0,a.jsx)(q,{"data-testid":"video_card_title",href:$,onClick:Z,className:r.default.title,children:(0,a.jsx)(c.TextClamp,{lines:V?1:2,children:e?.title})}),X]})]}),M&&(0,a.jsx)(d.IconButton,{"data-testid":"video_card_more",className:(0,u.getColorClass)("color_icon_tertiary"),onClick:b,"aria-label":(0,k.getLang)("video_additional_options"),children:(0,a.jsx)(g.Icon24MoreHorizontal,{})})]})]})}},159884:(e,t,o)=>{o.d(t,{VideoCard:()=>a.VideoCard});var a=o(766291)},941397:(e,t,o)=>{o.d(t,{VideoCardActionSheet:()=>g});var a=o(474848),i=o(293721),r=o(296540),n=o(418755),s=o(866467),l=o(174269),c=o(373594),d=o(361121),u=o(540462),p=o(314309),_=o(317216);const g=({target:e,video:t,clickEvents:o={},targetId:g})=>{const{appCatalogService:m}=(0,l.useCatalogConfig)(),{openVideoEditor:v,useConfirmPopout:S,VideoActionSheet:C}=(0,l.useCatalogVideo)(),h=(0,i.useStore)(m.catalogService.$catalog),f=(0,i.useStore)(m.$isStandaloneSection),I=(0,r.useMemo)((()=>h?.sections?.find((({id:e})=>e===h?.default_section))),[h?.sections,h?.default_section]),y=I?.blocks?.[0]?.albums_ids?.[0],{ownerId:k,itemId:E}=(0,d.splitRawId)(y||""),T=(0,i.useStoreMap)({store:m.playlistService.$playlistItems,keys:[k||0,E||0],fn:(e,[t,o])=>e.find((({id:e,owner_id:a})=>e===o&&a===t))}),A=t.owner_id||0,R=t.id||0,x=t.track_code||"",b=Boolean((0,n.testPlaylistSection)(I?.url)&&k&&E&&T?.can_upload),L=(0,n.testHistorySection)(f?window.location.pathname:I?.url),O=Boolean(!T?.can_upload||k===window.vk.id),w=Boolean(t.can_dislike&&((0,n.testDiscoverSection)(I?.url)||"/video"===window.location.pathname)),V=(0,u.partConfigEnabled)("video_not_owner_recommend_mobile")&&Boolean((0,n.testDiscoverSection)(I?.url)||"/video"===window.location.pathname),P=(0,u.partConfigEnabled)("mvk_video_show_delete_video_button")?t.can_delete&&A!==window.vk.id&&g!==window.vk.id:t.can_delete&&A!==window.vk.id,B=S({titleLabel:(0,s.getLang)("mobile_video_delete_video_confirm_title"),textLabel:(0,s.getLang)("mobile_video_delete_video_confirm_text"),callback:()=>{m.videoService.removeVideoFromMyVideos({target_id:window.vk.id,owner_id:A,video_id:R})}}),N=S({titleLabel:(0,s.getLang)("mobile_video_delete_video_confirm_title"),textLabel:(0,s.getLang)("mobile_video_delete_video_from_group_confirm_text"),callback:()=>{m.videoService.removeVideoFromMyVideos({target_id:(0,u.partConfigEnabled)("mvk_video_show_delete_video_button")?g:A,owner_id:A,video_id:R})}});return(0,a.jsx)(C,{actionSheetId:"catalog_sheet_video_card",target:e,video:t,onClose:()=>m.layoutService.setPopout(null),onSuccessCopyLink:()=>m.layoutService.showSnackbar({event:c.SNACKBAR_EVENTS.COPY_LINK}),clickEvents:o,removeVideoFromMyVideos:O?B:void 0,removeVideo:P?N:void 0,addVideoToMyVideos:()=>{m.videoService.addVideoToMyVideos({target_id:window.vk.id,owner_id:A,video_id:R})},removeVideoFromFave:()=>{m.videoService.removeVideoFromFave({owner_id:A,id:R})},addVideoToFave:()=>{m.videoService.addVideoToFave({owner_id:A,id:R,ref:t.track_code})},editVideo:()=>{v({video:t,ownerId:A})},moveToPlaylist:()=>{m.videoService.openAddToPlaylistModal({ownerId:A,videoId:R})},removeVideoFromHistory:L?()=>{m.videoService.removeVideoFromHistory({owner_id:A,video_id:R})}:void 0,removeVideoFromPlaylist:b?()=>{m.videoService.removeVideoFromPlaylist({target_id:Number(k),album_ids:String(E),owner_id:A,video_id:R})}:void 0,markVideoNotInterested:w?()=>{m.videoService.markVideoNotInterested({owner_id:A,video_id:R,is_unset:0})}:void 0,markVideoNotOwnerRecommend:V?()=>{m.videoService.markVideoNotOwnerRecommend({owner_id:A,video_id:R,is_unset:0}),p.videoRecommendOwnerCollector.logEvent(_.ClickProductionStatEventTypes.TYPE_VIDEO_STOP_RECOMMENDING_CREATOR,{id:Number(R),ownerId:Number(A),trackCode:x})}:void 0})}},812521:(e,t,o)=>{o.d(t,{VideoCardActionSheet:()=>a.VideoCardActionSheet});var a=o(941397)},991547:(e,t,o)=>{o.d(t,{VideoNotInterestedCard:()=>u});var a=o(474848),i=o(303800),r=o(782818),n=o(285056),s=o(723723),l=o(454154),c=o(194528),d=o(866467);const u=({onClick:e})=>(0,a.jsxs)(i.Div,{mode:"horizontal",spacing:8,children:[(0,a.jsx)(r.StatusBanner,{header:(0,a.jsx)(n.Subhead,{className:(0,s.getColorClass)("color_text_secondary"),children:(0,d.getLang)("mobile_video_not_interested_placeholder")}),before:null,after:(0,a.jsx)(l.Button,{"data-testid":"video_not_interested_card_button",onClick:e,mode:"tertiary",children:(0,d.getLang)("mobile_video_not_interested_placeholder_action")})}),(0,a.jsx)(c.Spacing,{})]})},657210:(e,t,o)=>{o.d(t,{Video:()=>a.Video});var a=o(961143)},235641:(e,t,o)=>{var a=o(474848),i=o(174269),r=o(32489),n=o(812521);const s=i.appCatalogService.domain.createEffect({name:"fetch/openVideoActions",handler:({target:e,video:t,clickEvents:o,targetId:r})=>{t&&(i.appCatalogService.layoutService.setSnackbar(null),i.appCatalogService.layoutService.setPopout((0,a.jsx)(n.VideoCardActionSheet,{target:e,video:t,clickEvents:o,targetId:r})))}});(0,r.sample)({clock:i.appCatalogService.videoService.openVideoActions,target:s})},495284:(e,t,o)=>{o.d(t,{Action:()=>r});var a=o(474848),i=o(363335);const r=({action:e,...t})=>{if(!e)return null;const o=(0,i.getActionByType)(e);return(0,a.jsx)(o,{...t,action:e})}},462969:(e,t,o)=>{o.d(t,{BlockFilter:()=>u});var a=o(474848),i=o(296540),r=o(694992),n=o(293721),s=o(49932),l=o(174269),c=o(586507);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:o}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(o.actionsService.$selectedAction),p=(0,i.useCallback)((e=>{const{replacement_id:t,url:a}=e;if(t!==u?.replacement_id&&o.actionsService.selectAction(e),!a)return;const i=new URL(a);i.origin===window.location.origin&&history.replaceState(null,"",i)}),[u]);return(0,i.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e===s.CatalogBlockLayoutName.SLIDER?(0,a.jsx)(a.Fragment,{children:t.options?.map((e=>{const{replacement_id:t,selected:o,text:i}=e,n=u?t===u.replacement_id:1===o;return(0,a.jsx)(r.SubnavigationButton,{id:d(t),className:c.default.root,selected:n,mode:n?"tertiary":"outline",onClick:()=>p(e),size:"s","data-testid":`tab-${i.replace(" ","_")}`,children:i},t)}))}):null}},284956:(e,t,o)=>{o.d(t,{BlockFilter:()=>a.BlockFilter});var a=o(462969)},851697:(e,t,o)=>{o.d(t,{ModalBanner:()=>r});var a=o(474848),i=o(260546);const r=({href:e,target:t,title:o,onClick:r})=>(0,a.jsx)(i.SimpleCell,{href:e,expandable:"always",minHeight:48,target:t,onClick:r,children:o})},392100:(e,t,o)=>{o.d(t,{ModalBannerOpenSection:()=>n});var a=o(474848),i=o(351137),r=o(851697);const n=({action:e})=>{const{title:t,section_id:o,id:n}=e,{onAuthorsActualizeOpen:s,onSendLog:l,currentSectionId:c}=(0,i.useCatalogDesktopVideo)();return(0,a.jsx)(r.ModalBanner,{title:t,onClick:()=>{if(o&&s){const e="video_subscriptions_all_creators";s(o,e),l?.({sectionId:c,id:n,screen:e})}}})}},326254:(e,t,o)=>{o.d(t,{ModalBannerOpenUrl:()=>n});var a=o(474848),i=o(351137),r=o(851697);const n=({action:e})=>{const{title:t,id:o}=e,{onSendLog:n}=(0,i.useCatalogDesktopVideo)(),s=e.action?.url;return(0,a.jsx)(r.ModalBanner,{href:s,target:"_blank",title:t,onClick:()=>{n?.({id:o})}})}},546384:(e,t,o)=>{o.d(t,{ModalBannerOpenSection:()=>i.ModalBannerOpenSection,ModalBannerOpenUrl:()=>a.ModalBannerOpenUrl});var a=o(326254),i=o(392100)},53475:(e,t,o)=>{o.d(t,{getOpenSectionByActionId:()=>n});var a=o(55713),i=o(596817),r=o(202771);const n=e=>e?.id===i.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT?(0,r.getOpenSectionByRefDataType)(e):a.OpenSection},202771:(e,t,o)=>{o.d(t,{getOpenSectionByRefDataType:()=>n});var a=o(49932),i=o(546384),r=o(876038);const n=e=>{switch(e?.ref_data_type){case a.CatalogBlockDataType.SEARCH_AUTHORS:return i.ModalBannerOpenSection;case a.CatalogBlockDataType.VIDEOS:return r.SliderBannerOpenSection;default:return()=>null}}},822960:(e,t,o)=>{o.d(t,{getOpenSectionByActionId:()=>a.getOpenSectionByActionId});var a=o(53475)},319037:(e,t,o)=>{o.d(t,{OpenUrl:()=>s});var a=o(474848),i=o(333910),r=o(279734),n=o(49932);const s=({action:e,layout:t})=>{const o=e?.action?.url;return t===n.CatalogBlockLayoutName.SLIDER?(0,a.jsx)(i.HorizontalCellShowMore,{href:o,size:"l",stretched:!0,children:e.title}):(0,a.jsx)(r.Link,{href:o,children:e.title})}},50435:(e,t,o)=>{o.d(t,{getOpenUrlByActionId:()=>n});var a=o(596817),i=o(319037),r=o(729651);const n=e=>e?.id===a.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE?(0,r.getOpenUrlByRefDataType)(e):i.OpenUrl},729651:(e,t,o)=>{o.d(t,{getOpenUrlByRefDataType:()=>n});var a=o(49932),i=o(546384),r=o(876038);const n=e=>{switch(e?.ref_data_type){case a.CatalogBlockDataType.SEARCH_AUTHORS:return i.ModalBannerOpenUrl;case a.CatalogBlockDataType.VIDEOS:return r.SliderBannerOpenUrl;default:return()=>null}}},212006:(e,t,o)=>{o.d(t,{getOpenUrlByActionId:()=>a.getOpenUrlByActionId});o(319037);var a=o(50435)},185697:(e,t,o)=>{o.d(t,{OpenVideo:()=>s});var a=o(474848),i=o(361121),r=o(279734),n=o(351137);const s=({action:e})=>{const{videoCardProps:t}=(0,n.useCatalogDesktopVideo)(),{video_raw_id:o}=e;if(void 0===o)return null;return(0,a.jsx)(r.Link,{noUnderline:!0,onClick:e=>{const{itemId:a,ownerId:r}=(0,i.splitRawId)(o);t.onVideoOpen(e,{id:a,owner_id:r})},children:e.title})}},209464:(e,t,o)=>{o.d(t,{OpenVideo:()=>a.OpenVideo});var a=o(185697)},67677:(e,t,o)=>{o.d(t,{OpenVideoPlaylist:()=>n});var a=o(474848),i=o(279734),r=o(351137);const n=({action:e})=>{const{onPlaylistOpen:t}=(0,r.useCatalogDesktopVideo)(),{album_id:o,owner_id:n,video_raw_id:s}=e,{url:l}=e.action??{};return void 0===o||void 0===n||void 0===s?null:(0,a.jsx)(i.Link,{noUnderline:!0,onClick:e=>t(e,{id:o,owner_id:n,first_video_id:s,first_video_url:l}),"data-testid":"play_all_playlist_button",children:e.title})}},579034:(e,t,o)=>{o.d(t,{OpenVideoPlaylist:()=>a.OpenVideoPlaylist});var a=o(67677)},63573:(e,t,o)=>{o.d(t,{SliderBanner:()=>u});var a=o(474848),i=o(303800),r=o(220208),n=o(327626),s=o(194528),l=o(185094),c=o(598381),d=o(352671);const u=({actionId:e,href:t,target:o,title:u,onClick:p})=>(0,a.jsx)(i.Div,{mode:"vertical",paddingTop:6,paddingBottom:6,spacing:6,children:(0,a.jsx)(r.Tappable,{activeMode:"opacity",hoverMode:"opacity",href:t,target:o,onClick:p,children:(0,a.jsx)(n.Banner,{background:(0,a.jsx)(c.SliderBannerBackground,{actionId:e}),className:d.default.banner,header:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.SliderBannerIcon,{actionId:e}),(0,a.jsx)(s.Spacing,{size:6}),u]}),imageTheme:"light",mode:"image",noPadding:!0,size:"s",stretched:!0})})})},598381:(e,t,o)=>{o.d(t,{SliderBannerBackground:()=>n});var a=o(474848),i=o(596817),r=o(352671);const n=({actionId:e})=>{switch(e){case i.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT:return(0,a.jsx)("div",{className:r.default.videoSubscriptionsSelectBg});case i.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE:return(0,a.jsx)("div",{className:r.default.videoTransferFromYoutubeBg});default:return null}}},185094:(e,t,o)=>{o.d(t,{SliderBannerIcon:()=>s});var a=o(474848),i=o(310182),r=o(128704),n=o(596817);const s=({actionId:e})=>{switch(e){case n.BANNER_ID.VIDEO_SUBSCRIPTIONS_SELECT:return(0,a.jsx)(i.Icon28UserCircleFillBlue,{});case n.BANNER_ID.VIDEO_TRANSFER_FROM_YOUTUBE:return(0,a.jsx)(r.Icon28PlayCircleFillRed,{});default:return null}}},462408:(e,t,o)=>{o.d(t,{SliderBannerOpenSection:()=>n});var a=o(474848),i=o(351137),r=o(63573);const n=({action:e})=>{const{title:t,section_id:o,id:n}=e,{onAuthorsActualizeOpen:s,onSendLog:l,currentSectionId:c}=(0,i.useCatalogDesktopVideo)();return(0,a.jsx)(r.SliderBanner,{actionId:e?.id,title:t,onClick:()=>{if(o&&s){const e="video_subscriptions_creators";s(o,e),l?.({sectionId:c,id:n,screen:e})}}})}},950146:(e,t,o)=>{o.d(t,{SliderBannerOpenUrl:()=>n});var a=o(474848),i=o(351137),r=o(63573);const n=({action:e})=>{const{title:t,id:o}=e,{onSendLog:n}=(0,i.useCatalogDesktopVideo)(),s=e.action?.url;return(0,a.jsx)(r.SliderBanner,{actionId:e?.id,href:s,target:"_blank",title:t,onClick:()=>{n?.({id:o})}})}},876038:(e,t,o)=>{o.d(t,{SliderBannerOpenSection:()=>i.SliderBannerOpenSection,SliderBannerOpenUrl:()=>a.SliderBannerOpenUrl});var a=o(950146),i=o(462408)},251049:(e,t,o)=>{o.d(t,{SwitchSection:()=>_});var a=o(474848),i=o(333910),r=o(279734),n=o(231450),s=o(314309),l=o(317216),c=o(49932),d=o(296540),u=o(174269),p=o(540462);const _=({action:e,layout:t})=>{const o=e?.action?.url,{internalSwitchSection:_}=(0,u.useCatalogConfig)(),g=(0,d.useCallback)((e=>{e.preventDefault();const t=e.currentTarget.getAttribute("href");if(!t)return;if(e.ctrlKey||e.metaKey)return e.stopPropagation(),void window.open(t,"_blank");const o=new URL(t,window.location.origin).hostname;if((0,p.partConfigEnabled)("vkvideo_sport_domain")&&window.location.hostname!==o)window.location.href=t;else{const e=t.substring(location.origin.length+1);window.nav.setLoc(e)}}),[]),m=e=>{_&&g(e);const t=(0,n.getTrackCode)("search_track_code");t&&s.searchStatsCollector.logEvent({action:l.SearchClickActionMap.TAP_SHOW_ALL,track_code:t,type:l.EventItemType.CATALOG_ITEM})};switch(t){case c.CatalogBlockLayoutName.SLIDER:case c.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,a.jsx)(i.HorizontalCellShowMore,{href:o,onClick:g,size:"l",stretched:!0,children:e.title});default:return(0,a.jsx)(r.Link,{"data-testid":"catalog_action",href:o,onClick:m,children:e.title})}}},854948:(e,t,o)=>{o.d(t,{SwitchSection:()=>a.SwitchSection});var a=o(251049)},478457:(e,t,o)=>{o.d(t,{VideoSubscriptionsBlockFilter:()=>c});var a=o(474848),i=o(293721),r=o(314309),n=o(308631),s=o(218486),l=o(379036);const c=({action:e,layout:t})=>{const o=(0,i.useStore)(n.appCatalogService.actionsService.$selectedAction);if(!e.options?.length)return null;const c=e.options.some((e=>1===e.selected));return(0,a.jsx)(a.Fragment,{children:e.options.map((i=>{const d=()=>{i.replacement_id!==o?.replacement_id&&1!==i.selected?(r.videoAuthorFilterClickCollector.logEvent(i.trackcode),n.appCatalogService.actionsService.selectAction(i)):e.default_option&&n.appCatalogService.actionsService.selectAction(e.default_option)};return i.group_id?(0,a.jsx)(s.GroupItem,{badge:i.badge,elementId:(u=i.replacement_id,`catalog-action-${u}`),id:i.group_id,layout:t,onClick:d,...(0,l.getBlockFilterGroupMode)(o,i,c)},i.group_id):null;var u}))})}},379036:(e,t,o)=>{o.d(t,{getBlockFilterGroupMode:()=>a});const a=(e,t,o)=>e?e.replacement_id===t.replacement_id?{activated:!0}:{disableOpacity:!0}:o?1===t.selected?{activated:!0}:{disableOpacity:!0}:void 0},926205:(e,t,o)=>{o.d(t,{VideoSubscriptionsBlockFilter:()=>a.VideoSubscriptionsBlockFilter});var a=o(478457)},596817:(e,t,o)=>{o.d(t,{BANNER_ID:()=>a});const a={VIDEO_SUBSCRIPTIONS_SELECT:"video_subscriptions_select",VIDEO_TRANSFER_FROM_YOUTUBE:"video_transfer_from_youtube"}},363335:(e,t,o)=>{o.d(t,{getActionByType:()=>_});var a=o(738164),i=o(49932),r=o(284956),n=o(822960),s=o(212006),l=o(209464),c=o(579034),d=o(854948),u=o(926205);const p=()=>null,_=e=>{switch(e.action?.type){case i.CatalogActionType.BLOCK_FILTER:return r.BlockFilter;case i.CatalogActionType.OPEN_URL:return(0,s.getOpenUrlByActionId)(e);case i.CatalogActionType.SWITCH_SECTION:return d.SwitchSection;case i.CatalogActionType.CLEAR_RECENT_GROUPS:return a.ClearRecentGroups;case i.CatalogActionType.VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:return u.VideoSubscriptionsBlockFilter;case i.CatalogActionType.OPEN_SECTION:return(0,n.getOpenSectionByActionId)(e);case i.CatalogActionType.OPEN_VIDEO_MODAL:return l.OpenVideo;case i.CatalogActionType.OPEN_VIDEO_PLAYLIST_MODAL:return c.OpenVideoPlaylist;default:return p}}},363476:(e,t,o)=>{o.d(t,{Action:()=>a.Action});var a=o(495284)},27356:(e,t,o)=>{o.d(t,{FootnoteBlockTitle:()=>s});var a=o(474848),i=o(303800),r=o(285056),n=o(723723);const s=({title:e})=>(0,a.jsx)(i.Div,{paddingBottom:16,paddingTop:0,children:(0,a.jsx)(r.Footnote,{className:(0,n.getColorClass)("color_text_secondary"),weight:"3",children:e})})},372309:(e,t,o)=>{o.d(t,{FootnoteBlockTitle:()=>a.FootnoteBlockTitle});var a=o(27356)},253912:(e,t,o)=>{o.d(t,{getBlockTitleByLayoutStyle:()=>n});var a=o(49932),i=o(372309);const r=()=>null,n=e=>e===a.CatalogBlockLayoutStyle.WITH_BUTTON?i.FootnoteBlockTitle:r},801659:(e,t,o)=>{o.d(t,{getBlockTitleByLayoutStyle:()=>a.getBlockTitleByLayoutStyle});var a=o(253912)},347082:(e,t,o)=>{o.d(t,{GroupItem:()=>m});var a=o(474848),i=o(296540),r=o(468073),n=o(751268),s=o(213338),l=o(412888),c=o(174269),d=o(898848),u=o(49932),p=o(693679),_=o(540462),g=o(885470);const m=({activated:e,badge:t,disableOpacity:o,elementId:m,id:v,layout:S,onClick:C})=>{const{appCatalogService:h}=(0,c.useCatalogConfig)(),[f,I]=(0,i.useState)(Boolean(t)),y=(0,c.useCatalogStoreMap)(h.groupsService.$groups,v),k=({detail:e})=>{const{author_id:t,type:o}=e;if(r.Ranges.convertGroupIdToOwnerId(Number(v))===t)switch(o){case p.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES.ADD_BADGE:I(!0);break;case p.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES.RM_BADGE:I(!1)}};if((0,i.useEffect)((()=>(document.addEventListener(p.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,k),()=>{document.removeEventListener(p.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,k)})),[]),!y)return null;const E=((0,d.isRetina)()?y.photo_200:y.photo_100)||"",T=(0,_.partConfigEnabled)("video_add_subscriptions_notify_dots")&&f?(0,a.jsx)(n.RichAvatar.BadgeWithPreset,{preset:"content-unseen"}):null;return S===u.CatalogBlockLayoutName.SLIDER?(0,a.jsx)(s.HorizontalCell,{activated:e,disableOpacity:o,header:(0,a.jsx)(l.TextClamp,{className:g.default.title,lines:1,title:y.name,children:y.name}),id:m,onClick:C,size:"m",children:(0,a.jsx)(n.RichAvatar,{nft:Boolean(y.is_nft_photo),size:72,src:E,children:T})}):null}},218486:(e,t,o)=>{o.d(t,{GroupItem:()=>a.GroupItem});var a=o(347082)},901058:(e,t,o)=>{o.d(t,{Header:()=>s});var a=o(474848),i=o(296540),r=o(557992),n=o(363476);const s=({actions:e,layout:t,badge:o,...s})=>(0,a.jsx)(r.Header,{"data-testid":"catalog_header",size:"large",aside:e?.map(((e,o)=>(0,i.createElement)(n.Action,{...s,key:e.track_code||o,action:e,layout:t.name}))),subtitle:t.subtitle,indicator:o?.text,stretched:"stretched"===t.style,children:(0,a.jsx)("span",{"data-testid":"catalog_header_title",children:t.title})})},361251:(e,t,o)=>{o.d(t,{Header:()=>a.Header});var a=o(901058)},389882:(e,t,o)=>{o.d(t,{IslandSeparator:()=>r});var a=o(474848),i=o(160478);const r=()=>(0,a.jsxs)("div",{className:i.default.separator,children:[(0,a.jsx)("div",{className:i.default.upperSeparator}),(0,a.jsx)("div",{className:i.default.lowerSeparatorWrapper,children:(0,a.jsx)("div",{className:i.default.lowerSeparator})})]})},917286:(e,t,o)=>{o.d(t,{IslandSeparator:()=>a.IslandSeparator});var a=o(389882)},117960:(e,t,o)=>{o.d(t,{Link:()=>n});var a=o(474848),i=o(642852),r=o(174269);const n=({id:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),o=(0,r.useCatalogStoreMap)(t.linksService.$links,e);return o?(0,a.jsx)(i.MusicCell,{thumb:o?.image?.length?o.image[0].url:"",title:"",duration:0,after:(0,a.jsx)(a.Fragment,{}),artists:[{name:o.title??"",href:o.url??""}],thumbSize:48}):null}},710354:(e,t,o)=>{o.d(t,{Link:()=>a.Link});var a=o(117960)},550840:(e,t,o)=>{o.d(t,{List:()=>l});var a=o(474848),i=o(293721),r=o(351137),n=o(509385),s=o(227147);const l=e=>{const{appCatalogService:t}=(0,r.useCatalogConfig)();return(0,i.useStore)(t.catalogService.$loadingBlockIds).includes(e.id)?(0,a.jsx)(n.ListLoading,{...e}):(0,a.jsx)(s.ListReady,{...e})}},550329:(e,t,o)=>{o.d(t,{ListGrid:()=>c});var a=o(474848),i=o(591378),r=o(680118),n=o(908970),s=o(351137),l=o(578118);const c=({children:e,onSortChange:t,sortItems:o,testId:c})=>{const{listGridProps:d}=(0,s.useCatalogDesktopVideo)(),{spacing:u,rowSpacing:p,columnSpacing:_,numberOfSkeletons:g,columnsQueries:m,columnsDefault:v,...S}=d||l.defaultGridProps,C=u?{spacing:u}:{rowSpacing:p,columnSpacing:_},h=(0,n.useListAdaptivityColumns)(m,v),f=(0,a.jsx)(i.Grid,{"data-testid":c,...S,...C,columns:h,children:e});return o?(0,a.jsx)(r.Sortable,{"data-testid":c,items:o,onSortChange:t,children:f}):f}},578118:(e,t,o)=>{o.d(t,{defaultGridProps:()=>a});const a={className:o(58643).default.list,rowSpacing:24,columnSpacing:12}},877051:(e,t,o)=>{o.d(t,{ListGrid:()=>a.ListGrid,useListAdaptivityColumns:()=>i.useListAdaptivityColumns});var a=o(550329),i=o(908970)},908970:(e,t,o)=>{o.d(t,{useListAdaptivityColumns:()=>i});var a=o(513950);const i=(e=[{value:3,query:{minWidth:1106,maxWidth:1357}},{value:4,query:{minWidth:1358,maxWidth:2040}},{value:5,query:{minWidth:2041}}],t=2)=>(0,a.useAdaptivityMediaQueries)(e,t)},48221:(e,t,o)=>{o.d(t,{ListItemSkeleton:()=>s});var a=o(474848),i=o(49932),r=o(389257),n=o(665936);const s=e=>(0,n.isListItemSkeletonAvailable)(e)&&e.data_type===i.CatalogBlockDataType.VIDEOS?(0,a.jsx)(r.VideoCardSkeleton,{singleLineTitle:!0}):null},41287:(e,t,o)=>{o.d(t,{ListItemSkeleton:()=>i.ListItemSkeleton,isListItemSkeletonAvailable:()=>a.isListItemSkeletonAvailable});var a=o(665936),i=o(48221)},665936:(e,t,o)=>{o.d(t,{isListItemSkeletonAvailable:()=>i});var a=o(49932);const i=e=>[a.CatalogBlockDataType.VIDEOS].includes(e.data_type)},553243:(e,t,o)=>{o.d(t,{ListLoading:()=>s});var a=o(474848),i=o(209808),r=o(41287),n=o(444590);const s=e=>(0,r.isListItemSkeletonAvailable)(e)?(0,a.jsx)(n.ListSkeleton,{...e}):(0,a.jsx)(i.PanelSpinner,{})},444590:(e,t,o)=>{o.d(t,{ListSkeleton:()=>d});var a=o(474848),i=o(351118),r=o(591378),n=o(351137),s=o(877051),l=o(41287),c=o(170328);const d=e=>{const{listGridProps:t}=(0,n.useCatalogDesktopVideo)(),{numberOfSkeletons:o}=t??c.defaultGridProps;return(0,a.jsx)(s.ListGrid,{children:(0,i.createArray)(o||0).map(((t,o)=>(0,a.jsx)(r.Grid.Item,{children:(0,a.jsx)(l.ListItemSkeleton,{...e})},o)))})}},170328:(e,t,o)=>{o.d(t,{defaultGridProps:()=>a});const a={numberOfSkeletons:12}},509385:(e,t,o)=>{o.d(t,{ListLoading:()=>a.ListLoading});var a=o(553243)},227147:(e,t,o)=>{o.d(t,{ListReady:()=>u});var a=o(474848),i=o(418755),r=o(351137),n=o(363476),s=o(801659),l=o(137486),c=o(966492),d=o(344284);const u=e=>{const{sortingProps:t}=(0,r.useCatalogDesktopVideo)(),o=(0,i.extractItemsIds)(e),u=(0,d.getBlockByDataType)(e),p=(0,s.getBlockTitleByLayoutStyle)(e.layout.style),_=(0,i.getDataTestId)("list",e.data_type),g=e.actions?.map(((t,o)=>(0,a.jsx)(n.Action,{...e,action:t,layout:e.layout.name},t.track_code||o))),m=t?.isSortableBlock?.(e)?(0,a.jsx)(c.ListSortable,{testId:_,block:e,Item:u,items:o,...t}):(0,a.jsx)(l.ListSimple,{testId:_,block_id:e.id,Item:u,itemBadges:e.item_badges,items:o,layout:e.layout.name,layoutStyle:e.layout.style});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{title:e.title}),g,m]})}},137486:(e,t,o)=>{o.d(t,{ListSimple:()=>n});var a=o(474848),i=o(591378),r=o(877051);const n=({items:e,Item:t,testId:o,...n})=>(0,a.jsx)(r.ListGrid,{testId:o,children:e?.map((e=>(0,a.jsx)(i.Grid.Item,{children:(0,a.jsx)(t,{...e,...n})},e.id)))})},966492:(e,t,o)=>{o.d(t,{ListSortable:()=>l});var a=o(474848),i=o(296540),r=o(680118),n=o(591378),s=o(877051);const l=({block:e,items:t,isSortableItem:o,Item:l,onSortChange:c,testId:d})=>{const u=(0,i.useRef)(e);(0,i.useEffect)((()=>{u.current=e}),[e]);const p=(0,i.useMemo)((()=>t.map((({id:t,title:a})=>({disabled:o?.(e,t),id:String(t),label:a??""})))),[t,o]),_=(0,i.useCallback)(((e,t,o)=>{const a=e.map((({id:e})=>e));c(u.current,a,t,o)}),[c]);return(0,a.jsx)(s.ListGrid,{testId:d,sortItems:p,onSortChange:_,children:t?.map(((t,o)=>(0,a.jsx)(r.Sortable.Item,{...p[o],children:(0,a.jsx)(n.Grid.Item,{children:(0,a.jsx)(l,{...t,layout:e.layout.name,layoutStyle:e.layout.style,itemBadges:e.item_badges})})},t.id)))})}},344284:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>g});var a=o(49932),i=o(950600),r=o(389257),n=o(539254),s=o(593965),l=o(984839),c=o(979717),d=o(304814),u=o(540462),p=o(856289);const _=()=>null,g=e=>{switch(e.data_type){case a.CatalogBlockDataType.ALBUMS:return i.Playlist;case a.CatalogBlockDataType.SEARCH_AUTHORS:return s.SearchAuthor;case a.CatalogBlockDataType.VIDEOS:return(0,u.partConfigEnabled)("video_memoization_video_card_web")&&(0,p.isVideoStandalone)()&&(0,d.isAuthorAllVideosPage)()?r.OptimizedVideo:r.Video;case a.CatalogBlockDataType.GROUPS_INVITES:return l.GroupInvite;case a.CatalogBlockDataType.MUSIC_AUDIOS:return n.MusicAudios;case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return c.VKVideoLive;case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return c.VKVideoLiveCategory;default:return _}}},170810:(e,t,o)=>{o.d(t,{List:()=>a.List,isListItemSkeletonAvailable:()=>r.isListItemSkeletonAvailable,useListAdaptivityColumns:()=>i.useListAdaptivityColumns});var a=o(550840),i=o(877051),r=o(41287)},617998:(e,t,o)=>{o.d(t,{MusicAudios:()=>v});var a=o(474848),i=o(949711),r=o(866467),n=o(303800),s=o(642852),l=o(293721),c=o(29560),d=o(351137),u=o(317216),p=o(657293),_=o(174269),g=o(392358),m=o(139612);const v=({id:e,type:t,block_id:o})=>{const{musicPlayer:v,userId:S,appCatalogService:C}=(0,d.useCatalogConfig)(),{id:h}=(0,m.mapAPIRawIdToAudioIdentity)(String(e)),f=(0,l.useStoreMap)(C.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),I=(0,_.useCatalogStoreMap)(C.audioService.$audioItems,e),y=(0,l.useStore)(C.audioService.$audioModifiedItems),k=y?.[h],E=(0,c.useAudioPlayer)(),T=(0,d.useCollectClick)(),A=(0,p.useRefLogView)({type:t,trackCode:I?.track_code});if(!I)return null;const R=E?.currentAudio?.id===I?.id,x=R&&"playing"===E.status,b=(()=>{const o=!!k?.isAdded||!k?.isDeleted&&I.owner_id===S,a={action:o?u.SearchClickActionMap.REMOVE_FROM_ME:u.SearchClickActionMap.ADD_TO_ME,track_code:I.track_code,type:t},i={audio_id:I.id,owner_id:I.owner_id,user_id:S,access_key:I.access_key||""};return[{children:o?(0,r.getLang)("global_delete_audio"):(0,r.getLang)("global_add_to_audio"),onClick:t=>(t.stopPropagation(),T(a),E.platformAudioPlayer?.notify?.(o?g.AudioPlayerEventType.REMOVED:g.AudioPlayerEventType.ADDED,e),void(o?C.audioService.deleteAudioFromMyList:C.audioService.addAudioToMyList)(i))}]})();return(0,a.jsx)(n.Div,{getRootRef:A,mode:"horizontal",children:(0,a.jsx)(s.MusicCell,{thumb:I?.album?.thumb?.photo_135,title:I.title,artists:I.main_artists?I.main_artists:[{name:I.artist}],featuredArtists:I.featured_artists,duration:I.duration,hasThumbPlaying:x,hasThumbActivated:R,explicit:I.is_explicit,onClick:()=>{if(T({action:x?u.SearchClickActionMap.PAUSE:u.SearchClickActionMap.PLAY,track_code:I.track_code,type:t}),x)E?.platformAudioPlayer?.pause();else{const e=v?.playlistType&&{ownerId:S,albumId:I?.id,type:v.playlistType,blockId:o},t=`catalog:${o}`;E?.platformAudioPlayer?.playAudio(I,f,t,e)}},after:(0,a.jsx)(i.MusicAudiosMenu,{items:b}),thumbSize:48})})}},949711:(e,t,o)=>{o.d(t,{MusicAudiosMenu:()=>s});var a=o(474848),i=o(507852),r=o(723723),n=o(141575);const s=({items:e=[]})=>{const t=e.map(((e,t)=>(0,a.jsx)(i.DropdownActionSheet.Item,{...e},t)));return(0,a.jsx)(i.DropdownActionSheet,{trigger:"click",placement:"bottom-end",content:(0,a.jsx)(a.Fragment,{children:t}),children:(0,a.jsx)(n.Icon24MoreHorizontal,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,r.getColorClass)("color_icon_secondary")})})}},539254:(e,t,o)=>{o.d(t,{MusicAudios:()=>a.MusicAudios});var a=o(617998)},686102:(e,t,o)=>{o.d(t,{MusicPlaylist:()=>S});var a=o(474848),i=o(296540),r=o(908671),n=o(392764),s=o(412888),l=o(285056),c=o(815138),d=o(294691),u=o(641495),p=o(174269),_=o(317216),g=o(738313),m=o(29560),v=o(231450);const S=(0,i.memo)((0,p.withCatalogStore)((({item:e,blockId:t,collectClick:o,getRootRef:d,trackCode:S})=>{const{findOwner:C}=(0,p.useCatalogOwner)(),{showAudioPlaylist:h}=(0,p.useCatalogSearch)(),{currentPlaylist:f,platformAudioPlayer:I,status:y}=(0,m.useAudioPlayer)(),k=(0,i.useMemo)((()=>C(e.owner_id)),[C,e]),E=`catalog:${t}`,T=e.original?e.original.playlist_id===f?.original?.playlist_id&&e.original.owner_id===f.original.owner_id:f?.id===e.id&&f.owner_id===e.owner_id,A=T&&y===g.AudioPlayerStatus.PLAYING,{title:R,main_artists:x,thumbs:b,photo:L,year:O,count:w,plays:V}=e,P=x?.map((e=>e.name)).join(", ")||(0,u.getOwnerName)(k),B=[L,...b??[]].map((e=>e?.photo_270)).filter((e=>Boolean(e)));return(0,a.jsx)("div",{ref:d,children:(0,a.jsx)(n.MusicPlaylistItem,{size:"l",thumbs:B,onClick:t=>{o(_.SearchClickActionMap.TAP),h?.({event:t,ctx:E,audioPlaylist:e,onDone:()=>(0,v.setTrackCode)("search_track_code",S)})},countLabel:w,hasThumbActivated:T,hasThumbPlaying:A,playsLabel:(0,r.formatCount)(V),onPlayPauseClick:()=>{I&&(o(A?_.SearchClickActionMap.PAUSE:_.SearchClickActionMap.PLAY),A?I.pause():I.playPlaylist(e,E))},title:(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:R}),subtitle:(0,a.jsxs)(c.Join,{separator:" ",children:[(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:P}),O&&(0,a.jsx)(l.Subhead,{weight:"3",children:O})]})})})}),p.appCatalogService.musicPlaylistsService.$musicPlaylists,(e=>"playlist"===(0,d.getAudioPlaylistAlbumType)(e)?_.EventItemType.MUSIC_PLAYLIST:_.EventItemType.MUSIC_ALBUM)))},541747:(e,t,o)=>{o.d(t,{MusicPlaylist:()=>a.MusicPlaylist});var a=o(686102)},199162:(e,t,o)=>{o.d(t,{PinnedVideo:()=>u});var a=o(474848),i=o(418755),r=o(351137),n=o(491527),s=o(293721),l=o(209808),c=o(303800),d=o(526094);const u=e=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),o=(0,i.extractItemsIds)(e),u=(0,n.getBlockByDataType)(e);if((0,s.useStore)(t.catalogService.$loadingBlockIds).includes(e.id))return(0,a.jsx)(l.PanelSpinner,{});const[{id:p,..._}]=o,g=String(p);return(0,a.jsx)(c.Div,{mode:"vertical",spacing:8,className:d.default.container,children:(0,a.jsx)(u,{id:g,..._,layout:e.layout.name,kitVideoCardProps:{direction:"horizontal"}})})}},491527:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>c});var a=o(540462),i=o(856289),r=o(49932),n=o(304814),s=o(389257);const l=()=>null,c=e=>e.data_type===r.CatalogBlockDataType.VIDEOS?(0,a.partConfigEnabled)("video_memoization_video_card_web")&&(0,i.isVideoStandalone)()&&(0,n.isAuthorAllVideosPage)()?s.OptimizedVideo:s.Video:l},167111:(e,t,o)=>{o.d(t,{PinnedVideo:()=>a.PinnedVideo});var a=o(199162)},352054:(e,t,o)=>{o.d(t,{Placeholder:()=>d});var a=o(474848),i=o(293721),r=o(209808),n=o(720836),s=o(351137),l=o(613910),c=o(640384);const d=({placeholder_ids:e,id:t})=>{const{appCatalogService:o,withStretchedPlaceholders:d}=(0,s.useCatalogConfig)(),u=(0,i.useStore)(o.placeholdersService.$placeholders);return(0,i.useStore)(o.catalogService.$loadingBlockIds).includes(t)?(0,a.jsx)(r.PanelSpinner,{}):(0,a.jsx)(a.Fragment,{children:e?.map((e=>{const t=u.get(e);if(!t)return null;const{buttons:o,title:i,text:r,vk_icons_icon:s}=t,p=(0,l.getPlaceholderIcon)(s),_=o?.map(((t,o)=>{const i=(0,c.getButtonByActionType)(t);return(0,a.jsx)(i,{id:e,button:t},o)}));return(0,a.jsx)(n.Placeholder,{action:_,icon:p,header:i,stretched:d,children:r},e)}))})}},19277:(e,t,o)=>{o.d(t,{TertiaryButtonOpenUrl:()=>r});var a=o(474848),i=o(454154);const r=({button:e})=>{const{action:t,title:o}=e,r=t?.url;return(0,a.jsx)(i.Button,{appearance:"accent",href:r,mode:"tertiary",size:"m",target:"_blank",children:o})}},785652:(e,t,o)=>{o.d(t,{TertiaryButtonOpenUrl:()=>a.TertiaryButtonOpenUrl});var a=o(19277)},963726:(e,t,o)=>{o.d(t,{PLACEHOLDER_ICONS:()=>s});var a=o(65956),i=o(455548),r=o(499121),n=o(760045);const s={hearts_2_outline_36:a.Icon36Hearts2Outline,hide_outline_56:i.Icon56HideOutline,list_play_outline_36:r.Icon36ListPlayOutline,user_add_outline_56:n.Icon56UserAddOutline}},640384:(e,t,o)=>{o.d(t,{getButtonByActionType:()=>n});var a=o(49932),i=o(785652);const r=()=>null,n=e=>e.action?.type===a.CatalogActionType.OPEN_URL?i.TertiaryButtonOpenUrl:r},405571:(e,t,o)=>{o.d(t,{Placeholder:()=>a.Placeholder});var a=o(352054)},613910:(e,t,o)=>{o.d(t,{getPlaceholderIcon:()=>r});var a=o(474848),i=o(963726);const r=e=>{const t=e?i.PLACEHOLDER_ICONS[e]:void 0;return t&&(0,a.jsx)(t,{})}},721540:(e,t,o)=>{o.d(t,{Playlist:()=>l});var a=o(474848),i=o(361121),r=o(293721),n=o(190770),s=o(174269);const l=({id:e,itemBadges:t,layoutStyle:o})=>{const{appCatalogService:l}=(0,s.useCatalogConfig)(),c=(0,r.useStoreMap)({store:l.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:o,itemId:a}=(0,i.splitRawId)(t);return e.find((e=>e.id===a&&e.owner_id===o))??null}});return c?(0,a.jsx)(n.PlaylistSimple,{id:e,playlist:c,itemBadges:t,layoutStyle:o}):null}},135383:(e,t,o)=>{o.d(t,{PlaylistCard:()=>m});var a=o(474848),i=o(98972),r=o(768035),n=o(873900),s=o(671112),l=o(351137),c=o(866467),d=o(540462),u=o(841315),p=o(217728),_=o(6932),g=o(544987);const m=e=>{const{playlist:t,isUpdated:o}=e,{isAvatarHidden:m,onPlaylistOpen:v,onPlaylistPageOpen:S}=(0,l.useCatalogDesktopVideo)(),C=(0,_.usePlaylist)(t),h=(0,p.useOverlay)(t),f=(0,g.useMenuItems)(e),{owner_id:I,id:y,first_video_id:k}=t;if(!C)return null;const E=(0,d.partConfigEnabled)("video_community_simple_playlistcard")&&"invisible_author"===e.layoutStyle;if(k){const{id:e,ownerId:t}=(0,r.parseRawId)(k);C.href=(0,u.getVideoUrl)({id:e,owner_id:t},{playlistId:(0,n.getIdentityRawId)({id:y,ownerId:I})})}const T=(0,s.getPlaylistURL)(I,y);return(0,a.jsx)(i.VideoPlaylistCard,{item:C,withBadge:o,noAvatar:m,noOwner:E,menuItems:f,overlay:h,hoverText:(0,c.getLang)("video_playlist_watch_all_videos"),onClick:e=>v(e,t),onTitleClick:e=>{e.preventDefault(),S?.(e,t)},titleHref:T})}},349045:(e,t,o)=>{o.d(t,{PlaylistCard:()=>a.PlaylistCard});var a=o(135383)},544987:(e,t,o)=>{o.d(t,{useMenuItems:()=>_});var a=o(474848),i=o(296540),r=o(264992),n=o(954647),s=o(753833),l=o(22225),c=o(726519),d=o(927841),u=o(866467),p=o(351137);const _=e=>{const{playlist:t,isSubscribeLoading:o}=e,{onPlaylistUpload:_,onPlaylistEdit:g,onPlaylistCopyUrl:m,onPlaylistToggleSubscribe:v,onPlaylistDelete:S}=(0,p.useCatalogDesktopVideo)();return(0,i.useMemo)((()=>{const e=[],i=window.vk.id===t.owner_id;return t.can_upload&&e.push({before:(0,a.jsx)(r.Icon20ListAddOutline,{}),children:(0,u.getLang)("video_playlist_add"),onClick:e=>_(e,t),"data-testid":"playlist_card_add_video_button"}),t.can_edit&&e.push({before:(0,a.jsx)(n.Icon20WriteOutline,{}),children:(0,u.getLang)("video_edit_playlist"),onClick:e=>g(e,t),"data-testid":"playlist_card_edit_button"}),t.can_subscribe&&!i&&e.push({before:t.is_subscribed?(0,a.jsx)(s.Icon20CheckAlt,{}):(0,a.jsx)(l.Icon20AddSquareOutline,{}),children:t.is_subscribed?(0,u.getLang)("video_you_subscribed_to_playlist"):(0,u.getLang)("video_subscribe_to_playlist"),onClick:o?void 0:e=>v(e,t),loading:o,keepOpen:!0,"data-testid":"playlist_card_subscribe_button"}),e.push({before:(0,a.jsx)(c.Icon20CopyOutline,{}),children:(0,u.getLang)("video_copy_playlist_url"),onClick:e=>m(e,t),"data-testid":"playlist_card_copy_link_button"}),t.can_delete&&e.push({type:"destructive",before:(0,a.jsx)(d.Icon20DeleteOutline,{}),children:(0,u.getLang)("video_delete_playlist"),onClick:e=>S(e,t),"data-testid":"playlist_card_delete_button"}),e}),[t,o,_,g,v,m,S])}},217728:(e,t,o)=>{o.d(t,{useOverlay:()=>r});var a=o(296540),i=o(351137);const r=e=>{const{playlistOverlay:t}=(0,i.useCatalogDesktopVideo)(),[o,r]=(0,a.useState)(!0),[n,s]=(0,a.useMemo)((()=>{const a=t?.(e);if(!a)return[];const{actionProps:i,hideTime:r,...n}=a;return[r,o?{...n,actionProps:i}:n]}),[o,e,t]);return(0,a.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{r(!1)}),n);return()=>{clearTimeout(e)}}),[n]),s}},6932:(e,t,o)=>{o.d(t,{usePlaylist:()=>n});var a=o(296540),i=o(351137),r=o(856289);const n=e=>{const{findOwner:t}=(0,i.useCatalogOwner)(),{ownerRoutePrefix:o}=(0,i.useCatalogDesktopVideo)();return(0,a.useMemo)((()=>{const a=t(e.owner_id);return a?{...(0,r.mapPlaylistToPlaylistCardItem)(e),owner:(0,r.mapUserOrGroupToPlaylistCardOwner)(a,o)}:null}),[e,t,o])}},190770:(e,t,o)=>{o.d(t,{PlaylistSimple:()=>c});var a=o(474848),i=o(293721),r=o(538522),n=o(296540),s=o(349045),l=o(351137);const c=({playlist:e,itemBadges:t,layoutStyle:o})=>{const{appCatalogService:c}=(0,l.useCatalogConfig)(),d=(0,n.useMemo)((()=>(0,r.joinRawId)({ownerId:e.owner_id,itemId:e.id})),[e.owner_id,e.id]),u=(0,i.useStoreMap)({store:c.playlistService.$playlistsSubscribeLoading,keys:[d],fn:(e,[t])=>e.has(t)}),p=(0,n.useMemo)((()=>t?.some((e=>e.item_id===d&&"primary"===e.badge?.type))),[t,d]);return(0,a.jsx)(s.PlaylistCard,{playlist:e,isSubscribeLoading:u,isUpdated:p,layoutStyle:o})}},136165:(e,t,o)=>{o.d(t,{SliderPlaylist:()=>c});var a=o(474848),i=o(293721),r=o(361121),n=o(351137),s=o(190770),l=o(505695);const c=({id:e,layoutStyle:t})=>{const{appCatalogService:o}=(0,n.useCatalogConfig)(),c=(0,i.useStoreMap)({store:o.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:o,itemId:a}=(0,r.splitRawId)(`${t}`);return e.find((e=>e.id===a&&e.owner_id===o))??null}});return c?(0,a.jsx)("div",{className:l.default.container,children:(0,a.jsx)(s.PlaylistSimple,{id:e,playlist:c,layoutStyle:t})}):null}},110582:(e,t,o)=>{o.d(t,{SliderPlaylist:()=>a.SliderPlaylist});var a=o(136165)},950600:(e,t,o)=>{o.d(t,{Playlist:()=>a.Playlist,SliderPlaylist:()=>i.SliderPlaylist});var a=o(721540),i=(o(190770),o(110582))},87538:(e,t,o)=>{o.d(t,{SearchAuthor:()=>d});var a=o(474848),i=o(468073),r=o(174269),n=o(49932),s=o(366910),l=o(317216),c=o(293721);const d=({content_type:e,id:t,description:o,layout:d,layoutStyle:u,track_code:p,block_id:_})=>{const{appCatalogService:g}=(0,r.useCatalogConfig)(),m=(0,c.useStore)(g.pageService.$catalogType),v=(0,r.useCollectClick)(),S=(0,r.useRefLogView)({type:l.EventItemType.SEARCH_AUTHOR,trackCode:p}),C=(0,c.useStore)(g.pageService.$pageId),h=(0,r.useCatalogStoreMap)(g.groupsService.$groups,i.Ranges.convertOwnerIdToGroupId(t));if(!h)return null;const f=()=>{m===r.CatalogType.SEARCH&&v({action:l.SearchClickActionMap.TAP,track_code:p,type:l.EventItemType.SEARCH_AUTHOR})};switch(d){case n.CatalogBlockLayoutName.LARGE_LIST:case n.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:case n.CatalogBlockLayoutName.LIST_WITH_RETURN_STATE:if("videos"===e)return(0,a.jsx)(s.VideoSearchAuthor,{blockId:_,description:o,getRootRef:m===r.CatalogType.SEARCH?S:void 0,group:h,layoutStyle:u,onClick:f,trackCode:"SearchSubscriptionsModal"===C?p:void 0});default:return null}}},818562:(e,t,o)=>{o.d(t,{AllAuthorsRichCellActions:()=>_});var a=o(474848),i=o(454154),r=o(507852),n=o(881940),s=o(845794),l=o(213220),c=o(866467),d=o(457694),u=o(540462);const p=e=>{e.preventDefault(),(0,u.partConfigEnabled)("video_fix_return_subscription_page_reload")&&e.stopPropagation()},_=e=>{const{isVideoSubscriptionHidden:t,isVideoSubscriptionMember:o,toggleGroupMembership:u,toggleHideAuthor:_}=(0,d.useRichCellActions)(e);return t?(0,a.jsx)(i.Button,{mode:"secondary",onClick:_,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_restore_button")}):o?(0,a.jsx)(r.DropdownActionSheet,{content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.DropdownActionSheet.Item,{before:(0,a.jsx)(n.Icon20HideOutline,{}),onClick:_,children:(0,c.getLang)("video_catalog_subscriptions_group_hide")}),(0,a.jsx)(r.DropdownActionSheet.Item,{before:(0,a.jsx)(s.Icon20MinusSquareOutline,{}),onClick:u,children:(0,c.getLang)("video_catalog_subscriptions_group_leave")})]}),placement:"bottom-end",children:(0,a.jsx)(i.Button,{after:(0,a.jsx)(l.Icon12Dropdown,{}),appearance:"accent",mode:"secondary",onClick:p,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_group_subscribed")})}):(0,a.jsx)(i.Button,{mode:"secondary",onClick:u,size:"s",children:(0,c.getLang)("video_catalog_subscriptions_all_tab_video_search_subscription_restore_button")})}},866025:(e,t,o)=>{o.d(t,{HiddenAuthorsRichCellActions:()=>s});var a=o(474848),i=o(454154),r=o(866467),n=o(457694);const s=e=>{const{isVideoSubscriptionHidden:t,toggleHideAuthor:o}=(0,n.useRichCellActions)(e),s=t?(0,r.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_restore_button"):(0,r.getLang)("video_catalog_subscriptions_hidden_tab_video_search_author_hide_button");return(0,a.jsx)(i.Button,{mode:"secondary",onClick:o,size:"s",children:s})}},501739:(e,t,o)=>{o.d(t,{getRichCellActionsByLayoutStyle:()=>s});var a=o(49932),i=o(818562),r=o(866025);const n=()=>null,s=e=>{switch(e){case a.CatalogBlockLayoutStyle.WITH_BUTTON:return r.HiddenAuthorsRichCellActions;case a.CatalogBlockLayoutStyle.WITH_DROPDOWN:return i.AllAuthorsRichCellActions;default:return n}}},382964:(e,t,o)=>{o.d(t,{getRichCellActionsByLayoutStyle:()=>a.getRichCellActionsByLayoutStyle});var a=o(501739)},457694:(e,t,o)=>{o.d(t,{useRichCellActions:()=>l});var a=o(296540),i=o(293721),r=o(468073),n=o(351137),s=o(540462);const l=({blockId:e,group:t})=>{const{id:o,is_member:l,is_video_subscription_hidden:c}=t,{appCatalogService:d}=(0,n.useCatalogConfig)(),{subscriptionsModalProps:u}=(0,n.useCatalogDesktopVideo)(),p=(0,i.useEvent)(d.groupsService.fireJoinGroup),_=(0,i.useEvent)(d.groupsService.fireLeaveGroup),[g,m]=(0,a.useState)(Boolean(c)),[v,S]=(0,a.useState)(Boolean(l)),C=u?.onToggleHideAuthor;return{isVideoSubscriptionHidden:g,isVideoSubscriptionMember:v,toggleHideAuthor:t=>{if(t.preventDefault(),(0,s.partConfigEnabled)("video_fix_return_subscription_page_reload")&&t.stopPropagation(),!C)return;const a=r.Ranges.convertGroupIdToOwnerId(o);C(t,{isVideoSubscriptionHidden:g,ownerId:a,trackCode:e}),m((e=>!e))},toggleGroupMembership:e=>{e.preventDefault(),(0,s.partConfigEnabled)("video_fix_return_subscription_page_reload")&&e.stopPropagation();(v?_:p)({group_id:o}),S((e=>!e))}}}},305954:(e,t,o)=>{o.d(t,{VideoSearchAuthor:()=>p});var a=o(474848),i=o(276898),r=o(751268),n=o(412888),s=o(285056),l=o(174269),c=o(898848),d=o(172479),u=o(382964);const p=({blockId:e,description:t,getRootRef:o,group:p,layoutStyle:_,onClick:g,trackCode:m})=>{const{ownerRoutePrefix:v}=(0,l.useCatalogDesktopVideo)(),S=m?`?search_track_code=${m}`:"",C=(0,d.getOwnerUrl)(p,v,S),h=((0,c.isRetina)()?p.photo_200:p.photo_100)||"",f=(0,u.getRichCellActionsByLayoutStyle)(_);return(0,a.jsx)(i.RichCell,{actions:f&&(0,a.jsx)(f,{blockId:e,group:p}),getRootRef:o,href:C,onClick:g,before:(0,a.jsx)(r.RichAvatar,{src:h,size:96}),caption:t?(0,a.jsx)(n.TextClamp,{TypographyComponent:s.Footnote,lines:1,title:t,children:t}):void 0,children:(0,a.jsx)(n.TextClamp,{TypographyComponent:s.Headline,level:"1",weight:"2",lines:1,title:p.name,children:p.name})})}},366910:(e,t,o)=>{o.d(t,{VideoSearchAuthor:()=>a.VideoSearchAuthor});var a=o(305954)},593965:(e,t,o)=>{o.d(t,{SearchAuthor:()=>a.SearchAuthor});var a=o(87538)},733474:(e,t,o)=>{o.d(t,{Separator:()=>s});var a=o(474848),i=o(194528),r=o(582192);const n={"top-small-bottom-small":{top:3,bottom:3},"top-small-bottom-large":{top:3,bottom:11},"top-large":{top:20},"top-extra-large":{top:28}},s=({layout:e})=>{const t=e.custom_style?n[e.custom_style]:null;return(0,a.jsxs)(a.Fragment,{children:[t?.top&&(0,a.jsx)(i.Spacing,{size:t.top}),(0,a.jsx)(r.Separator,{}),t?.bottom&&(0,a.jsx)(i.Spacing,{size:t.bottom})]})}},360397:(e,t,o)=>{o.d(t,{Separator:()=>a.Separator});var a=o(733474)},504385:(e,t,o)=>{o.d(t,{ShortVideoList:()=>m});var a=o(474848),i=o(209808),r=o(591378),n=o(351118),s=o(293721),l=o(351137),c=o(418755),d=o(344284),u=o(426593),p=o(170810),_=o(488561);const g={className:o(653258).default.shortVideoList,rowSpacing:12,columnSpacing:12,numberOfSkeletons:12},m=e=>{const{listGridProps:t}=(0,l.useCatalogDesktopVideo)(),{appCatalogService:o}=(0,l.useCatalogConfig)(),{spacing:m,rowSpacing:v,columnSpacing:S,numberOfSkeletons:C,...h}=t||g,f=m?{spacing:m}:{rowSpacing:v,columnSpacing:S},I=(0,u.useListAdaptivityShortVideoColumns)(t?.columnsQueries,t?.columnsDefault),y=(0,c.extractItemsIds)(e),k=(0,d.getBlockByDataType)(e),E=(0,s.useStore)(o.catalogService.$loadingBlockIds).includes(e.id),T=(0,p.isListItemSkeletonAvailable)(e);return E&&!T?(0,a.jsx)(i.PanelSpinner,{}):(0,a.jsx)(r.Grid,{...h,...f,columns:I,children:E?(0,n.createArray)(C||0).map(((t,o)=>(0,a.jsx)(r.Grid.Item,{children:(0,a.jsx)(_.ShortVideoListItemSkeleton,{...e},o)},o))):y?.map((({id:t,...o})=>(0,a.jsx)(r.Grid.Item,{children:(0,a.jsx)(k,{...o,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},196128:(e,t,o)=>{o.d(t,{ShortVideoListItemSkeleton:()=>s});var a=o(474848),i=o(49932),r=o(170810),n=o(885741);const s=e=>(0,r.isListItemSkeletonAvailable)(e)&&e.data_type===i.CatalogBlockDataType.VIDEOS?(0,a.jsx)(n.ShortVideoCardSkeleton,{}):null},488561:(e,t,o)=>{o.d(t,{ShortVideoListItemSkeleton:()=>a.ShortVideoListItemSkeleton});var a=o(196128)},883075:(e,t,o)=>{o.d(t,{ShortVideoList:()=>a.ShortVideoList,useListAdaptivityShortVideoColumns:()=>i.useListAdaptivityShortVideoColumns});var a=o(504385),i=o(426593)},426593:(e,t,o)=>{o.d(t,{useListAdaptivityShortVideoColumns:()=>i});var a=o(513950);const i=(e=[{value:5,query:{minWidth:1106,maxWidth:1357}},{value:6,query:{minWidth:1358,maxWidth:1535}},{value:7,query:{minWidth:1536,maxWidth:2040}},{value:8,query:{minWidth:2041}}],t=4)=>(0,a.useAdaptivityMediaQueries)(e,t)},614174:(e,t,o)=>{o.d(t,{Slider:()=>v});var a=o(474848),i=o(351118),r=o(354592),n=o(172656),s=o(351137),l=o(418755),c=o(363476),d=o(697531),u=o(947946),p=o(49932);const _={isGroupExpanded:!0,showArrows:!0,arrowSize:"m"},g={arrow_center_sm:-21,arrow_center_md:-47},m=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:o,...n}={..._,...t},m=(0,l.extractItemsIds)(e),v=(0,d.getBlockByDataType)(e),S=(0,l.getDataTestId)("slider",e.data_type);return e.layout.style&&g[e.layout.style]&&(n.arrowOffsetY=g[e.layout.style]),(0,a.jsx)(r.HorizontalScroll,{"data-testid":S,...n,children:(0,a.jsxs)("div",{className:(0,i.classNames)(u.default.scrollContainer,o&&u.default.groupContainer),children:[m.map((t=>(0,a.jsx)(v,{...t,layout:e.layout.name,layoutStyle:e.layout.style,album_id:e.data_type===p.CatalogBlockDataType.VIDEOS?e.albums_ids?.[0]:void 0},t.id))),e.actions?.map(((t,o)=>(0,a.jsx)(c.Action,{...e,action:t,layout:e.layout.name},t.track_code||o)))]})})},v=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:o}={..._,...t};return o?(0,a.jsx)(n.Group.ExpandedContent,{children:(0,a.jsx)(m,{...e})}):(0,a.jsx)(m,{...e})}},697531:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>p});var a=o(49932),i=o(541747),r=o(710354),n=o(389257),s=o(689477),l=o(950600),c=o(292598),d=o(361278);const u=()=>null,p=e=>{switch(e.data_type){case a.CatalogBlockDataType.VIDEOS:return n.Video;case a.CatalogBlockDataType.MUSIC_PLAYLISTS:return i.MusicPlaylist;case a.CatalogBlockDataType.LINKS:return r.Link;case a.CatalogBlockDataType.GROUPS_ITEMS:return s.GroupItem;case a.CatalogBlockDataType.ALBUMS:return l.SliderPlaylist;case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return c.VKVideoLive;case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return d.VKVideoLiveCategory;default:return u}}},348419:(e,t,o)=>{o.d(t,{Slider:()=>a.Slider});var a=o(614174)},595054:(e,t,o)=>{o.d(t,{TripleStackedSlider:()=>c});var a=o(474848),i=o(296540),r=o(171284),n=o(418755),s=o(467379),l=o(109724);const c=e=>{const t=(0,i.useMemo)((()=>(0,r.extractItemsIds)(e)),[e]),o=(0,l.getBlockByDataType)(e),c=(0,n.getEventItemTypeByDataType)(e),d=(0,r.getDirectionType)(e),u=(0,i.useMemo)((()=>t.map((t=>({key:t.id,length:t.content_length,component:(0,a.jsx)(o,{...t,layout:e.layout.name,type:c,block_id:e.id})})))),t);return(0,a.jsx)(s.TripleStackedSliderItems,{directionType:d,content:u})}},426237:(e,t,o)=>{o.d(t,{TripleStackedSliderItems:()=>d});var a=o(474848),i=o(591378),r=o(296540),n=o(249368),s=o(174269),l=o(351118),c=o(163023);const d=({directionType:e,content:t})=>{const o=e===n.DirectionType.row?(0,s.toColumnWithRows)(t,3):(0,l.chunkArray)(t,3),d=o.length>2;return(0,a.jsx)(i.Grid,{columns:d?"dynamic":2,children:(0,a.jsx)(i.Grid.HorizontalScroll,{getScrollToLeft:e=>e-800,getScrollToRight:e=>e+800,arrowSize:"m",children:o.map(((e,t)=>(0,a.jsx)(i.Grid.Item,{children:(0,a.jsx)("div",{className:(0,l.classNames)(d&&c.default.item),children:e?.map(((e,t)=>(0,a.jsx)(r.Fragment,{children:e.component},t)))})},t)))})})}},467379:(e,t,o)=>{o.d(t,{TripleStackedSliderItems:()=>a.TripleStackedSliderItems});var a=o(426237)},109724:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>n});var a=o(174269),i=o(710354),r=o(539254);const n=e=>{switch(e.data_type){case a.CatalogBlockDataType.MUSIC_AUDIOS:return r.MusicAudios;case a.CatalogBlockDataType.LINKS:return i.Link;default:return()=>null}}},100858:(e,t,o)=>{o.d(t,{TripleStackedSlider:()=>a.TripleStackedSlider});var a=o(595054)},727918:(e,t,o)=>{o.d(t,{VKVideoLive:()=>d});var a=o(474848),i=o(293721),r=o(174269),n=o(344356),s=o(618068),l=o(866467),c=o(891742);const d=({id:e,layout:t})=>{const{appCatalogService:o}=(0,r.useCatalogConfig)(),d=(0,i.useStoreMap)({store:o.VKLiveChannelsService.$vkliveChannels,keys:[e],fn:(e,[t])=>e.get(t)});if(!d)return null;const u=`${window.cur?.live_link}/${d.url}`,p={title:d.stream_title,isLive:"online"===d.status,thumbSrc:d.stream_preview_url,owner:{name:d.vklive_owner_nick,photo_50:d.vklive_owner_avatar_url,href:u},additionalInfo:(0,a.jsx)(n.Interpolate,{children:(0,l.getLang)("video_live_N_watching",d.stream_viewers,!0)}),href:u};return t===r.CatalogBlockLayoutName.SLIDER?(0,a.jsx)(c.VKVideoLiveCardSlider,{video:p}):(0,a.jsx)(s.VideoCard,{testId:"catalog_item_live",video:p})}},927071:(e,t,o)=>{o.d(t,{VKVideoLiveCardSlider:()=>s});var a=o(474848),i=o(174269),r=o(618068),n=o(286277);const s=({video:e})=>{const{videoCardProps:{sliderCardSize:t="m"}}=(0,i.useCatalogDesktopVideo)();return(0,a.jsx)(n.VideoCardSliderWrapper,{size:t,children:(0,a.jsx)(r.VideoCard,{testId:"catalog_item_live",video:e})})}},891742:(e,t,o)=>{o.d(t,{VKVideoLiveCardSlider:()=>a.VKVideoLiveCardSlider});var a=o(927071)},292598:(e,t,o)=>{o.d(t,{VKVideoLive:()=>a.VKVideoLive});var a=o(727918)},174450:(e,t,o)=>{o.d(t,{VKVideoLiveCategory:()=>l});var a=o(474848),i=o(293721),r=o(174269),n=o(53568),s=o(522903);const l=({id:e,layout:t})=>{const{appCatalogService:o}=(0,r.useCatalogConfig)(),l=(0,i.useStoreMap)({store:o.VKLiveCategoryService.$vkliveCategories,keys:[e],fn:(e,[t])=>e.get(t)});return l?t===r.CatalogBlockLayoutName.SLIDER?(0,a.jsx)(n.VKVideoLiveCategorySlider,{category:l}):(0,a.jsx)(s.VKVideoLiveCategoryCard,{category:l}):null}},8135:(e,t,o)=>{o.d(t,{VKVideoLiveCategoryCard:()=>r});var a=o(474848),i=o(620068);const r=({category:e,size:t="l"})=>{const{title:o,cover_url:r,id:n,viewers:s}=e;return(0,a.jsx)(i.VideoCategoryCard,{testId:"catalog_item_video_category",title:o,thumbSrc:r,viewersCount:s,size:t,href:`/lives/categories/${n}`,altText:o})}},522903:(e,t,o)=>{o.d(t,{VKVideoLiveCategoryCard:()=>a.VKVideoLiveCategoryCard});var a=o(8135)},261235:(e,t,o)=>{o.d(t,{VKVideoLiveCategorySlider:()=>n});var a=o(474848),i=o(522903),r=o(303800);const n=({category:e})=>(0,a.jsx)(r.Div,{mode:"vertical",spacing:6,paddingTop:4,paddingBottom:4,children:(0,a.jsx)(i.VKVideoLiveCategoryCard,{category:e,size:"m"})})},53568:(e,t,o)=>{o.d(t,{VKVideoLiveCategorySlider:()=>a.VKVideoLiveCategorySlider});var a=o(261235)},361278:(e,t,o)=>{o.d(t,{VKVideoLiveCategory:()=>a.VKVideoLiveCategory});var a=o(174450)},872711:(e,t,o)=>{o.d(t,{OptimizedVideo:()=>g});var a=o(474848),i=o(293721),r=o(361121),n=o(468073),s=o(174269),l=o(924398),c=o(797532),d=o(463802),u=o(885741),p=o(573024);const _={},g=({id:e,layout:t,layoutStyle:o,kitVideoCardProps:g=_,album_id:m})=>{const{appCatalogService:v}=(0,s.useCatalogConfig)(),{isAvatarHidden:S,videoCardProps:C,isCurrentUserEditor:h,onOpenPlaylistModal:f,ownerRoutePrefix:I,showCurrentOnline:y}=(0,s.useCatalogDesktopVideo)(),{findOwner:k}=(0,s.useOptimizedCatalogOwner)(),E=(0,i.useStoreMap)({store:v.videoService.$videoItems,keys:[e],fn:(e,[t])=>{const{ownerId:o,itemId:a}=(0,r.splitRawId)(t);return e.find((e=>e.id===a&&e.owner_id===o))}}),T=(0,l.useCatalogStoreMap)(v.groupsService.$groups,n.Ranges.convertOwnerIdToGroupId(E?.owner_id??0));if(!E)return null;switch(t){case s.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(d.OptimizedVideoCardSlider,{video:E,layoutStyle:o,albumId:m,isAvatarHidden:S,videoCardProps:C,findOwner:k,ownerRoutePrefix:I,isCurrentUserEditor:h,onOpenPlaylistModal:f,isVideoSubscriptionHidden:T?.is_video_subscription_hidden,showCurrentOnline:y});case s.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,a.jsx)(u.ShortVideoCard,{video:E});case s.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,a.jsx)(p.SliderShortVideoCard,{video:E});default:return(0,a.jsx)(c.OptimizedVideoCard,{video:E,layoutStyle:o,kitVideoCardProps:g,isAvatarHidden:S,videoCardProps:C,isCurrentUserEditor:h,onOpenPlaylistModal:f,findOwner:k,ownerRoutePrefix:I,isVideoSubscriptionHidden:T?.is_video_subscription_hidden,showCurrentOnline:y})}}},797649:(e,t,o)=>{o.d(t,{IconControls:()=>s});var a=o(474848),i=o(296540),r=o(618068),n=o(915659);const s=(0,i.memo)((function({video:e,controls:t,cardRef:o,searchTrackCode:i}){return t.length?(0,a.jsx)(a.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:o,onClick:i,component:n,...s}=t;return(0,a.jsx)(r.VideoCard.IconControl,{tooltipText:o,onClick:t=>i(t,e),icon:n,...s},o)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:r,...n}=t;return(0,a.jsx)(r,{video:e,cardRef:o,searchTrackCode:i,...n},e.id)}}))}):null}))},417208:(e,t,o)=>{o.d(t,{getDeleteControl:()=>n});var a=o(224173),i=o(866467),r=o(915659);const n=(e,t)=>({component:a.Icon16Cancel,text:t??(0,i.getLang)("global_delete"),onClick:e,type:r.ControlTypes.ICON,"data-testid":"video_card_delete_button"})},699411:(e,t,o)=>{o.d(t,{getWatchLaterControls:()=>s});var a=o(373561),i=o(353322),r=o(866467),n=o(915659);const s=(e,t)=>e.is_favorite?[{type:n.ControlTypes.ICON,component:a.Icon16Clock,text:(0,r.getLang)("video_remove_from_watch_later"),onClick:t,"data-testid":"video_card_watch_later_button"}]:e.can_add_to_faves?[{type:n.ControlTypes.ICON,component:i.Icon16ClockOutline,text:(0,r.getLang)("video_catalog_showcase_section_my_watch_later_title"),onClick:t,"data-testid":"video_card_watch_later_button"}]:[]},299738:(e,t,o)=>{o.d(t,{IconControls:()=>a.IconControls});var a=o(797649);o(915659),o(285538)},285538:(e,t,o)=>{o(540462)},915659:(e,t,o)=>{o.d(t,{ControlTypes:()=>a});var a=function(e){return e[e.ICON=0]="ICON",e[e.PLAYLIST_POPOVER=1]="PLAYLIST_POPOVER",e}({})},207679:(e,t,o)=>{o.d(t,{useControls:()=>g});var a=o(378204),i=o(435485),r=o(745401),n=o(468073),s=o(856289),l=o(866467),c=o(642311),d=o(962271),u=o(417208),p=o(699411),_=o(915659);const g=({video:e,onOpenPlaylistModal:t,isCurrentUserEditor:o,isFaves:g,videoDeleteText:m,onVideoToggleFave:v,onVideoDelete:S,onVideoDownload:C,onVideoEdit:h,addToPlaylistControl:f,searchTrackCode:I})=>{const y=[];if(!n.Ranges.isUserId(window.vk.id))return y;const k=t&&(0,s.canAddVideoToCommunityPlaylist)(e)&&o;k||g||y.push(...(0,p.getWatchLaterControls)(e,(t=>v(t,e,{source:d.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,searchTrackCode:I}))));return(2===e.can_download||3===e.can_download)&&"interactive"!==e.type&&y.push({component:a.Icon16DownloadOutline,text:(0,l.getLang)("video_download"),onClick:t=>C(t,e),type:_.ControlTypes.ICON,"data-testid":"video_download"}),1===e.can_edit&&y.push({component:i.Icon16PenOutline,text:(0,l.getLang)("video_edit"),onClick:t=>h(t,e),type:_.ControlTypes.ICON,"data-testid":"video_edit"}),k&&y.push({component:r.Icon16ListPlayOutline,text:(0,l.getLang)("video_move_to_playlist"),onClick:()=>t(e),type:_.ControlTypes.ICON,"data-testid":"video_card_add_to_playlist"}),g?((0,c.isShowingPlaylistPopover)(e.can_add)&&y.push({type:_.ControlTypes.PLAYLIST_POPOVER,component:f,"data-testid":"video_card_delete_button"}),y.push((0,u.getDeleteControl)((t=>v(t,e,{searchTrackCode:I})),m))):1===e.can_delete&&S&&y.push((0,u.getDeleteControl)((t=>S(t,e)),m)),g||k||!(0,c.isShowingPlaylistPopover)(e.can_add)||y.push({type:_.ControlTypes.PLAYLIST_POPOVER,component:f,"data-testid":"video_card_add_to_my_videos_button"}),y}},317264:(e,t,o)=>{o.d(t,{OptimizedVideoCard:()=>h});var a=o(474848),i=o(296540),r=o(351118),n=o(344356),s=o(618068),l=o(866467),c=o(671112),d=o(540462),u=o(841315),p=o(299738),_=o(277959),g=o(992252),m=o(409702),v=o(207679);const S=e=>Boolean(e.onSelect&&e.selectMode&&e.selectButtonAriaLabel),C=({isHighlighted:e,size:t,direction:o,...a})=>a,h=(0,i.memo)((function({video:e,kitVideoCardProps:t={},albumId:o,layoutStyle:h,isVideoSubscriptionHidden:f,videoCardProps:{onVideoSendReport:I,onVideoShare:y,onToggleHideAuthor:k,onVideoTogglePin:E,onClipFromVideoCreate:T,onVideoOpen:A,onVideoAuthorClick:R,onRestrictionAction:x,videoOverlay:b,isFaves:L,videoDeleteText:O,onVideoToggleFave:w,onVideoDelete:V,onVideoDownload:P,onVideoEdit:B,addToPlaylistControl:N,searchTrackCode:M,getVerifiedBadge:D},isAvatarHidden:j,onOpenPlaylistModal:G,isCurrentUserEditor:F,findOwner:U,ownerRoutePrefix:H,showCurrentOnline:$}){const{menuItems:z,onMenuPopoverShownChange:W,onMenuPopoverShownChanged:K}=(0,m.useMenuItems)({video:e,isVideoSubscriptionHidden:f,onVideoSendReport:I,onVideoShare:y,onVideoToggleFave:w,onClipFromVideoCreate:T,onToggleHideAuthor:k,onVideoTogglePin:E}),Y=(0,v.useControls)({video:e,onOpenPlaylistModal:G,isCurrentUserEditor:F,isFaves:L,videoDeleteText:O,onVideoToggleFave:w,onVideoDelete:V,onVideoDownload:P,onVideoEdit:B,addToPlaylistControl:N,searchTrackCode:M}),q=(0,_.useOverlay)({video:e,isVideoSubscriptionHidden:f,videoOverlay:b}),Q=(0,g.useVideo)({video:e,isVideoSubscriptionHidden:f,findOwner:U,getVerifiedBadge:D,ownerRoutePrefix:H}),Z=(0,i.useRef)(null);"live"===e.type&&$&&(Q.additionalInfo=(0,a.jsx)(n.Interpolate,{children:(0,l.getLang)("video_live_N_watching",e.spectators||0,!0)}));const J=e.vk_live_channel_url&&(0,c.isLiveVideo)(e),X={controlItems:Y.length?(0,a.jsx)(p.IconControls,{controls:Y,video:e,cardRef:Z,searchTrackCode:M}):void 0,getRef:Z,isAvatarHidden:j,menuItems:z,onAuthorClick:t=>R?.(t,e),onMenuPopoverShownChange:W,onMenuPopoverShownChanged:K,onRestrictionButtonClick:e=>{e.preventDefault(),Q?.restriction&&x?.(Q.restriction)},onVideoOpen:J?r.noop:t=>{t.preventDefault(),A(t,e)},overlay:q,video:{...Q,href:J?e.vk_live_channel_url:(0,u.getVideoUrl)(e,{playlistId:o})},noPlayIcon:Boolean(e?.restriction)};return(0,a.jsx)(s.VideoCard,{testId:"catalog_item_video",...(()=>{const{size:e,direction:o}=t;if("s"!==e||"horizontal"!==o){if(S(t))return{size:e,direction:o,...X,...C(t)};const a=(0,d.partConfigEnabled)("video_community_simple_videocard")&&"invisible_author"===h?{noAvatar:!0,noOwner:!0}:{},{selectMode:i,onSelect:r,selectButtonAriaLabel:n,isHighlighted:s,...l}=t;return{...X,...l,...a}}const{isHighlighted:a,onSelect:i,selectMode:r,selectButtonAriaLabel:n,size:s,direction:l,...c}=t,u={...X,direction:o,size:e,isHighlighted:a};return S(t)?{...u,...C(t)}:{...u,...c}})()})}))},797532:(e,t,o)=>{o.d(t,{OptimizedVideoCard:()=>a.OptimizedVideoCard});var a=o(317264)},409702:(e,t,o)=>{o.d(t,{useMenuItems:()=>h});var a=o(474848),i=o(296540),r=o(382965),n=o(881940),s=o(843387),l=o(968637),c=o(757295),d=o(314799),u=o(632731),p=o(984745),_=o(468073),g=o(866467),m=o(540462),v=o(856289),S=o(370420),C=o(962271);const h=({video:e,isVideoSubscriptionHidden:t,onVideoSendReport:o,onVideoShare:h,onVideoToggleFave:f,onClipFromVideoCreate:I,onToggleHideAuthor:y,onVideoTogglePin:k})=>{const[E,T]=(0,i.useState)(!1),A=(0,m.partConfigEnabled)("video_community_redesign_pinned_video"),R=(0,d.useHelpHint)(u.AvailableHelpHints.ACCOUNT_HINT_VIDEO_PIN),x=()=>{R&&(0,p.ensureAccountHelpHintsService)().hideHelpHint({hintId:R.id})};return{menuItems:(0,i.useMemo)((()=>{const i=[];if(_.Ranges.isUserId(window.vk.id)){if(e.can_edit&&I&&(0,v.canCreateClipFromVideo)(e)&&i.push({onClick:t=>I(t,e),before:(0,a.jsx)(r.Icon20LogoClipsOutline,{}),children:(0,g.getLang)("video_create_clip"),"data-testid":"video_card_create_clip_from_video_button"}),y){const o=()=>{const o={onClick:o=>y(o,e,{is_video_subscription_hidden:t}),children:(0,g.getLang)("video_subscribes_menu_hide_author"),before:(0,a.jsx)(n.Icon20HideOutline,{}),"data-testid":"video_subscribes_menu_hide_author"};return t&&(o.before=(0,a.jsx)(s.Icon20ViewOutline,{}),o.children=(0,g.getLang)("video_subscribes_menu_unhide_author")),o};i.push(o())}if(e.can_be_pinned&&A&&k){const t=(t,o)=>{const i=t=>k(t,e);if(R){const e=e=>{x(),i(e)};return{before:(0,a.jsx)(v.MenuHelpHintTextTooltip,{text:`${R.title} ${R.description}`,placement:"top-start",appearance:"accent",maxWidth:230,children:t}),children:o,onClick:e,"data-testid":"video_card_pin_button"}}return{before:t,children:o,onClick:i}};i.push(e.is_pinned?t((0,a.jsx)(l.Icon20PinSlashOutline,{}),(0,g.getLang)("video_unpin_video_action")):t((0,a.jsx)(c.Icon20PinOutline,{}),(0,g.getLang)("video_pin_video_action")))}return S.getMenuItems(...i,S.watchLater(e,(t=>f(t,e,{source:C.FAVORITE_SOURCES.VIDEO_CARD_MODAL}))),S.share(e,(t=>h(t,e))),S.report(e,(t=>o(t,e))))}}),[E]),onMenuPopoverShownChange:e=>{A&&R&&!e&&x()},onMenuPopoverShownChanged:e=>{T(e)}}}},277959:(e,t,o)=>{o.d(t,{useOverlay:()=>i});var a=o(296540);const i=({video:e,isVideoSubscriptionHidden:t,videoOverlay:o})=>{const[i,r]=(0,a.useState)(!0),[n,s]=(0,a.useMemo)((()=>{const a="function"==typeof o?o(e,{is_video_subscription_hidden:t}):o;if(!a)return[];const{actionProps:r,hideTime:n,...s}=a;return[n,i?{...s,actionProps:r}:s]}),[i,e,t,o]);return(0,a.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{r(!1)}),n);return()=>{clearTimeout(e)}}),[n]),s}},992252:(e,t,o)=>{o.d(t,{useVideo:()=>n});var a=o(296540),i=o(468073),r=o(856289);const n=({video:e,isVideoSubscriptionHidden:t,findOwner:o,getVerifiedBadge:n,ownerRoutePrefix:s})=>(0,a.useMemo)((()=>{const a=e?.user_id??e.owner_id,l=i.Ranges.isUMA(a)&&e.main_artists?.[0]?.video_owner_id?e.main_artists[0].video_owner_id:a,c=o(l),d={...(0,r.mapVideoToVideoCardItem)(e),owner:{...(0,r.mapArtistToVideoCardOwner)(e)??(0,r.mapUserOrGroupToVideoCardOwner)(c,s),badge:n(c)}};return t&&(d.restriction={mode:"hidden"}),d}),[e,o,s,n,t])},176174:(e,t,o)=>{o.d(t,{ShortVideoCard:()=>I});var a=o(474848),i=o(93016),r=o(425072),n=o(720836),s=o(285056),l=o(194528),c=o(279734),d=o(764001),u=o(589745),p=o(908671),_=o(873900),g=o(501397),m=o(296540),v=o(866467),S=o(540462),C=o(348882),h=o(188546),f=o(351137);const I=({video:e})=>{const t=(0,m.useMemo)((()=>e?.image?.filter((e=>!e.with_padding))||[]),[e?.image]),o=(0,S.partConfigEnabled)("disable_common_covers_of_videos");let I;if(o){const o=(0,h.findBaseImage)(t);o?I=(0,h.getBaseImageUrl)(o.url,o.width,o.height):(0,g.logError)(new Error(`Unexpectedly no base picture. Video url - ${(0,_.getIdentityRawId)({ownerId:e.owner_id,id:e.id})}`))}const{videoCardProps:y}=(0,f.useCatalogDesktopVideo)(),{onVideoOpen:k,onVideoDelete:E,onVideoEdit:T}=y,[A,R]=(0,m.useState)(!1),x=t=>{R(!A),E?.(t,e)};return(0,S.partConfigEnabled)("clips_add_seized_restrictions_web")&&e.restriction?(0,a.jsx)(r.ClipRestricted,{cover:o?I:t[0]?.url,title:e.restriction?.title??"",borderRadius:"s",icon:(0,C.getClipIcon)(e.restriction?.icon_name),blurred:Boolean(e.restriction.blur),"data-testid":`clips-restricted-${e.owner_id}_${e.id}`}):e?.restriction?.blur?(0,a.jsx)(i.ClipContainer,{size:"compact",blurred:!0,onClick:t=>k(t,e),cover:o?I:t[0]?.url}):0===e?.restriction?.can_preview&&0===e?.restriction?.can_play&&e?.restriction?.title?(0,a.jsx)(i.ClipContainer,{size:"compact",centerComponent:(0,a.jsx)(n.Placeholder,{icon:(0,a.jsx)(d.Icon28BlockOutline,{}),children:e?.restriction?.title}),onClick:t=>k(t,e)}):A?(0,a.jsx)(i.ClipContainer,{size:"compact",centerComponent:(0,a.jsxs)(n.Placeholder,{icon:(0,a.jsx)(u.Icon28DeleteOutline,{}),children:[(0,a.jsx)(s.Headline,{level:"1",weight:"2",children:(0,v.getLang)("video_clip_deleted")}),(0,a.jsx)(l.Spacing,{size:8}),(0,a.jsx)(c.Link,{onClick:x,children:(0,v.getLang)("video_restore")})]})}):(0,a.jsx)(i.ClipContainer,{size:"compact",onClick:t=>k(t,e),cover:o?I:t[0]?.url,actions:(()=>{if(Boolean(e.can_edit||e.can_delete))return(0,a.jsxs)(a.Fragment,{children:[1===e.can_edit&&(0,a.jsx)(i.ClipContainer.Action,{label:(0,v.getLang)("video_edit"),icon:"edit",onClick:t=>T(t,e)},"edit"),1===e.can_delete&&(0,a.jsx)(i.ClipContainer.Action,{label:(0,v.getLang)("global_delete"),icon:"delete",onClick:x},"delete")]})})(),children:(0,a.jsx)(i.ClipContainer.TextWithIcon,{type:"views",children:(0,p.formatCount)(e.views??0)})})}},347463:(e,t,o)=>{o.d(t,{ShortVideoCardSkeleton:()=>n});var a=o(474848),i=o(220208),r=o(157643);const n=()=>(0,a.jsx)(i.AspectRatio,{ratio:9/16,children:(0,a.jsx)("div",{children:(0,a.jsx)(r.Skeleton,{borderRadius:8,width:"100%",height:"100%"})})})},885741:(e,t,o)=>{o.d(t,{ShortVideoCard:()=>a.ShortVideoCard,ShortVideoCardSkeleton:()=>i.ShortVideoCardSkeleton});var a=o(176174),i=o(347463)},653512:(e,t,o)=>{o.d(t,{SliderShortVideoCard:()=>n});var a=o(474848),i=o(885741),r=o(786176);const n=({video:e})=>(0,a.jsx)("div",{className:r.default.clipContainer,children:(0,a.jsx)(i.ShortVideoCard,{video:e})})},573024:(e,t,o)=>{o.d(t,{SliderShortVideoCard:()=>a.SliderShortVideoCard});var a=o(653512)},559074:(e,t,o)=>{o.d(t,{Video:()=>u});var a=o(474848),i=o(293721),r=o(361121),n=o(174269),s=o(463111),l=o(463802),c=o(885741),d=o(573024);const u=({id:e,layout:t,layoutStyle:o,kitVideoCardProps:u={},album_id:p})=>{const{appCatalogService:_}=(0,n.useCatalogConfig)(),g=(0,i.useStoreMap)({store:_.videoService.$videoItems,keys:[e],fn:(e,[t])=>{const{ownerId:o,itemId:a}=(0,r.splitRawId)(t);return e.find((e=>e.id===a&&e.owner_id===o))}});if(!g)return null;switch(t){case n.CatalogBlockLayoutName.SLIDER:return(0,a.jsx)(l.VideoCardSlider,{video:g,layoutStyle:o,albumId:p});case n.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,a.jsx)(c.ShortVideoCard,{video:g});case n.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,a.jsx)(d.SliderShortVideoCard,{video:g});default:return(0,a.jsx)(s.VideoCard,{video:g,layoutStyle:o,kitVideoCardProps:u})}}},776800:(e,t,o)=>{o.d(t,{IconControls:()=>s});var a=o(474848),i=o(296540),r=o(618068),n=o(57938);const s=(0,i.memo)((function({video:e,controls:t,cardRef:o,searchTrackCode:i}){return t.length?(0,a.jsx)(a.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:o,onClick:i,component:n,...s}=t;return(0,a.jsx)(r.VideoCard.IconControl,{tooltipText:o,onClick:t=>i(t,e),icon:n,...s},o)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:r,...n}=t;return(0,a.jsx)(r,{video:e,cardRef:o,searchTrackCode:i,...n},e.id)}}))}):null}))},53731:(e,t,o)=>{o.d(t,{getDeleteControl:()=>n});var a=o(224173),i=o(866467),r=o(57938);const n=(e,t)=>({component:a.Icon16Cancel,text:t??(0,i.getLang)("global_delete"),onClick:e,type:r.ControlTypes.ICON,"data-testid":"video_card_delete_button"})},877002:(e,t,o)=>{o.d(t,{getWatchLaterControls:()=>s});var a=o(373561),i=o(353322),r=o(866467),n=o(57938);const s=(e,t)=>e.is_favorite?[{type:n.ControlTypes.ICON,component:a.Icon16Clock,text:(0,r.getLang)("video_remove_from_watch_later"),onClick:t,"data-testid":"video_card_watch_later_button"}]:e.can_add_to_faves?[{type:n.ControlTypes.ICON,component:i.Icon16ClockOutline,text:(0,r.getLang)("video_catalog_showcase_section_my_watch_later_title"),onClick:t,"data-testid":"video_card_watch_later_button"}]:[]},642311:(e,t,o)=>{o.d(t,{ControlTypes:()=>i.ControlTypes,IconControls:()=>a.IconControls,isShowingPlaylistPopover:()=>r.isShowingPlaylistPopover});var a=o(776800),i=o(57938),r=o(316709)},316709:(e,t,o)=>{o.d(t,{isShowingPlaylistPopover:()=>i});var a=o(540462);const i=e=>1===e&&(0,a.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later")},57938:(e,t,o)=>{o.d(t,{ControlTypes:()=>a});var a=function(e){return e[e.ICON=0]="ICON",e[e.PLAYLIST_POPOVER=1]="PLAYLIST_POPOVER",e}({})},146534:(e,t,o)=>{o.d(t,{useControls:()=>m});var a=o(378204),i=o(435485),r=o(745401),n=o(468073),s=o(351137),l=o(856289),c=o(866467),d=o(53731),u=o(877002),p=o(57938),_=o(642311),g=o(962271);const m=e=>{const{videoCardProps:t,isCurrentUserEditor:o,onOpenPlaylistModal:m}=(0,s.useCatalogDesktopVideo)(),{isFaves:v,videoDeleteText:S,onVideoToggleFave:C,onVideoDelete:h,onVideoDownload:f,onVideoEdit:I,addToPlaylistControl:y,searchTrackCode:k}=t,E=[];if(!n.Ranges.isUserId(window.vk.id))return E;const T=m&&(0,l.canAddVideoToCommunityPlaylist)(e)&&o;T||v||E.push(...(0,u.getWatchLaterControls)(e,(t=>C(t,e,{source:g.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,searchTrackCode:k}))));return(2===e.can_download||3===e.can_download)&&"interactive"!==e.type&&E.push({component:a.Icon16DownloadOutline,text:(0,c.getLang)("video_download"),onClick:t=>f(t,e),type:p.ControlTypes.ICON,"data-testid":"video_download"}),1===e.can_edit&&E.push({component:i.Icon16PenOutline,text:(0,c.getLang)("video_edit"),onClick:t=>I(t,e),type:p.ControlTypes.ICON,"data-testid":"video_edit"}),T&&E.push({component:r.Icon16ListPlayOutline,text:(0,c.getLang)("video_move_to_playlist"),onClick:()=>m(e),type:p.ControlTypes.ICON,"data-testid":"video_card_add_to_playlist"}),v?((0,_.isShowingPlaylistPopover)(e.can_add)&&E.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:y,"data-testid":"video_card_delete_button"}),E.push((0,d.getDeleteControl)((t=>C(t,e,{searchTrackCode:k})),S))):1===e.can_delete&&h&&E.push((0,d.getDeleteControl)((t=>h(t,e)),S)),v||T||!(0,_.isShowingPlaylistPopover)(e.can_add)||E.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:y,"data-testid":"video_card_add_to_my_videos_button"}),E}},505606:(e,t,o)=>{o.d(t,{VideoCard:()=>y});var a=o(474848),i=o(296540),r=o(351118),n=o(344356),s=o(618068),l=o(468073),c=o(866467),d=o(671112),u=o(540462),p=o(841315),_=o(351137),g=o(924398),m=o(642311),v=o(156802),S=o(273765),C=o(576013),h=o(146534);const f=e=>Boolean(e.onSelect&&e.selectMode&&e.selectButtonAriaLabel),I=({isHighlighted:e,size:t,direction:o,...a})=>a,y=({video:e,kitVideoCardProps:t={},albumId:o,layoutStyle:y})=>{const{isAvatarHidden:k,videoCardProps:E,showCurrentOnline:T}=(0,_.useCatalogDesktopVideo)(),{appCatalogService:A}=(0,_.useCatalogConfig)(),R=(0,g.useCatalogStoreMap)(A.groupsService.$groups,l.Ranges.convertOwnerIdToGroupId(e.owner_id)),{menuItems:x,onMenuPopoverShownChange:b,onMenuPopoverShownChanged:L}=(0,C.useMenuItems)(e,R),O=(0,h.useControls)(e),w=(0,v.useOverlay)(e,R),V=(0,S.useVideo)(e,R),P=(0,i.useRef)(null);"live"===e.type&&T&&(V.additionalInfo=(0,a.jsx)(n.Interpolate,{children:(0,c.getLang)("video_live_N_watching",e.spectators||0,!0)}));const B=e.vk_live_channel_url&&(0,d.isLiveVideo)(e),N={controlItems:O.length?(0,a.jsx)(m.IconControls,{controls:O,video:e,cardRef:P,searchTrackCode:E.searchTrackCode}):void 0,getRef:P,isAvatarHidden:k,menuItems:x,onAuthorClick:t=>E.onVideoAuthorClick?.(t,e),onMenuPopoverShownChange:b,onMenuPopoverShownChanged:L,onRestrictionButtonClick:e=>{e.preventDefault(),V?.restriction&&E.onRestrictionAction?.(V.restriction)},onVideoOpen:B?r.noop:t=>{t.preventDefault(),E.onVideoOpen(t,e)},overlay:w,video:{...V,href:B?e.vk_live_channel_url:(0,p.getVideoUrl)(e,{playlistId:o})},noPlayIcon:Boolean(e?.restriction)};return(0,a.jsx)(s.VideoCard,{testId:"catalog_item_video",...(()=>{const{size:e,direction:o}=t;if("s"!==e||"horizontal"!==o){if(f(t))return{size:e,direction:o,...N,...I(t)};const a=(0,u.partConfigEnabled)("video_community_simple_videocard")&&"invisible_author"===y?{noAvatar:!0,noOwner:!0}:{},{selectMode:i,onSelect:r,selectButtonAriaLabel:n,isHighlighted:s,...l}=t;return{...N,...l,...a}}const{isHighlighted:a,onSelect:i,selectMode:r,selectButtonAriaLabel:n,size:s,direction:l,...c}=t,d={...N,direction:o,size:e,isHighlighted:a};return f(t)?{...d,...I(t)}:{...d,...c}})()})}},463111:(e,t,o)=>{o.d(t,{VideoCard:()=>a.VideoCard});var a=o(505606)},576013:(e,t,o)=>{o.d(t,{useMenuItems:()=>f});var a=o(474848),i=o(296540),r=o(382965),n=o(881940),s=o(843387),l=o(968637),c=o(757295),d=o(314799),u=o(632731),p=o(984745),_=o(468073),g=o(866467),m=o(351137),v=o(540462),S=o(856289),C=o(370420),h=o(962271);const f=(e,t)=>{const[o,f]=(0,i.useState)(!1),{videoCardProps:I}=(0,m.useCatalogDesktopVideo)(),{onVideoSendReport:y,onVideoShare:k,onVideoToggleFave:E,onToggleHideAuthor:T,onVideoTogglePin:A,onClipFromVideoCreate:R}=I,x=(0,v.partConfigEnabled)("video_community_redesign_pinned_video"),b=(0,d.useHelpHint)(u.AvailableHelpHints.ACCOUNT_HINT_VIDEO_PIN),L=()=>{b&&(0,p.ensureAccountHelpHintsService)().hideHelpHint({hintId:b.id})};return{menuItems:(0,i.useMemo)((()=>{const o=[];if(_.Ranges.isUserId(window.vk.id)){if(e.can_edit&&R&&(0,S.canCreateClipFromVideo)(e)&&o.push({onClick:t=>R(t,e),before:(0,a.jsx)(r.Icon20LogoClipsOutline,{}),children:(0,g.getLang)("video_create_clip"),"data-testid":"video_card_create_clip_from_video_button"}),T){const i=()=>{const o={onClick:o=>T(o,e,void 0,t),children:(0,g.getLang)("video_subscribes_menu_hide_author"),before:(0,a.jsx)(n.Icon20HideOutline,{}),"data-testid":"video_subscribes_menu_hide_author"};return t?.is_video_subscription_hidden&&(o.before=(0,a.jsx)(s.Icon20ViewOutline,{}),o.children=(0,g.getLang)("video_subscribes_menu_unhide_author")),o};o.push(i())}if(e.can_be_pinned&&x&&A){const t=(t,o)=>{const i=t=>A(t,e);if(b){const e=e=>{L(),i(e)};return{before:(0,a.jsx)(S.MenuHelpHintTextTooltip,{text:`${b.title} ${b.description}`,placement:"top-start",appearance:"accent",maxWidth:230,children:t}),children:o,onClick:e,"data-testid":"video_card_pin_button"}}return{before:t,children:o,onClick:i}};o.push(e.is_pinned?t((0,a.jsx)(l.Icon20PinSlashOutline,{}),(0,g.getLang)("video_unpin_video_action")):t((0,a.jsx)(c.Icon20PinOutline,{}),(0,g.getLang)("video_pin_video_action")))}return C.getMenuItems(...o,C.watchLater(e,(t=>E(t,e,{source:h.FAVORITE_SOURCES.VIDEO_CARD_MODAL}))),C.share(e,(t=>k(t,e))),C.report(e,(t=>y(t,e))))}}),[o]),onMenuPopoverShownChange:e=>{x&&b&&!e&&L()},onMenuPopoverShownChanged:e=>{f(e)}}}},156802:(e,t,o)=>{o.d(t,{useOverlay:()=>r});var a=o(296540),i=o(351137);const r=(e,t)=>{const{videoCardProps:{videoOverlay:o}}=(0,i.useCatalogDesktopVideo)(),[r,n]=(0,a.useState)(!0),[s,l]=(0,a.useMemo)((()=>{const a="function"==typeof o?o(e,t):o;if(!a)return[];const{actionProps:i,hideTime:n,...s}=a;return[n,r?{...s,actionProps:i}:s]}),[r,e,t,o]);return(0,a.useEffect)((()=>{if(void 0===s)return;const e=setTimeout((()=>{n(!1)}),s);return()=>{clearTimeout(e)}}),[s]),l}},273765:(e,t,o)=>{o.d(t,{useVideo:()=>s});var a=o(296540),i=o(468073),r=o(351137),n=o(856289);const s=(e,t)=>{const{findOwner:o}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:s,videoCardProps:{getVerifiedBadge:l}}=(0,r.useCatalogDesktopVideo)();return(0,a.useMemo)((()=>{const a=e?.user_id??e.owner_id,r=i.Ranges.isUMA(a)&&e.main_artists?.[0]?.video_owner_id?e.main_artists[0].video_owner_id:a,c=o(r),d={...(0,n.mapVideoToVideoCardItem)(e),owner:{...(0,n.mapArtistToVideoCardOwner)(e)??(0,n.mapUserOrGroupToVideoCardOwner)(c,s),badge:l(c)}};return t?.is_video_subscription_hidden&&(d.restriction={mode:"hidden"}),d}),[e,o,s,l,t])}},321658:(e,t,o)=>{o.d(t,{VideoCardSkeleton:()=>n});var a=o(474848),i=o(437016),r=o(174269);const n=({singleLineTitle:e})=>{const{isAvatarHidden:t}=(0,r.useCatalogDesktopVideo)();return(0,a.jsx)(i.VideoCardSkeleton,{singleLineTitle:e,withAvatar:!t})}},183964:(e,t,o)=>{o.d(t,{VideoCardSkeleton:()=>a.VideoCardSkeleton});var a=o(321658)},259813:(e,t,o)=>{o.d(t,{OptimizedVideoCardSlider:()=>c});var a=o(474848),i=o(351118),r=o(303800),n=o(797532),s=o(349215);const l={s:s.default.sizeS,m:s.default.sizeM,l:s.default.sizeL},c=({video:e,albumId:t,layoutStyle:o,isVideoSubscriptionHidden:c,isAvatarHidden:d,videoCardProps:u,findOwner:p,isCurrentUserEditor:_,onOpenPlaylistModal:g,ownerRoutePrefix:m,showCurrentOnline:v})=>{const S=u.sliderCardSize??"m";return(0,a.jsx)(r.Div,{className:(0,i.classNames)(s.default.container,l[S]),mode:"vertical",spacing:4,paddingTop:6,paddingBottom:6,children:(0,a.jsx)(n.OptimizedVideoCard,{"data-testid":"catalog_item_video",video:e,albumId:t,layoutStyle:o,isVideoSubscriptionHidden:c,isAvatarHidden:d,videoCardProps:u,findOwner:p,isCurrentUserEditor:_,onOpenPlaylistModal:g,ownerRoutePrefix:m,showCurrentOnline:v})})}},666610:(e,t,o)=>{o.d(t,{VideoCardSlider:()=>c});var a=o(474848),i=o(351118),r=o(174269),n=o(463111),s=o(623377);const l={s:s.default.sizeS,m:s.default.sizeM,l:s.default.sizeL},c=({video:e,albumId:t,layoutStyle:o})=>{const{videoCardProps:{sliderCardSize:c="m"}}=(0,r.useCatalogDesktopVideo)();return(0,a.jsx)("div",{className:(0,i.classNames)(s.default.container,l[c]),children:(0,a.jsx)(n.VideoCard,{"data-testid":"catalog_item_video",video:e,albumId:t,layoutStyle:o})})}},463802:(e,t,o)=>{o.d(t,{OptimizedVideoCardSlider:()=>i.OptimizedVideoCardSlider,VideoCardSlider:()=>a.VideoCardSlider});var a=o(666610),i=o(259813)},389257:(e,t,o)=>{o.d(t,{OptimizedVideo:()=>i.OptimizedVideo,Video:()=>a.Video,VideoCardSkeleton:()=>r.VideoCardSkeleton});var a=o(559074),i=o(872711),r=o(183964);o(573024)},692050:(e,t,o)=>{o.d(t,{VideoCardSliderWrapper:()=>s});var a=o(474848),i=o(351118),r=o(253222);const n={s:r.default.sizeS,m:r.default.sizeM,l:r.default.sizeL},s=({children:e,size:t})=>(0,a.jsx)("div",{className:(0,i.classNames)(r.default.container,n[t]),children:e})},286277:(e,t,o)=>{o.d(t,{VideoCardSliderWrapper:()=>a.VideoCardSliderWrapper});var a=o(692050)},979717:(e,t,o)=>{o.d(t,{Header:()=>a.Header,IslandSeparator:()=>v.IslandSeparator,List:()=>i.List,MusicPlaylist:()=>g.MusicPlaylist,PinnedVideo:()=>n.PinnedVideo,Placeholder:()=>s.Placeholder,Playlist:()=>l.Playlist,Separator:()=>c.Separator,ShortVideoList:()=>r.ShortVideoList,Slider:()=>d.Slider,TripleStackedSlider:()=>m.TripleStackedSlider,VKVideoLive:()=>p.VKVideoLive,VKVideoLiveCategory:()=>_.VKVideoLiveCategory,Video:()=>u.Video,useListAdaptivityColumns:()=>i.useListAdaptivityColumns});var a=o(361251),i=o(170810),r=o(883075),n=o(167111),s=o(405571),l=o(950600),c=o(360397),d=o(348419),u=o(389257),p=o(292598),_=o(361278),g=o(541747),m=(o(710354),o(100858)),v=(o(539254),o(917286));o(286277)},596911:(e,t,o)=>{o.d(t,{Button:()=>r});var a=o(474848),i=o(734716);const r=({actions:e=[],title:t,blockIndex:o})=>(0,a.jsx)(a.Fragment,{children:e?.map(((e,r)=>{const n=(0,i.getButton)(e);return(0,a.jsx)(n,{action:e,title:t,itemIndex:(o||0)+r,id:r},r)}))})},13310:(e,t,o)=>{o.d(t,{OpenUrl:()=>g});var a=o(474848),i=o(296540),r=o(293721),n=o(260546),s=o(285056),l=o(489569),c=o(317216),d=o(657293),u=o(351137),p=o(198485),_=o(251138);const g=({action:e,itemIndex:t,title:o})=>{const{displayTopSearch:g,setCurrentQuery:m,currentQuery:v,onOpenUrlClick:S}=(0,u.useCatalogSearch)(),C=(0,r.useStore)(p.$isMouseActive),h=(0,r.useStore)(p.$selectedItemIndex),f=(0,u.useCollectClick)(),I=(0,d.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e?.track_code}),y=`${e?.action?.url}${encodeURIComponent(v)}`,k=(0,i.useCallback)(((t,o)=>{t&&!(0,l.isMainClick)(t?.nativeEvent)||(t?.preventDefault(),t?.stopPropagation(),f({type:c.EventItemType.CATALOG_ITEM,track_code:e?.track_code,action:c.SearchClickActionMap.TAP}),o?window.open(y):(m(""),g(!1),S?.(e?.action?.url||"",y)))}),[v,f,g,m,S]);return(0,i.useEffect)((()=>{(0,p.fireSetItemIndex)({id:t||0,callback:k})}),[t,k]),(0,a.jsx)(n.SimpleCell,{"data-testid":"modal_open_url",hovered:h?.id===t,onPointerLeave:()=>{(0,p.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,p.fireSetSelectionIndexByItem)(t||-1)},onClick:k,hasHover:C||h?.id===t,href:y,expandable:"always",className:_.default.container,getRootRef:I,children:(0,a.jsx)(s.Headline,{className:_.default.link,level:"1",weight:"3",children:o||e?.title})})}},206135:(e,t,o)=>{o.d(t,{OpenUrl:()=>a.OpenUrl});var a=o(13310)},430005:(e,t,o)=>{o.d(t,{Button:()=>a.Button});var a=o(596911)},734716:(e,t,o)=>{o.d(t,{getButton:()=>r});var a=o(49932),i=o(206135);const r=e=>e.action?.type===a.CatalogActionType.OPEN_URL?i.OpenUrl:()=>null},579297:(e,t,o)=>{o.d(t,{CatalogUser:()=>k});var a=o(474848),i=o(296540),r=o(293721),n=o(482199),s=o(655332),l=o(260546),c=o(751268),d=o(759322),u=o(49932),p=o(351118),_=o(540462),g=o(489569),m=o(657293),v=o(351137),S=o(317216),C=o(198485),h=o(665606),f=o(853649),I=o(934456);const y=({id:e,itemIndex:t,type:o})=>{const y=(0,v.useCollectClick)(),{navGo:k,pageVerifiedTip:E,appCatalogService:T}=(0,v.useCatalogConfig)(),{displayTopSearch:A}=(0,v.useCatalogSearch)(),R=(0,r.useStore)(C.$isMouseActive),x=(0,r.useStore)(C.$selectedItemIndex),b=(0,r.useStore)(T.pageService.$catalogType),[L,O]=(0,i.useState)(!0),w=(0,r.useStoreMap)({store:T.catalogUsersService.$catalogUsers,keys:[e],fn:(e,[t])=>e.get(t)}),V=(0,r.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.user_id],fn:(e,[t])=>t?e.get(t):void 0}),P=(0,r.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.common_friends],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({photo_50:e,photo_100:t})=>e||t||""))}),B=(0,r.useStoreMap)({store:T.catalogUsersService.$deletableFriendsIds,keys:[V?.id],fn:(e,[t])=>!!e.find((e=>e===t))}),N=(0,r.useStore)(T.catalogUsersService.$pendingFriendsIds),M=(0,_.partConfigEnabled)("vkui_account_common_verification_mark")&&(V?.is_esia_verified||V?.is_sber_verified||V?.is_tinkoff_verified),D=V?.track_code||w?.track_code,j=(0,m.useRefLogView)({type:o,trackCode:D}),G=(0,h.getUrlWithTrackCode)(`/${V?.screen_name}`,D,b),F=e=>{y({track_code:D,type:S.EventItemType.USER,action:e})},U=(0,i.useMemo)((()=>(0,d.getFriendsButtonState)(V?.friend_status,!!V?.can_write_private_message,B)),[V?.friend_status,V?.can_write_private_message,B]),H=(0,i.useCallback)(((e,t)=>{!V||e&&!(0,g.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(S.SearchClickActionMap.TAP),T.searchRecentService.fireAddRecent({owner_ids:`${V.id}`}),t?window.open(G):(A(!1),k(G,e?.nativeEvent||null)))}),[V,A]);if((0,i.useEffect)((()=>{(0,C.fireSetItemIndex)({id:t||0,callback:H})}),[t,H]),!V||!w)return null;const $=(0,p.classNames)(M&&I.default.itemVerification),[z,W]=(0,f.getCatalogUserDescription)({friendsPhotos:P,friendsDescription:w.common_friends_description,descriptions:w.descriptions}),K=(0,d.getOnlineStatus)(V);return(0,a.jsxs)(l.SimpleCell,{"data-testid":"modal_catalog_user",hovered:x?.id===t,onClick:H,onPointerLeave:()=>{(0,C.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,C.fireSetSelectionIndexByItem)(t||-1)},hasHover:R||x?.id===t,href:G,getRootRef:j,before:(0,a.jsxs)(c.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:(0,d.getListAvatarSrc)(V),nft:!!V.is_nft,children:[K&&(0,a.jsx)(c.RichAvatar.BadgeWithPreset,{preset:K}),V.has_unseen_stories&&(0,a.jsx)(c.RichAvatar.Outline,{appearance:"accent"})]}),badgeAfterTitle:V.verified||M?(0,a.jsx)("div",{onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),o=e.target?.closest('[data-verified-container="true"]'),a=L?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;E(o,{type:M?8:1,oid:V?.id,appendEl:t,shift:a}),O(!1)},"data-verified-container":"true",children:(0,a.jsx)(n.Icon16Verified,{className:$})}):null,after:(0,a.jsx)(s.CatalogUserButton,{userId:V.id,action:U,loading:N.includes(V.id),logClickEvent:F}),subtitle:z,extraSubtitle:(0,a.jsx)("div",{className:I.default.extraDescription,children:W}),children:[V.first_name," ",V.last_name]})},k=(0,i.memo)(y)},578056:(e,t,o)=>{o.d(t,{CatalogUserButton:()=>g});var a=o(474848),i=o(296540),r=o(700272),n=o(641412),s=o(49932),l=o(255121),c=o(240557),d=o(208103),u=o(317216),p=o(351137),_=o(989488);const g=({userId:e,action:t,loading:o,logClickEvent:g})=>{const{userId:m,openChat:v,appCatalogService:S}=(0,p.useCatalogConfig)(),{displayTopSearch:C}=(0,p.useCatalogSearch)(),h=(0,i.useCallback)((a=>{if(a.stopPropagation(),a.preventDefault(),!o)switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return g(u.SearchClickActionMap.ADD_FRIEND),void S.catalogUsersService.fireAddFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return g(u.SearchClickActionMap.REMOVE_FRIEND),void S.catalogUsersService.fireDeleteFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return g(u.SearchClickActionMap.SEND_MESSAGE),v(e,"global_search"),void C(!1);case s.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[t,e,g,o,C,v]);if(t===s.FRIENDS_BUTTON_ACTIONS.NO_ACTION||e===m)return null;let f;switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:f=(0,a.jsx)(l.Icon20UserAddOutline,{});break;case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:f=(0,a.jsx)(c.Icon20Check,{className:_.default.buttonRemove});break;case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:f=(0,a.jsx)(d.Icon20MessageOutline,{})}return o&&(f=(0,a.jsx)(r.Spinner,{size:"regular"})),(0,a.jsx)(n.IconButton,{"data-testid":"modal_catalog_user_button",onClick:h,children:f})}},655332:(e,t,o)=>{o.d(t,{CatalogUserButton:()=>a.CatalogUserButton});var a=o(578056)},373539:(e,t,o)=>{o.d(t,{CatalogUser:()=>a.CatalogUser});var a=o(579297)},759322:(e,t,o)=>{o.d(t,{getFriendsButtonState:()=>n,getListAvatarSrc:()=>l,getOnlineStatus:()=>s});var a=o(49932),i=o(898848),r=o(472658);const n=(e,t=!1,o=!1)=>o?a.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[r.FRIENDS_STATUS.NOT_FRIEND,r.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?a.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==r.FRIENDS_STATUS.OUTCOMING_REQUEST?a.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:a.FRIENDS_BUTTON_ACTIONS.NO_ACTION,s=e=>{if(e.online_info){const{visible:t,is_online:o,is_mobile:a}=e.online_info;if(t&&o)return a?"online-mobile":"online"}},l=e=>((0,i.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200},96601:(e,t,o)=>{o.d(t,{GroupItem:()=>y});var a=o(474848),i=o(296540),r=o(293721),n=o(379996),s=o(34030),l=o(260546),c=o(751268),d=o(49932),u=o(837333),p=o(898848),_=o(489569),g=o(657293),m=o(351137),v=o(317216),S=o(198485),C=o(665606),h=o(174269),f=o(181045);const I=({id:e,track_code:t,friends:o,description:I,itemIndex:y,type:k})=>{const{navGo:E,pageVerifiedTip:T,openChat:A,appCatalogService:R}=(0,m.useCatalogConfig)(),{displayTopSearch:x}=(0,m.useCatalogSearch)(),b=(0,r.useStore)(S.$isMouseActive),L=(0,r.useStore)(S.$selectedItemIndex),O=(0,r.useStore)(R.pageService.$catalogType),w=(0,m.useCollectClick)(),[V,P]=(0,i.useState)(!0),B=(0,h.useCatalogStoreMap)(R.groupsService.$groups,e),N=(0,r.useStoreMap)({store:R.profilesService.$profiles,keys:[o],fn:e=>(o?.preview||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:o=""})=>({first_name:e,photo_50:t,photo_100:o})))}),M=(0,r.useStoreMap)({store:R.groupsService.$groupsToLeave,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),D=(0,r.useStoreMap)({store:R.groupsService.$groupPendingIds,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),j=(0,g.useRefLogView)({type:k,trackCode:t}),G=(0,C.getUrlWithTrackCode)(`/${B?.screen_name}?from=quick_search`,t,O),F=e=>{w({track_code:t,type:v.EventItemType.GROUP,action:e})},U=(0,i.useCallback)((e=>{if(e.stopPropagation(),e.preventDefault(),B?.id&&!D){if(B.is_member&&B.can_message&&!M)return F(v.SearchClickActionMap.SEND_MESSAGE),A(-B.id,"global_search"),void x(!1);if(B.is_member&&M)return F(v.SearchClickActionMap.LEAVE_GROUP),void R.groupsService.fireLeaveGroup({group_id:B.id,track_code:t});F(v.SearchClickActionMap.JOIN_GROUP),R.groupsService.fireJoinGroup({group_id:B.id,track_code:t})}}),[B,M,t,D,w,x,A]),H=(0,i.useCallback)(((e,t)=>{!B||e&&!(0,_.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(v.SearchClickActionMap.TAP),R.searchRecentService.fireAddRecent({owner_ids:`-${B.id}`}),t?window.open(G):(x(!1),E(G,e?.nativeEvent||null)))}),[B,t,w,x]);if((0,i.useEffect)((()=>{(0,S.fireSetItemIndex)({id:y||0,callback:H})}),[y,H]),!B)return null;const $=((0,p.isRetina)()?B.photo_100:B.photo_50)||B.photo_100||B.photo_200,z=(()=>{if(B?.verified)return f.GroupItemVerifiedIconType.Verified;switch(B?.trust_mark){case u.GroupsGroupFullTrustMarkEnumNames.CONFIRMED:return f.GroupItemVerifiedIconType.ConfirmedBusiness;case u.GroupsGroupFullTrustMarkEnumNames.PREMIUM:return f.GroupItemVerifiedIconType.PremiumBusiness}})();return(0,a.jsx)(l.SimpleCell,{"data-testid":"modal_group_item",hovered:L?.id===y,onClick:H,onPointerLeave:()=>{(0,S.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,S.fireSetSelectionIndexByItem)(y||-1)},hasHover:b||L?.id===y,href:G,getRootRef:j,before:(0,a.jsx)(c.RichAvatar,{size:d.CATALOG_AVATAR_SIZE_SM,src:$,nft:!!B.is_nft_photo,children:B.has_unseen_stories&&(0,a.jsx)(c.RichAvatar.Outline,{appearance:"accent"})}),badgeAfterTitle:z?(0,a.jsx)("div",{"data-verified-container":"true",onMouseOver:e=>{const t=B?.trust_mark&&B?.trust_mark>1?16:1,o=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),i=V?d.FIRST_VERIFIED_TOOLTIP_SHIFT:d.VERIFIED_TOOLTIP_SHIFT;T(a,{type:t,oid:`-${B?.id}`,appendEl:o,shift:i}),P(!1)},children:(0,a.jsx)(f.GroupItemVerifiedIcon,{type:z})}):null,after:(0,a.jsx)(n.GroupItemButton,{click:U,isMember:!!B.is_member,canMessage:!!B.can_message,canLeave:M,loading:D}),subtitle:(0,a.jsx)(s.GroupItemDescription,{isMember:!!B.is_member,profiles:B.friends?.preview_profiles||N,text:B.members_count_text||"",description:I,governmentOrganization:!!B.is_government_organization,activity:B.activity||"",profilesCount:o?.count||N.length}),children:B.name})},y=(0,i.memo)(I)},917648:(e,t,o)=>{o.d(t,{GroupItemButton:()=>d});var a=o(474848),i=o(700272),r=o(641412),n=o(208103),s=o(240557),l=o(22225),c=o(724072);const d=({isMember:e,canLeave:t,canMessage:o,click:d,loading:u})=>{let p=null;return e&&o&&!t&&(p=(0,a.jsx)(n.Icon20MessageOutline,{})),e&&t&&(p=(0,a.jsx)(s.Icon20Check,{className:c.default.buttonLeave})),e||(p=(0,a.jsx)(l.Icon20AddSquareOutline,{})),u&&(p=(0,a.jsx)(i.Spinner,{size:"regular"})),p?(0,a.jsx)(r.IconButton,{"data-testid":"modal_group_item_button",onClick:d,children:p}):null}},379996:(e,t,o)=>{o.d(t,{GroupItemButton:()=>a.GroupItemButton});var a=o(917648)},92894:(e,t,o)=>{o.d(t,{GroupItemDescription:()=>d});var a=o(474848),i=o(684273),r=o(837046),n=o(412888),s=o(866467),l=o(49932),c=o(440802);const d=({isMember:e,profilesCount:t,profiles:o,text:d,activity:u,description:p,governmentOrganization:_})=>{let g="";const[m]=o,[v,S]=o.map((e=>e.first_name)),C=o.slice(0,l.MAX_FRIENDS_IN_GROUP_TO_SHOW),h=(0,s.getLang)("search_search_friends_in_group_and"),f=(0,s.getLang)("search_search_friends_in_group","raw");switch(t){case l.FRIENDS_IN_GROUP.NO_ONE:g="";break;case l.FRIENDS_IN_GROUP.ONE:g=m.first_name||"";break;case l.FRIENDS_IN_GROUP.TWO:g=(0,s.langReplace)(h,{first_user:v,second_user:S});break;default:g=(0,s.langNumeric)(t,f)}const I=p||(u?`${u}, ${d}`:d),y=_?(0,a.jsxs)("div",{className:c.default.government,children:[(0,a.jsx)(i.Icon12Flag,{className:c.default.governmentIcon}),(0,a.jsx)("span",{children:(0,s.getLang)("search_search_government_label")})]}):null;return e||!C.length?(0,a.jsxs)(a.Fragment,{children:[y,I]}):(0,a.jsxs)(a.Fragment,{children:[y,(0,a.jsx)(r.UsersStack,{className:c.default.userStack,photos:C.map((e=>e.photo_50||"")),size:"s",children:(0,a.jsxs)(n.TextClamp,{lines:1,children:[g," · ",d]})})]})}},34030:(e,t,o)=>{o.d(t,{GroupItemDescription:()=>a.GroupItemDescription});var a=o(92894)},470264:(e,t,o)=>{o.d(t,{GroupItemVerifiedIcon:()=>l,GroupItemVerifiedIconType:()=>s});var a=o(474848),i=o(482199),r=o(532795),n=o(723723),s=function(e){return e.Verified="verified",e.ConfirmedBusiness="confirmedBusiness",e.PremiumBusiness="premiumBusiness",e}({});const l=({type:e})=>{if(e)switch(e){case"verified":return(0,a.jsx)(i.Icon16Verified,{});case"confirmedBusiness":return(0,a.jsx)(i.Icon16Verified,{className:(0,n.getColorClass)("color_icon_secondary"),"data-testid":"business_mark_verified"});case"premiumBusiness":return(0,a.jsx)(r.Icon16CrownVerified,{className:(0,n.getColorClass)("color_icon_accent"),"data-testid":"verified_business_icon"});default:return}}},181045:(e,t,o)=>{o.d(t,{GroupItemVerifiedIcon:()=>a.GroupItemVerifiedIcon,GroupItemVerifiedIconType:()=>a.GroupItemVerifiedIconType});var a=o(470264)},802387:(e,t,o)=>{o.d(t,{GroupItem:()=>a.GroupItem});var a=o(96601)},162985:(e,t,o)=>{o.d(t,{HeaderCompact:()=>l});var a=o(474848),i=o(296540),r=o(557992),n=o(436744),s=o(985219);const l=({actions:e,layout:t,...o})=>(0,a.jsx)(r.Header,{className:s.default.root,mode:"primary",aside:e?.map(((e,a)=>{const r=(0,n.getAction)(e);return(0,i.createElement)(r,{...o,key:e.track_code||a,action:e,layout:t.name})})),children:t.title})},189643:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>p});var a=o(474848),i=o(560265),r=o(279734),n=o(271036),s=o(317216),l=o(351137),c=o(293721),d=o(49932),u=o(729265);const p=({action:e})=>{const t=(0,l.useCollectClick)(),{appCatalogService:o}=(0,l.useCatalogConfig)(),p=(0,c.useStore)(o.pageService.$catalogType),_=()=>{if(t({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),o.catalogService.fireRemoveBlocks(e.target_block_ids||[]),p===d.CatalogType.SEARCH)return o.searchRecentService.fireClearSearchRecent({});o.searchRecentService.fireGroupsRemoveRecent({})};return e.title?(0,a.jsx)(r.Link,{"data-testid":"modal_clear_recent",hasHover:!1,className:u.default.link,onClick:_,children:e.title}):(0,a.jsx)(n.IconButton,{"data-testid":"modal_clear_recent",className:u.default.button,onClick:_,children:(0,a.jsx)(i.Icon24Cancel,{className:u.default.icon})})}},551991:(e,t,o)=>{o.d(t,{ClearRecentGroups:()=>a.ClearRecentGroups});var a=o(189643)},621921:(e,t,o)=>{o.d(t,{HeaderCompact:()=>a.HeaderCompact});var a=o(162985)},436744:(e,t,o)=>{o.d(t,{getAction:()=>r});var a=o(551991),i=o(49932);const r=e=>e.action?.type===i.CatalogActionType.CLEAR_RECENT_GROUPS?a.ClearRecentGroups:()=>null},985791:(e,t,o)=>{o.d(t,{Link:()=>E});var a=o(474848),i=o(293721),r=o(751268),n=o(293116),s=o(213338),l=o(412888),c=o(260546),d=o(918277),u=o(621258),p=o(69381),_=o(802139),g=o(49932),m=o(317216),v=o(351137),S=o(296540),C=o(489569),h=o(690272),f=o(174269),I=o(198485),y=o(866467),k=o(540462);const E=({id:e,layout:t,type:o,itemIndex:E})=>{const{navGo:T,appCatalogService:A}=(0,v.useCatalogConfig)(),R=(0,v.useCollectClick)(),{displayTopSearch:x}=(0,v.useCatalogSearch)(),b=(0,f.useCatalogStoreMap)(A.linksService.$links,e),L=b?.meta?.track_code,O=(0,f.useRefLogView)({type:o,trackCode:L}),w=(0,i.useStore)(I.$isMouseActive),V=(0,i.useStore)(I.$selectedItemIndex),P="list"===t,B=b?.url,N=(()=>{const e=new URL(b?.url||"");return"mini_app"===b?.meta?.content_type?e.pathname+"?ref=quick_search_recent":e.pathname})(),M=(0,S.useCallback)(((e,t)=>{R({track_code:L,type:m.EventItemType.LINK,action:m.SearchClickActionMap.TAP}),!N||e&&!(0,C.isMainClick)(e.nativeEvent)||(P||(e?.preventDefault(),e?.stopPropagation()),t?window.open(B):(x(!1),T(N,e?.nativeEvent||null)))}),[b,R,x,t]),D=()=>{P&&(0,I.fireSetSelectionIndexByItem)(-1)},j=()=>{P&&(0,I.fireSetSelectionIndexByItem)(E||-1)};if((0,S.useEffect)((()=>{P&&(0,I.fireSetItemIndex)({id:E||0,callback:M})}),[t,E,M]),!b)return null;const G="verified"===b?.meta?.icon?(0,a.jsx)(d.RasterIcon24Verified,{alt:(0,y.getLang)("search_verified")}):b?.meta?.trust_mark===_.VideoCatalogLinkMetaTrustMarkEnumNames.CONFIRMED?(0,a.jsx)(u.RasterIcon24BusinessVerified,{alt:(0,y.getLang)("search_business_verified"),"data-testid":"trust_mark_confirmed_slider"}):b?.meta?.trust_mark===_.VideoCatalogLinkMetaTrustMarkEnumNames.PREMIUM?(0,a.jsx)(p.RasterIcon24CrownVerified,{alt:(0,y.getLang)("search_business_premium"),"data-testid":"trust_mark_premium_slider"}):void 0,F="mini_app"!==b?.meta?.content_type?(0,a.jsx)(r.RichAvatar,{size:g.SLIDER_AVATAR_SIZE_SM,src:b?.image?.length?b.image[0].url:"",nft:!!b?.is_nft,children:G&&(0,a.jsx)(r.RichAvatar.Badge,{children:G})}):(0,a.jsx)(n.Image,{src:b?.image?.length?b.image[0].url:"",size:g.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:G&&(0,a.jsx)(n.Image.Badge,{children:G})});switch(t){case"slider":return(0,a.jsx)(s.HorizontalCell,{"data-testid":"modal_link",size:"s",header:(0,a.jsx)(l.TextClamp,{lines:(0,k.partConfigEnabled)("search_top_recent_single_line_title")?1:2,children:b.title}),getRootRef:O,href:N,onClick:M,children:F});case"list":return(0,a.jsx)(c.SimpleCell,{"data-testid":"modal_link_list",getRootRef:O,href:B,before:(0,a.jsx)(n.Image,{size:g.CATALOG_AVATAR_SIZE_SM,src:b?.image?.length?b.image[0].url:"",borderRadius:"m"}),after:(0,a.jsx)(h.Icon20ChevronCircleOutline,{}),subtitle:b.subtitle,onClick:M,onPointerLeave:D,onPointerEnter:j,hasHover:w||V?.id===E,hovered:V?.id===E,children:b.title});default:return null}}},660025:(e,t,o)=>{o.d(t,{Link:()=>a.Link});var a=o(985791)},736515:(e,t,o)=>{o.d(t,{List:()=>c});var a=o(474848),i=o(296540),r=o(172656),n=o(637556),s=o(418755),l=o(234073);const c=e=>{const t=(0,i.useMemo)((()=>(0,s.extractItemsIds)(e)),[e]),o=(0,n.getBlockByDataType)(e),c=(0,s.getEventItemTypeByDataType)(e);return(0,a.jsx)(r.Group,{mode:"plain",separator:"hide",padding:"s",className:l.default.list,"data-catalog-item":"list",children:t.map(((t,a)=>(0,i.createElement)(o,{...t,key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+a,type:c})))})}},861053:(e,t,o)=>{o.d(t,{List:()=>a.List});var a=o(736515)},637556:(e,t,o)=>{o.d(t,{getBlockByDataType:()=>l});var a=o(49932),i=o(802387),r=o(373539),n=o(270145),s=o(660025);const l=e=>{switch(e.data_type){case a.CatalogBlockDataType.GROUPS:case a.CatalogBlockDataType.GROUPS_ITEMS:return i.GroupItem;case a.CatalogBlockDataType.CATALOG_USERS:return r.CatalogUser;case a.CatalogBlockDataType.MINI_APPS:return n.MiniApp;case a.CatalogBlockDataType.LINKS:return s.Link;default:return()=>null}}},375573:(e,t,o)=>{o.d(t,{MiniApp:()=>v});var a=o(474848),i=o(296540),r=o(293721),n=o(641412),s=o(260546),l=o(293116),c=o(690272),d=o(49932),u=o(489569),p=o(317216),_=o(657293),g=o(351137),m=o(198485);const v=({id:e,itemIndex:t,type:o})=>{const{navGo:v,appCatalogService:S}=(0,g.useCatalogConfig)(),{displayTopSearch:C}=(0,g.useCatalogSearch)(),h=(0,r.useStore)(m.$isMouseActive),f=(0,r.useStore)(m.$selectedItemIndex),I=(0,g.useCollectClick)(),y=(0,r.useStoreMap)({store:S.appsService.$apps,keys:[e],fn:(e,[t])=>e.get(t)}),k=(0,_.useRefLogView)({type:o,trackCode:y?.track_code}),E=(0,i.useCallback)(((e,t)=>{!y||e&&!(0,u.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),I({type:p.EventItemType.MINI_APP,track_code:y.track_code,action:p.SearchClickActionMap.TAP}),t?window.open(`/${y.screen_name}?ref=quick_search`):(C(!1),v(`/${y.screen_name}?ref=quick_search`,e?.nativeEvent||null)))}),[y,I,C]);return(0,i.useEffect)((()=>{(0,m.fireSetItemIndex)({id:t||0,callback:E})}),[t,E]),y?(0,a.jsx)(s.SimpleCell,{"data-testid":"modal_mini_app",hovered:f?.id===t,onClick:E,onPointerLeave:()=>{(0,m.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,m.fireSetSelectionIndexByItem)(t||-1)},getRootRef:k,hasHover:h||f?.id===t,href:`/${y.screen_name}?ref=quick_search`,before:(0,a.jsx)(l.Image,{borderRadius:"l",size:d.CATALOG_AVATAR_SIZE_SM,src:y.icon_139?y.icon_139:y.icon_150}),after:(0,a.jsx)(n.IconButton,{children:(0,a.jsx)(c.Icon20ChevronCircleOutline,{})}),subtitle:y.description,children:y.title}):null}},270145:(e,t,o)=>{o.d(t,{MiniApp:()=>a.MiniApp});var a=o(375573)},61539:(e,t,o)=>{o.d(t,{PlaceholderSmall:()=>l});var a=o(474848),i=o(720836),r=o(866467),n=o(293721),s=o(174269);const l=({placeholder_ids:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),o=(0,n.useStore)(t.placeholdersService.$placeholders);return(0,a.jsx)(a.Fragment,{children:e?.map((e=>{const t=o.get(e);return t?(0,a.jsx)(i.Placeholder,{children:t.text?t.text:(0,r.getLang)("search_search_no_found_summary")},e):null}))})}},78129:(e,t,o)=>{o.d(t,{PlaceholderSmall:()=>a.PlaceholderSmall});var a=o(61539)},320793:(e,t,o)=>{o.d(t,{Slider:()=>d});var a=o(474848),i=o(296540),r=o(354592),n=o(267485),s=o(49932),l=o(418755),c=o(627619);const d=e=>{const t=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),o=(0,n.getBlockByDataType)(e),d=(0,l.getEventItemTypeByDataType)(e);return(0,a.jsx)(r.HorizontalScroll,{className:c.default.root,getScrollToLeft:e=>e-s.SLIDER_SCROLL,getScrollToRight:e=>e+s.SLIDER_SCROLL,arrowSize:"m",children:(0,a.jsx)("div",{className:c.default.inner,children:t.map((t=>(0,a.jsx)(o,{...t,layout:e.layout.name,type:d},t.id)))})})}},173760:(e,t,o)=>{o.d(t,{Slider:()=>a.Slider});var a=o(320793)},267485:(e,t,o)=>{o.d(t,{extractItemsIds:()=>r,getBlockByDataType:()=>n});var a=o(49932),i=o(660025);const r=e=>e.data_type===a.CatalogBlockDataType.LINKS&&e.links_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===a.CatalogBlockDataType.LINKS?i.Link:()=>null},164785:(e,t,o)=>{o.d(t,{CatalogSeparator:()=>n});var a=o(474848),i=o(194528),r=o(582192);const n=({layout:e})=>(0,a.jsxs)(a.Fragment,{children:["spacing"===e.style&&(0,a.jsx)(i.Spacing,{size:10}),(0,a.jsx)(r.Separator,{wide:!0})]})},288413:(e,t,o)=>{o.d(t,{CatalogSeparator:()=>a.CatalogSeparator});var a=o(164785)},573011:(e,t,o)=>{o.d(t,{CatalogSeparatorCommunity:()=>n});var a=o(474848),i=o(194528),r=o(582192);const n=({layout:e})=>(0,a.jsxs)(a.Fragment,{children:["spacing"===e.style&&(0,a.jsx)(i.Spacing,{size:10}),(0,a.jsx)(r.Separator,{})]})},697395:(e,t,o)=>{o.d(t,{Header:()=>r});var a=o(474848),i=o(557992);const r=e=>{const{layout:t}=e;return(0,a.jsx)(i.Header,{size:"medium",children:t.title})}},402723:(e,t,o)=>{o.d(t,{HeaderCompact:()=>i});var a=o(474848);const i=e=>{const{layout:t}=e;return(0,a.jsxs)("div",{className:"VideoSubheader ",children:[(0,a.jsx)("div",{className:"VideoSubheader__title",children:(0,a.jsx)("div",{className:"VideoSubheader__titleText js-video-subtitle",children:t.title})}),(0,a.jsx)("div",{className:"VideoSubheader__actions"})]})}},365003:(e,t,o)=>{o.d(t,{HeaderCompact:()=>a.HeaderCompact});var a=o(402723)},195059:(e,t,o)=>{o.d(t,{HeaderListVideos:()=>r});var a=o(474848),i=o(557992);const r=e=>{const{layout:t}=e;return(0,a.jsx)(i.Header,{style:{padding:0},mode:"primary",size:"medium",children:t.title})}},534002:(e,t,o)=>{o.d(t,{HeaderListVideos:()=>a.HeaderListVideos});var a=o(195059)},819429:(e,t,o)=>{o.d(t,{List:()=>s});var a=o(474848),i=o(378455),r=o(351118),n=o(162879);const s=e=>{const t=(0,i.extractItemsIds)(e),o=(0,i.getBlockComponentByDataType)(e.data_type);return(0,a.jsx)("div",{className:(0,r.classNames)("videos"===e.data_type&&"video_items_list _video_search_global_videos_list VideoGrid","search_authors"===e.data_type&&n.default.authors),children:t.map((e=>(0,a.jsx)(o,{...e},e.id)))})}},287911:(e,t,o)=>{o.d(t,{List:()=>a.List});var a=o(819429)},592595:(e,t,o)=>{o.d(t,{ListCommunity:()=>g});var a=o(474848),i=o(296540),r=o(378455),n=o(591378),s=o(652862),l=o(194528),c=o(979717),d=o(540431),u=o(866467),p=o(842600);const _={className:o(827217).default.list,rowSpacing:20,columnSpacing:12},g=e=>{const[t,o]=(0,i.useState)(4),g=(0,r.extractItemsIds)(e),m=(0,r.getBlockComponentByDataType)(e.data_type),v=(0,c.useListAdaptivityColumns)(),{spacing:S,rowSpacing:C,columnSpacing:h,...f}=_,I=S?{spacing:S}:{rowSpacing:C,columnSpacing:h};return"albums"===e.data_type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Grid,{...f,...I,columns:v,children:g.slice(0,t).map((({id:t,...o})=>(0,a.jsx)(n.Grid.Item,{children:(0,a.jsx)(m,{...o,id:t,layout:e.layout.name})},t)))}),g?.length>t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.CellButton,{centered:!0,after:(0,a.jsx)(d.Icon16DropdownOutline,{}),onClick:()=>o(g?.length),children:(0,u.getLang)("search_show_all")}),(0,a.jsx)(l.Spacing,{})]}):(0,a.jsx)(l.Spacing,{size:12})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Grid,{...f,...I,columns:v,children:g.map((({id:t,...o})=>(0,a.jsx)(n.Grid.Item,{children:(0,a.jsx)(m,{...o,id:t,layout:e.layout.name})},t)))}),e.actions?.map(((t,o)=>{const a=(0,p.getAction)(t);return(0,i.createElement)(a,{...e,key:t.track_code||o,action:t,layout:e.layout.name})}))]})}},161249:(e,t,o)=>{o.d(t,{ListVideos:()=>n});var a=o(474848),i=o(378455),r=o(237091);const n=e=>{const t=(0,i.extractItemsIds)(e),o=(0,i.getBlockComponentByDataType)(e.data_type),n=t.map((e=>(0,a.jsx)(o,{...e},e.id)));return"videos"===e.data_type?(0,a.jsx)("div",{className:r.default.horizontalVideo,children:n}):(0,a.jsx)(a.Fragment,{children:n})}},992543:(e,t,o)=>{o.d(t,{ListVideos:()=>a.ListVideos});var a=o(161249)},179815:(e,t,o)=>{o.d(t,{Placeholder:()=>c});var a=o(474848),i=o(293721),r=o(347929),n=o(49932),s=o(720836),l=o(174269);const c=({placeholder_ids:e,layout:t})=>{const{appCatalogService:o}=(0,l.useCatalogConfig)(),c=(0,i.useStore)(o.placeholdersService.$placeholders);return(0,a.jsx)(a.Fragment,{children:e?.map((e=>{const o=c.get(e);if(void 0===o)return null;const{title:i,text:l}=o;return t.name===n.CatalogBlockLayoutName.PLACEHOLDER_LINE?(0,a.jsx)(s.Placeholder,{children:l},e):(0,a.jsxs)("div",{className:"VideoEmptyStub",children:[(0,a.jsx)("div",{className:"VideoEmptyStub__icon",children:(0,a.jsx)(r.Icon56VideoOutline,{})}),(0,a.jsx)("div",{className:"VideoEmptyStub__title",children:i}),(0,a.jsx)("div",{className:"VideoEmptyStub__text",children:l})]},e)}))})}},8652:(e,t,o)=>{o.d(t,{Placeholder:()=>a.Placeholder});var a=o(179815)},147091:(e,t,o)=>{o.d(t,{SearchAuthor:()=>d});var a=o(474848),i=o(174269),r=o(35945),n=o(826583),s=o(172479),l=o(293721),c=o(856289);const d=({id:e,track_code:t,description:o})=>{const{appCatalogService:d}=(0,i.useCatalogConfig)(),u=(0,i.useCatalogStoreMap)(d.groupsService.$groups,Math.abs(Number(e))),p=(0,l.useStoreMap)({store:d.profilesService.$profiles,keys:[e],fn:(e,[t])=>e.get(+t)}),_=u||p;if(!_)return null;const g=(0,i.getUrlWithTrackCode)((0,s.getOwnerUrl)(_,`/${(0,c.getVideoPrefix)("at")}`),t,i.CatalogType.SEARCH);return u?(0,a.jsx)(r.SearchAuthorGroup,{group:u,description:o,url:g,trackCode:t}):p?(0,a.jsx)(n.SearchAuthorProfile,{profile:p,description:o,url:g,trackCode:t}):null}},35945:(e,t,o)=>{o.d(t,{SearchAuthorGroup:()=>m});var a=o(474848),i=o(317216),r=o(482199),n=o(260546),s=o(751268),l=o(454154),c=o(898848),d=o(174269),u=o(540462),p=o(866467),_=o(293721),g=o(169786);const m=({group:e,description:t,url:o,trackCode:m})=>{const{appCatalogService:v,pageVerifiedTip:S}=(0,d.useCatalogConfig)(),C=(0,_.useStoreMap)({store:v.groupsService.$groupPendingIds,keys:[e.id],fn:(e,[t])=>!!e.find((e=>e===t))}),h=(0,d.useCollectClick)(),f=(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?((0,c.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,c.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,I=(0,d.useRefLogView)({type:i.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,a.jsx)(n.SimpleCell,{className:g.default.author,"data-testid":"author_group",getRootRef:I,href:o,onClick:()=>{h?.({action:i.SearchClickActionMap.TAP,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},before:(0,a.jsx)(s.RichAvatar,{size:(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?d.CATALOG_AVATAR_SIZE_L:d.CATALOG_AVATAR_SIZE_SM,src:f,nft:!!e?.is_nft_photo}),badgeAfterTitle:e.verified?(0,a.jsx)(r.Icon16Verified,{onMouseOver:t=>{S&&S(t.currentTarget,{type:1,oid:-e.id,force_new_tab:!0,forceToDown:!0})}}):null,after:(0,a.jsx)(l.Button,{mode:e?.is_member?"secondary":"primary",size:"s",appearance:"accent",onClick:e?.is_member?t=>{t.stopPropagation(),t.preventDefault(),v.groupsService.fireLeaveGroup({group_id:e.id}),h?.({action:i.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),v.groupsService.fireJoinGroup({group_id:e.id}),h?.({action:i.SearchClickActionMap.SUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},loading:C,children:e?.is_member?(0,p.getLang)("search_video_author_subscribed"):(0,p.getLang)("search_video_author_subscribe")}),subtitle:t,children:e.name})}},826583:(e,t,o)=>{o.d(t,{SearchAuthorProfile:()=>m});var a=o(474848),i=o(293721),r=o(317216),n=o(482199),s=o(260546),l=o(751268),c=o(454154),d=o(898848),u=o(866467),p=o(540462),_=o(174269),g=o(169786);const m=({profile:e,description:t,url:o,trackCode:m})=>{const{appCatalogService:v}=(0,_.useCatalogConfig)(),S=(0,i.useStore)(v.catalogUsersService.$pendingFriendsIds),C=(0,_.useCollectClick)(),h=(0,p.partConfigEnabled)("search_videoshowcase_horizontal")?((0,d.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,d.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,f=(0,_.useRefLogView)({type:r.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,a.jsxs)(s.SimpleCell,{className:g.default.author,"data-testid":"author_profile",getRootRef:f,href:o,onClick:()=>{C?.({action:r.SearchClickActionMap.TAP,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},before:(0,a.jsx)(l.RichAvatar,{size:(0,p.partConfigEnabled)("search_videoshowcase_horizontal")?_.CATALOG_AVATAR_SIZE_L:_.CATALOG_AVATAR_SIZE_SM,src:h,nft:!!e?.is_nft}),badgeAfterTitle:e.verified?(0,a.jsx)(n.Icon16Verified,{}):null,after:(0,a.jsx)(c.Button,{mode:e.friend_status?"secondary":"primary",size:"s",appearance:"accent",onClick:e.friend_status?t=>{t.stopPropagation(),t.preventDefault(),v.catalogUsersService.fireDeleteFriend({user_id:e.id}),C?.({action:r.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),v.catalogUsersService.fireAddFriend({user_id:e.id}),C?.({action:r.SearchClickActionMap.SUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},loading:S.includes(e.id),children:e.friend_status?(0,u.getLang)("search_video_author_subscribed"):(0,u.getLang)("search_video_author_subscribe")}),subtitle:t,children:[e.first_name," ",e.last_name]})}},143652:(e,t,o)=>{o.d(t,{SearchAuthor:()=>a.SearchAuthor});var a=o(147091)},897291:(e,t,o)=>{o.d(t,{SearchSpellchecker:()=>_});var a=o(474848),i=o(293721),r=o(351137),n=o(657293),s=o(317216),l=o(247368),c=o(260546),d=o(285056),u=o(279734),p=o(555657);const _=({id:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),{search:o}=(0,r.useCatalogSearch)(),_=(0,r.useCollectClick)(),g=(0,i.useStore)(t.pageService.$pageId),m=(0,i.useStoreMap)({store:t.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),v=m?.track_code,S=(0,n.useRefLogView)({type:s.EventItemType.SEARCH_SUGGESTION,trackCode:v});if(!m)return null;const C=(0,l.prepareSpellcheck)(m);return(0,a.jsx)(c.SimpleCell,{className:p.default.searchSpellcheck,getRootRef:S,hasActive:!1,hasHover:!1,multiline:!0,children:(0,a.jsxs)(d.Text,{children:[C.title," ",(0,a.jsx)(d.Text,{normalize:!1,weight:"1",children:C.query.text})," · ",C.suggest,(0,a.jsx)(u.Link,{"data-testid":"search_spellchecker",onClick:()=>{o&&m?.id&&v&&(o({q:m.search_action.next_search_query,page:g,additionalParams:{suggestTrackCode:v,noSpellcheck:1}}),_({action:s.SearchClickActionMap.TAP,track_code:m.track_code,type:s.EventItemType.CATALOG_ITEM}))},children:C.search_action.text})]})})}},58766:(e,t,o)=>{o.d(t,{SearchSpellchecker:()=>a.SearchSpellchecker});var a=o(897291)},442455:(e,t,o)=>{o.d(t,{Text:()=>s});var a=o(474848),i=o(296540),r=o(172656),n=o(378455);const s=e=>{const t=(0,i.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),o=(0,n.getBlockComponentByDataType)(e.data_type);return(0,a.jsx)(r.Group,{mode:"plain",separator:"hide",children:t.map((({id:e})=>(0,a.jsx)(o,{id:e},e)))})}},57744:(e,t,o)=>{o.d(t,{Text:()=>a.Text});var a=o(442455)},821555:(e,t,o)=>{o.d(t,{Video:()=>B});var a=o(474848),i=o(296540),r=o(506011),n=o(351118),s=o(601379),l=o(538522),c=o(363046),d=o(768035),u=o(980353),p=o(854950),_=o(461787),g=o(794758),m=o(829005),v=o(501975),S=o(926182),C=o(922812),h=o(324672),f=o(347929),I=o(810068),y=o(174269),k=o(351137),E=o(317216),T=o(841315),A=o(657293),R=o(601517),x=o(293721),b=o(540462),L=o(373594),O=o(856289),w=o(481900),V=o(857551),P=o(188546);const B=({id:e})=>{const t=(0,y.useCollectClick)(),{userId:o,appCatalogService:B}=(0,y.useCatalogConfig)(),{showVideo:N,getVideoCardWrapper:M}=(0,k.useCatalogSearch)(),{videoCardProps:D,onOpenPlaylistModal:j}=(0,k.useCatalogDesktopVideo)(),{onVideoDelete:G,onVideoEdit:F}=D,{ownerId:U,id:H}=(0,d.parseRawId)(String(e)),$=(0,x.useStoreMap)({store:B.videoService.$videoItems,keys:[U,H],fn:(e,[t,o])=>{const a=e.find((({id:e,owner_id:a})=>e===Number(o)&&a===Number(t)));if(a&&(0,s.isVideoVideoFullWithIds)(a))return a;return{id:0,owner_id:0}}}),z=(0,y.useCatalogStoreMap)(B.groupsService.$groups,Math.abs(Number(U))),W=(0,x.useStoreMap)({store:B.profilesService.$profiles,keys:[U],fn:(e,[t])=>e.get(+t)}),K=$?(0,T.getVideoUrl)($):"",[Y,q]=(0,i.useState)(!1),Q=$?.main_artists?.at(0),Z=I.Ranges.isGroupId(Number(U))?z:W,J=(0,u.useWindowWidth)(),X=(0,i.useMemo)((()=>{const e=$?.image??[];if((0,b.partConfigEnabled)("disable_common_covers_of_videos")){const t=(0,P.findBaseImage)(e);if(t){const e=(0,p.getImageMinWidth)(J);return{...t,url:(0,P.getBaseImageUrl)(t.url,e)}}}let t=e.filter((e=>!e.with_padding));return t.length||(t=e),(0,n.getPhotoSize)(t,(0,p.getImageMinWidth)(J))}),[J]),[ee,te]=(0,i.useState)(!0),oe=(0,A.useRefLogView)({type:E.EventItemType.VIDEO,trackCode:$?.track_code});if(void 0===$)return null;const ae=$.trailer?.mp4_360??"",ie=(0,r.getVideoClasses)($,String(e)),re=(0,b.partConfigEnabled)("video_new_restriction_in_search")?(0,V.mapRestrictions)($.restriction):$.restriction;let ne=0;$.viewed_duration&&$.duration&&(ne=100*$.viewed_duration/$.duration);const se=$.duration?(0,n.formatDuration)($.duration):"",le=o=>{const a="live"===$.type&&$.live_status&&["started","waiting"].includes($.live_status),i="music_video"===$.type,r="short_video"===$.type;if((!(0,O.isVideoStandaloneOrSection)()||i||a||r)&&o.preventDefault(),window.cur.cancelClick)window.cur.cancelClick=!1;else{if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(o.target,String(e));t({action:E.SearchClickActionMap.TAP,track_code:$.track_code,type:E.EventItemType.VIDEO}),N&&N({event:o,id:String(e),video:$})}},ce=M&&M({video:$,owner:Z,handleFavToggle:e=>(e=>{if(!U)return;const o=$?.is_favorite;o?B.videoService.removeVideoFromWatchLater({owner_id:Number(U),id:Number(H),ref:$?.track_code,source:e}):B.videoService.addVideoToWatchLater({owner_id:Number(U),id:Number(H),ref:$?.track_code,source:e});const a=(0,l.joinRawId)({ownerId:Number(U),itemId:Number(H)});window.dispatchEvent(new CustomEvent(r.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:a,isFave:o,rollbackCallback:()=>{B.videoService.addVideoToWatchLater({owner_id:Number(U),id:Number(H),ref:$?.track_code,source:L.FAVORITE_SOURCES.SNACKBAR}),window.dispatchEvent(new CustomEvent(r.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:a,isFave:!1}}))}}})),t({action:o?E.SearchClickActionMap.UNFAVE:E.SearchClickActionMap.FAVE,track_code:$?.track_code,type:E.EventItemType.VIDEO})})(e),handleToggleAdd:()=>{const e=$?.added;e?(t({action:E.SearchClickActionMap.REMOVE_FROM_ME,track_code:$?.track_code,type:E.EventItemType.VIDEO}),B.videoService.removeVideoFromMyVideosWithoutEffect({target_id:o,owner_id:Number(U),video_id:Number(H)})):(t({action:E.SearchClickActionMap.ADD_TO_ME,track_code:$?.track_code,type:E.EventItemType.VIDEO}),B.videoService.addVideoToMyVideosWithoutEffect({target_id:o,owner_id:Number(U),video_id:Number(H)}))},handleClickShowVideo:le,handleClickAuthor:()=>{t({action:E.SearchClickActionMap.OPEN_OWNER,track_code:$.track_code,type:E.EventItemType.VIDEO})}});if(ce)return ce;const de=j&&(0,O.canAddVideoToCommunityPlaylist)($);return(0,a.jsxs)("div",{ref:oe,className:ie,id:`video_item_${e}`,"data-id":e,"data-owner-id":U,"data-video-id":H,"data-thumb":X?.url,"data-trailer":ae,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer",children:[(0,a.jsx)("a",{className:"VideoCard__thumbLink video_item__thumb_link",href:K,onClick:le,children:(0,a.jsxs)("div",{className:(0,n.classNames)("VideoCard__thumbWrapper video_item_thumb_wrap",(0,b.partConfigEnabled)("video_new_restriction_in_search")&&"VideoCard__thumbDisableBg"),children:[(0,a.jsxs)("div",{className:"VideoCard__thumb",children:[X&&!Y&&(0,a.jsx)("img",{className:(0,n.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(re)}),"data-thumb":X.url,src:X.url,onError:()=>q(!0),alt:$.title}),Y&&(0,a.jsx)(f.Icon56VideoOutline,{})]}),re?(0,b.partConfigEnabled)("video_new_restriction_in_search")&&"iconType"in re?(0,a.jsx)(w.VideoCardRestrictionOverlay,{title:re.title,mode:re.mode,iconType:re.iconType,size:"m",stretched:!1}):"icon_name"in re&&(0,a.jsx)(_.VideoRestriction,{icon:re.icon_name,title:re.title}):null,(0,a.jsx)("div",{className:"video_thumb_play VideoCard__play"}),ae?(0,a.jsx)("video",{className:(0,n.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":ee}),onLoadedData:()=>te(!1),crossOrigin:"anonymous",src:ae,muted:!0,loop:!0}):null,(0,a.jsxs)("div",{className:"VideoCard__controls video_item_controls",children:[(0,a.jsx)("div",{className:"VideoCard__privacyIconWrapper"}),(0,a.jsx)(R.VideoCardLabel,{video:$,duration:se}),(0,a.jsx)("div",{onClick:e=>{(0,c.cancelEvent)(e)},className:"VideoCard__elementControls",children:(0,a.jsx)(g.VideoActions,{video:$,onVideoEdit:e=>{$&&F?.(e,$)},onOpenPlaylistModal:()=>{$&&de&&j?.($)},onVideoDelete:e=>{$&&G?.(e,$)}})}),(0,a.jsx)(h.MediaCheckButton,{videoId:String(e)}),ne?(0,a.jsx)("div",{className:"VideoCard__viewedDurationWrapper",children:(0,a.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:`${ne}%`}})}):null]})]})}),(0,a.jsxs)("div",{className:"VideoCard__info",children:[(0,a.jsx)(m.Avatar,{owner:Z||Q}),(0,a.jsxs)("div",{className:"VideoCard__infoContent",children:[(0,a.jsxs)("div",{className:"VideoCard__titleWrapper",id:`video_card_title_wrapper_${H}`,children:[(0,a.jsx)("a",{className:"VideoCard__title",href:K,"data-queue":"0","data-id":e,"data-task-mouseover":"Video/check_title",onClick:le,children:$?.title}),(0,a.jsx)(v.MenuToggle,{videoRawId:String(e)})]}),(0,a.jsx)("div",{className:"VideoCard__additionalInfo",children:(0,a.jsx)(S.VideoOwner,{owner:Z||Q,ownerId:$.owner_id,trackCode:$.track_code})}),(0,a.jsx)("div",{className:"VideoCard__additionalInfo VideoCard__extendedInfo",children:(0,a.jsx)(C.SubTitle,{video:$})})]})]})]})}},828520:(e,t,o)=>{o.d(t,{Avatar:()=>n});var a=o(474848),i=o(591485),r=o(172479);const n=({owner:e})=>{const t=(0,i.getOwnerAvatar)(e);return t.length?(0,a.jsx)("a",{href:(0,r.getOwnerUrl)(e,"/video/@"),className:"VideoCard__avatar VideoCard__avatar--base",style:{backgroundImage:`url(${t})`}}):null}},829005:(e,t,o)=>{o.d(t,{Avatar:()=>a.Avatar});var a=o(828520)},50642:(e,t,o)=>{o.d(t,{MediaCheckButton:()=>r});var a=o(474848),i=o(296540);const r=({videoId:e})=>{const t=(0,i.useRef)(null);return(0,a.jsx)("div",{ref:t,className:"media_check_btn_wrap",onClick:()=>{if(window.cur.chooseVideoMedia&&t.current)return window.cur.chooseVideoMedia(t.current,e,!0)},children:(0,a.jsx)("div",{className:"media_check_btn"})})}},324672:(e,t,o)=>{o.d(t,{MediaCheckButton:()=>a.MediaCheckButton});var a=o(50642)},45812:(e,t,o)=>{o.d(t,{MenuToggle:()=>s});var a=o(474848),i=o(296540),r=o(141575),n=o(351137);const s=({videoRawId:e})=>{const{showVideoMenu:t}=(0,n.useCatalogSearch)(),o=(0,i.useRef)(null),s=()=>{t&&t(o.current,e)};return(0,a.jsx)("button",{ref:o,className:"VideoCard__menuToggle",onMouseOver:s,onClick:s,children:(0,a.jsx)("div",{className:"VideoCard__menuToggleIcon",children:(0,a.jsx)(r.Icon24MoreHorizontal,{})})})}},501975:(e,t,o)=>{o.d(t,{MenuToggle:()=>a.MenuToggle});var a=o(45812)},584038:(e,t,o)=>{o.d(t,{SubTitle:()=>r});var a=o(474848),i=o(856289);const r=({video:e})=>(0,a.jsxs)(a.Fragment,{children:[e.views&&(0,a.jsx)("span",{className:"VideoCard__extendedInfoView",children:(0,i.getFormattedViews)(e.views)}),(0,a.jsxs)("span",{className:"VideoCard__extendedInfoDate",children:[(0,a.jsx)("span",{className:"divider VideoCard__extendedInfoDateDivider"}),e.date&&(0,a.jsx)("span",{className:"VideoCard__extendedInfoUpdated",children:(0,i.getFormattedUpdatedTime)(e.date,!0)})]})]})},922812:(e,t,o)=>{o.d(t,{SubTitle:()=>a.SubTitle});var a=o(584038)},72166:(e,t,o)=>{o.d(t,{VideoActions:()=>p});var a=o(474848),i=o(435485),r=o(745401),n=o(224173),s=o(378204),l=o(866467),c=o(540462),d=o(578392),u=o(506011);const p=({video:e,onVideoEdit:t,onOpenPlaylistModal:o,onVideoDelete:p})=>{const _=(0,c.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later"),g=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");return(0,a.jsxs)(a.Fragment,{children:[e.id&&e.owner_id&&(0,a.jsx)(d.TextTooltip,{text:(0,l.getLang)("video_edit"),appearance:"black",placement:"bottom",children:(0,a.jsx)("div",{className:"VideoCard__controlIcon",children:(0,a.jsx)(i.Icon16PenOutline,{onClick:t,"aria-label":(0,l.getLang)("video_edit"),"data-testid":"video_card_edit_button"})})}),Boolean(e.can_add)&&(_||!g)&&(0,a.jsx)(d.TextTooltip,{text:(0,l.getLang)("video_move_to_playlist"),appearance:"black",placement:"bottom",children:(0,a.jsx)("div",{className:"VideoCard__controlIcon",children:(0,a.jsx)(r.Icon16ListPlayOutline,{onClick:o,"aria-label":(0,l.getLang)("video_move_to_playlist"),"data-testid":"video_card_playlist_button"})})}),e.id&&e.owner_id&&(0,a.jsx)(d.TextTooltip,{text:(0,l.getLang)("global_delete"),appearance:"black",placement:"bottom",children:(0,a.jsx)("div",{className:"VideoCard__controlIcon",children:(0,a.jsx)(n.Icon16Cancel,{onClick:p,"aria-label":(0,l.getLang)("global_delete"),"data-testid":"video_card_delete_button"})})}),3===e.can_download&&"interactive"!==e.type&&(0,a.jsx)("button",{className:"VideoCard__action VideoCard__action--download",onClick:t=>(0,u.downloadVideo)(t,e),"aria-label":(0,l.getLang)("video_download"),"data-testid":"video_card_download_button",children:(0,a.jsx)(s.Icon16DownloadOutline,{})})]})}},794758:(e,t,o)=>{o.d(t,{VideoActions:()=>a.VideoActions});var a=o(72166)},668228:(e,t,o)=>{o.d(t,{VideoCardLabel:()=>l});var a=o(474848),i=o(506011),r=o(351118),n=o(620483),s=o(866467);const l=({video:e,duration:t})=>{const o=!!e?.interactive_info,l=o?(0,s.getLang)("video_interactive_label"):e.platform;return(0,a.jsxs)("div",{className:(0,r.classNames)("VideoCard__label",{"VideoCard__label--interactive":o}),children:[o&&(0,a.jsx)(n.Icon12HandPointUp,{}),l&&(0,a.jsx)("span",{className:"VideoCard__labelItem",children:l}),e.duration?(0,a.jsx)("span",{className:"VideoCard__labelItem",children:t}):null,(0,i.isActiveLiveStatus)(e)&&(0,a.jsx)("span",{className:"video_thumb_label_live_icon"})]})}},601517:(e,t,o)=>{o.d(t,{VideoCardLabel:()=>a.VideoCardLabel});var a=o(668228)},605242:(e,t,o)=>{o.d(t,{VideoOwner:()=>c});var a=o(474848),i=o(172479),r=o(641495),n=o(174269),s=o(317216),l=o(351137);const c=({owner:e,trackCode:t,ownerId:o})=>{const c=(0,n.useCollectClick)(),{pageVerifiedTip:d}=(0,l.useCatalogConfig)(),u=e?(0,i.getOwnerUrl)(e,"/video/@"):void 0,p=(0,r.getOwnerName)(e),_=Boolean(e&&"verified"in e&&e?.verified);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{onClick:()=>{c({action:s.SearchClickActionMap.OPEN_OWNER,track_code:t,type:s.EventItemType.VIDEO})},href:u,className:"VideoCard__ownerLink",children:p}),_&&(0,a.jsx)("a",{href:"/verify",className:"page_verified ",onMouseOver:e=>{d&&d(e.currentTarget,{type:1,oid:o})}})]})}},926182:(e,t,o)=>{o.d(t,{VideoOwner:()=>a.VideoOwner});var a=o(605242)},455756:(e,t,o)=>{o.d(t,{VideoRestriction:()=>r});var a=o(474848);const i=e=>"hide_outline"===e?"age":e,r=({icon:e,title:t})=>(0,a.jsx)("div",{className:"VideoRestriction__boxWrap",children:(0,a.jsxs)("div",{className:"VideoRestriction__box",children:[(0,a.jsx)("div",{className:`VideoRestriction__icon VideoRestriction__icon--${i(e)}`}),(0,a.jsx)("div",{className:"VideoRestriction__title",children:t})]})})},461787:(e,t,o)=>{o.d(t,{VideoRestriction:()=>a.VideoRestriction});var a=o(455756)},931766:(e,t,o)=>{o.d(t,{Video:()=>a.Video});var a=o(821555)},506011:(e,t,o)=>{o.d(t,{VideoShowcaseFaveEvents:()=>l,downloadVideo:()=>d,getPlayFromByDuration:()=>c,getVideoClasses:()=>s,isActiveLiveStatus:()=>n});var a=o(351118),i=o(856289),r=o(538522);const n=e=>["waiting","started"].some((t=>t===e.live_status)),s=(e,t)=>{const o=(0,i.isLiveVideo)(e),r=Boolean(e.platform)&&!o,s=Boolean(e.can_edit),l=Boolean(e.can_add),c=3===e.can_download&&"interactive"!==e.type,d=!s,u=!l,p=Boolean(e.content_restricted);return(0,a.classNames)("_video_item",`ge_video_item_${t}`,{video_ext:r,video_active_live:n(e),video_can_edit:s,video_can_add:l,video_can_download:c,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!n(e),video_no_actions:d&&(u||p),video_blocked:p,VideoRestriction:Boolean(e.restriction),"VideoRestriction--small":Boolean(e.restriction),"VideoRestriction--canPreview":Boolean(e.restriction?.can_preview),"VideoRestriction--blur":Boolean(e.restriction?.blur),"VideoCard--videoAdded":Boolean(e.added),"VideoCard--bookmarked":Boolean(e.is_favorite)},"VideoCard")},l={TOGGLE:"VideoShowcaseFaveEvents/TOGGLE",EVENT_TRIGGER:"VideoShowcaseFaveEvents/EVENT_TRIGGER"},c=e=>{let t="";const o=Math.floor(e/3600);o&&(t+=`${o}h`);const a=Math.floor(e%3600/60);a&&(t+=`${a}m`);const i=e%60;return i&&(t+=`${i}s`),t},d=(e,{id:t,owner_id:o,title:a,type:i})=>{a&&i&&o&&t&&(e.preventDefault(),e.stopPropagation(),window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,r.joinRawId)({ownerId:o,itemId:t})},{onDone:e=>{(({url:e,title:t})=>{if(!e)return!1;const o=document.createElement("a");o.href=e,o.download=`${t}.mp4`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})({title:a,url:e})}}))}},951979:(e,t,o)=>{o.d(t,{ECatalogBlockDataType:()=>a});const a={VIDEOS:"videos",CATALOG_VIDEOS:"catalog_videos",ALBUMS:"albums",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors"}},378455:(e,t,o)=>{o.d(t,{extractItemsIds:()=>c,getBlockComponentByDataType:()=>d});var a=o(951979),i=o(931766),r=o(143652),n=o(58766),s=o(979717);const l=e=>e?.map((e=>({id:e}))),c=e=>{const{data_type:t}=e;switch(t){case a.ECatalogBlockDataType.VIDEOS:case a.ECatalogBlockDataType.CATALOG_VIDEOS:return l(e?.videos_ids)||[];case a.ECatalogBlockDataType.ALBUMS:return l(e?.albums_ids)||[];case a.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return l(e?.search_spellcheckers_ids)||[];case a.ECatalogBlockDataType.SEARCH_AUTHORS:return e?.search_author_items||[]}return[]},d=e=>{switch(e){case a.ECatalogBlockDataType.VIDEOS:case a.ECatalogBlockDataType.CATALOG_VIDEOS:return i.Video;case a.ECatalogBlockDataType.SEARCH_AUTHORS:return r.SearchAuthor;case a.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return n.SearchSpellchecker;case a.ECatalogBlockDataType.ALBUMS:return s.Playlist}return()=>null}},49932:(e,t,o)=>{o.d(t,{CATALOG_API_METHODS:()=>L,CATALOG_AVATAR_SIZE_L:()=>m,CATALOG_AVATAR_SIZE_M:()=>g,CATALOG_AVATAR_SIZE_SM:()=>_,CatalogActionIcons:()=>O,CatalogActionType:()=>s,CatalogBlockDataType:()=>n,CatalogBlockLayoutName:()=>i,CatalogBlockLayoutStyle:()=>r,CatalogExtendedDataName:()=>l,CatalogType:()=>a,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>R,FRIENDS_BUTTON_ACTIONS:()=>d,FRIENDS_IN_GROUP:()=>I,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>T,GROUP_REDESIGN_SLIDER_SCROLL:()=>E,MARKET_ITEM_AVATAR_SIZE_M:()=>f,MARKET_ITEM_AVATAR_SIZE_SM:()=>h,MARKET_ITEM_SLIDER_SCROLL:()=>A,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>y,MINI_APP_AVATAR_SIZE:()=>v,ONLINE_STATUS:()=>c,OPEN_SEARCH_TAB_ACTION_URL:()=>u,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>p,RICH_CELL_BUTTON_WIDTH_L:()=>b,SLIDER_AVATAR_SIZE_M:()=>C,SLIDER_AVATAR_SIZE_SM:()=>S,SLIDER_SCROLL:()=>k,VERIFIED_TOOLTIP_SHIFT:()=>x});var a=function(e){return e.SEARCH="search",e.VIDEO="video",e.GROUPS="groups",e}({});const i={HEADER:"header",HEADER_COMPACT:"header_compact",HEADER_LARGE:"header_large",HEADER_EXTENDED:"header_extended",HEADER_HIDDEN:"header_hidden",SMALL_SLIDER:"small_slider",LARGE_SLIDER:"large_slider",SLIDER:"slider",VIDEO_SLIDER:"video_slider",SLIDER_CARD:"slider_card",SLIDER_MINIMALISTIC_CARD:"slider_minimalistic_card",SLIDER_EVENT:"slider_event",SEPARATOR:"separator",LIST:"list",LIST_WITH_NOTIFICATION_STATE:"list_with_notification_state",LIST_WITH_RETURN_STATE:"list_with_return_state",LARGE_LIST:"large_list",SMALL_LIST:"small_list",STACKED_LIST:"stacked_list",SHORT_VIDEO_LIST:"short_video_list",COMPACT_LIST:"compact_list",PLACEHOLDER:"placeholder",PLACEHOLDER_LINE:"placeholder_line",PLACEHOLDER_SMALL:"placeholder_small",PLACEHOLDER_BIG:"placeholder_big",PLACEHOLDER_IMAGE_WARNING:"placeholder_image_warning",PLACEHOLDER_ILLEGAL_QUERY:"placeholder_illegal_query",DOUBLE_STACKED_SLIDER:"double_stacked_slider",DOUBLE_LIST:"double_list",DOUBLE_STACKED_LIST:"double_stacked_list",DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:"double_stacked_list_minimalistic_card",HORIZONTAL_BUTTONS:"horizontal_buttons",TRIPLE_STACKED_SLIDER:"triple_stacked_slider",PREVIEW:"preview",CHIPS:"chips",TITLE_SUBTITLE_AVATAR:"title_subtitle_avatar",TEXT:"text",BUTTON:"button",BANNER:"banner",SHORT_VIDEO_SLIDER:"short_video_slider",SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:"short_video_slider_with_view_counter",VIDEO_SETTINGS_PIN:"video_settings_pin",VIDEO_SETTINGS_PLAYLISTS:"video_settings_playlists",SHORT_VIDEO_DOUBLE_STACKED_LIST:"short_video_double_stacked_list"},r={WITH_BUTTON:"with_button",WITH_DROPDOWN:"with_dropdown"},n={GROUPS:"groups",GROUPS_INVITES:"groups_invites",GROUPS_ITEMS:"groups_items",GROUPS_ALL:"groups_all_groups_or_recommendations",GROUPS_COLLECTION:"groups_collection",GROUPS_CATEGORY_ITEMS:"groups_category_items",GROUPS_EVENTS:"groups_events",ACTION:"action",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:"video_showcase_vklive_channels_items",VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:"video_showcase_vklive_categories_items",ALBUMS:"albums",CATALOG_SEARCH_SUGGESTION:"catalog_search_suggestion",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors",MUSIC_AUDIOS:"music_audios",MUSIC_PLAYLISTS:"music_playlists",SEARCH_SUGGESTIONS:"search_suggestions",NEWSFEED_ITEMS:"newsfeed_items",AUDIOS:"audios",GAMES:"games",STICKERS_PACKS:"stickers_packs",MINI_APPS_CONTENT:"mini_apps_content",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",PLACEHOLDER:"placeholder",RADIO_STATIONS:"radiostations"},s={OPEN_SEARCH_TAB:"open_search_tab",OPEN_SECTION:"open_section",OPEN_URL:"open_url",CLEAR_RECENT_GROUPS:"clear_recent_groups",OPEN_SECTION_SLIDER_CELL:"open_section_slider_cell",ONBOARDING:"onboarding",BLOCK_FILTER:"block_filter",VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:"video_subscriptions_block_filter",SHOW_FILTERS:"show_filters",PLAY_VIDEOS_FROM_BLOCK:"play_videos_from_block",TOGGLE_ALBUM_SUBSCRIPTION:"toggle_album_subscription",UPLOAD_VIDEO:"upload_video",CREATE_ALBUM:"create_album",START_LIVE:"start_live",GROUPS_MY_GROUPS_TABS:"groups_my_groups_tabs",GROUPS_EVENTS_TABS:"groups_events_tabs",HIDE_BLOCK:"hide_block",SWITCH_SECTION:"switch_section",SEARCH_SHOW_MORE:"search_show_more",OPEN_VIDEO_MODAL:"open_video_modal",OPEN_VIDEO_PLAYLIST_MODAL:"open_video_playlist_modal"},l={GROUPS:"groups",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",PLACEHOLDERS:"placeholders",PROFILES:"profiles",SUGGESTIONS:"suggestions",SEARCH_SPELLCHECKERS:"search_spellcheckers",NEWSFEED_ITEMS:"newsfeed_items",REACTION_SETS:"reaction_sets",PLAYLISTS:"playlists",AUDIOS:"audios",GROUP_COLLECTION_ITEMS:"group_collection_items",GROUP_CATEGORY_ITEMS:"group_category_items",GAMES:"games",STICKERS_PACK_PREVIEWS:"stickers_pack_previews",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",CLASSIFIEDS_CATEGORY_TREE:"classifieds_category_tree",RADIO_STATIONS:"radio_stations",TEXTS:"texts"},c={ONLINE:"online",MOBILE:"online-mobile"};var d=function(e){return e.ADD_FRIEND="addFriend",e.REMOVE_FRIEND="removeFriend",e.SEND_MESSAGE="sendMessage",e.NO_ACTION="noAction",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.CALL="call",e}({});const u={GROUPS:"/search?section=communities",PEOPLE:"/search?section=people",VIDEO:"/search?section=video",SERVICES:"/search?section=services",GAMES:"/search?section=games",MUSIC:"/search?section=audio",CLIPS:"/search?section=clips"},p={GROUPS:"/search/communities",PEOPLE:"/search/people",VIDEO:"/search/video",SERVICES:"/search/mini_apps",GAMES:"/search/games",MUSIC:"/search/audio",CLIPS:"/search/clips",MARKET:"/search/market"},_=40,g=48,m=80,v=56,S=56,C=64,h=135,f=140,I={NO_ONE:0,ONE:1,TWO:2},y=2,k=120,E=170,T=310,A=225,R=[96,20,5],x=[96,3,3],b=134,L={GET_SECTION:"catalog.getSection",SAVE_SELECTION:"catalog.saveSelection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",CLEAR_RECENT:"search.clearRecents",GROUPS_REMOVE_RECENT:"groups.removeRecents",FAVE_ADD_PRODUCT:"fave.addProduct",FAVE_REMOVE_PRODUCT:"fave.removeProduct",ADD_RECENT:"search.addRecents",REMOVE_SEARCH_RECENT_QUERY:"search.removeSearchRecentQuery",LIKES_ADD:"likes.add",LIKES_DELETE:"likes.delete",ADD_VIDEO:"video.add",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",ADD_VIDEO_TO_PLAYLIST:"video.addToAlbum",REMOVE_VIDEO_FROM_PLAYLIST:"video.removeFromAlbum",GET_PLAYLISTS_BY_VIDEO:"video.getAlbumsByVideo",GET_PLAYLISTS:"video.getAlbums",SUBSCRIBE_TO_ALBUM:"video.subscribeToAlbum",UNSUBSCRIBE_TO_ALBUM:"video.unsubscribeFromAlbum",REMOVE_VIEWING_HISTORY_RECORDS:"video.removeViewingHistoryRecords",MARK_VIDEO_NOT_INTERESTED:"video.notInterested",GET_VIDEOS_FROM_ALBUM:"video.getFromAlbum",NOT_RECOMMEND_OWNER:"video.notRecommendOwner",FAVE_ADD_POST:"fave.addPost",FAVE_REMOVE_POST:"fave.removePost",ADD_AUDIO:"audio.add",DELETE_AUDIO:"audio.delete",RESTORE_AUDIO:"audio.restore",AGREE_BLUR_RESTRICTION:"photos.agreeBlurRestriction",FOLLOW_RADIO_STATION:"audio.followRadioStation",UNFOLLOW_RADIO_STATION:"audio.unfollowRadioStation"},O={CHEVRON_RIGHT_CIRCLE_28:"chevron_right_circle_28"}},579691:(e,t,o)=>{o.d(t,{CatalogConfigProvider:()=>l,useCatalogConfig:()=>s});var a=o(474848),i=o(296540),r=o(308631);const n=(0,i.createContext)({navGo:()=>!1,navigate:()=>{},userId:0,isAnonymous:!1,devicePixelRatio:0,pageVerifiedTip:()=>({}),openChat:()=>({}),call:()=>({}),openStories:()=>({}),internalSwitchSection:!1,appCatalogService:r.appCatalogService}),s=()=>(0,i.useContext)(n),l=({navGo:e=()=>!1,navigate:t=()=>{},userId:o=0,isAnonymous:s=!1,devicePixelRatio:l=0,pageVerifiedTip:c=()=>({}),openChat:d=()=>({}),call:u=()=>({}),openStories:p=()=>({}),musicPlayer:_,blockResolvers:g,appCatalogService:m=r.appCatalogService,withStretchedPlaceholders:v,scrollToBlockOffset:S,internalSwitchSection:C,sliderProps:h,iconSize:f,children:I})=>{const y=(0,i.useMemo)((()=>({navGo:e,internalSwitchSection:C,navigate:t,userId:o,isAnonymous:s,devicePixelRatio:l,pageVerifiedTip:c,openChat:d,call:u,openStories:p,musicPlayer:_,sliderProps:h,iconSize:f,blockResolvers:g,appCatalogService:m,scrollToBlockOffset:S,withStretchedPlaceholders:v})),[e,t,o,s,l,C,c,d,u,p,_,h,f,g,m,S,v]);return(0,a.jsx)(n.Provider,{value:y,children:I})}},533356:(e,t,o)=>{o.d(t,{CatalogDesktopVideoProvider:()=>s,useCatalogDesktopVideo:()=>n});var a=o(474848),i=o(296540);const r=(0,i.createContext)(null),n=()=>{const e=(0,i.useContext)(r);if(!e)throw new Error("You must call useCatalogDesktopVideo only inside CatalogDesktopVideoProvider");return e},s=({videoCardProps:e,listGridProps:t,isAvatarHidden:o,children:n,currentSectionId:s,isCurrentUserEditor:l,isCurrentUserAdmin:c,onOpenPlaylistModal:d,onPlaylistUpload:u,onPlaylistEdit:p,onPlaylistCopyUrl:_,onPlaylistDelete:g,onPlaylistToggleSubscribe:m,onPlaylistOpen:v,onAuthorsActualizeOpen:S,onPlaylistPageOpen:C,onSendLog:h,ownerRoutePrefix:f,showCurrentOnline:I,sortingProps:y,subscriptionsModalProps:k})=>{const E=(0,i.useMemo)((()=>({videoCardProps:e,listGridProps:t,isAvatarHidden:o,isCurrentUserEditor:l,isCurrentUserAdmin:c,currentSectionId:s,onOpenPlaylistModal:d,onPlaylistUpload:u,onPlaylistEdit:p,onPlaylistCopyUrl:_,onPlaylistDelete:g,onPlaylistToggleSubscribe:m,onPlaylistOpen:v,onAuthorsActualizeOpen:S,onPlaylistPageOpen:C,onSendLog:h,ownerRoutePrefix:f,showCurrentOnline:I,sortingProps:y,subscriptionsModalProps:k})),[e,t,o,l,c,s,d,u,p,_,g,m,v,S,C,h,f,I,y,k]);return(0,a.jsx)(r.Provider,{value:E,children:n})}},130713:(e,t,o)=>{o.d(t,{CatalogGroupsProvider:()=>s,useCatalogGroupsContext:()=>n});var a=o(474848),i=o(296540);const r=(0,i.createContext)({}),n=()=>(0,i.useContext)(r),s=({children:e,...t})=>(0,a.jsx)(r.Provider,{value:t,children:e})},211410:(e,t,o)=>{o.d(t,{CatalogHandlersProvider:()=>s,useCatalogHandlersContext:()=>n});var a=o(474848),i=o(296540);const r=(0,i.createContext)({}),n=()=>(0,i.useContext)(r),s=({children:e,...t})=>(0,a.jsx)(r.Provider,{value:t,children:e})},459297:(e,t,o)=>{o.d(t,{CatalogLogProvider:()=>l,useCollectClick:()=>n,useCollectView:()=>s});var a=o(474848),i=o(296540);const r=(0,i.createContext)({collectClick:()=>{}}),n=()=>(0,i.useContext)(r).collectClick,s=()=>(0,i.useContext)(r).collectView,l=({collectView:e,collectClick:t=()=>{},children:o})=>(0,a.jsx)(r.Provider,{value:{collectView:e,collectClick:t||(()=>{})},children:o})},7261:(e,t,o)=>{o(474848),o(296540)},769422:(e,t,o)=>{o.d(t,{CatalogOwnerProvider:()=>d,useCatalogOwner:()=>c});var a=o(474848),i=o(296540),r=o(293721),n=o(468073),s=o(351137);const l=(0,i.createContext)({findOwner:()=>{}}),c=()=>(0,i.useContext)(l),d=({children:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),o=(0,r.useStore)(t.groupsService.$groups),c=(0,r.useStore)(t.profilesService.$profiles),d=(0,i.useCallback)((e=>{if(!e)return;const t=Math.abs(e);return n.Ranges.isGroupId(e)?o.get(t):c.get(t)}),[o,c]);return(0,a.jsx)(l.Provider,{value:{findOwner:d},children:e})}},128553:(e,t,o)=>{o.d(t,{CatalogSearchProvider:()=>s,useCatalogSearch:()=>n});var a=o(474848),i=o(296540);const r=(0,i.createContext)({search:()=>({}),applyFilters:()=>{},resetFilters:()=>{},setFilterModal:()=>({}),displayTopSearch:()=>!1,setCurrentQuery:()=>({}),showVideo:()=>({}),appliedFiltersCount:0,currentQuery:"",callFriend:()=>({}),setContentRestricted:()=>{},showAudioPlaylist:()=>({})}),n=()=>(0,i.useContext)(r),s=({search:e=()=>({}),applyFilters:t=()=>{},resetFilters:o=()=>{},setFilterModal:n=()=>({}),displayTopSearch:s=()=>!1,setCurrentQuery:l=()=>({}),showVideo:c=()=>({}),currentQuery:d="",appliedFiltersCount:u=0,children:p,callFriend:_=()=>({}),setContentRestricted:g=()=>{},getVideoCardWrapper:m,showVideoMenu:v,openProductWiki:S,marketRefSource:C,onOpenUrlClick:h,showMiniAppTooltip:f,showGameTooltip:I,showClip:y,showAudioPlaylist:k=()=>({}),selector:E,showAuthBox:T})=>{const A=(0,i.useMemo)((()=>({setFilterModal:n,applyFilters:t,resetFilters:o,appliedFiltersCount:u,search:e,displayTopSearch:s,currentQuery:d,setCurrentQuery:l,showVideo:c,callFriend:_,setContentRestricted:g,getVideoCardWrapper:m,showVideoMenu:v,openProductWiki:S,marketRefSource:C,onOpenUrlClick:h,showMiniAppTooltip:f,showGameTooltip:I,showAudioPlaylist:k,showClip:y,selector:E,showAuthBox:T})),[n,u,e,s,d,l,c,_,g,m,v,S,C,h,f,I,k,y,t,o,E,T]);return(0,a.jsx)(r.Provider,{value:A,children:p})}},529094:(e,t,o)=>{o.d(t,{useCatalogVideo:()=>r});o(474848);var a=o(296540);const i=(0,a.createContext)({openVideoEditor:()=>({}),openVideoUploader:()=>({}),openPlaylistActions:()=>({}),openLiveSettings:()=>({}),useConfirmPopout:()=>()=>({}),VideoActionSheet:()=>null,isVideoPWA:!1,isVideoStandalone:!1,liveEnabled:!1,openUnauthorizedMoreBox:()=>({})}),r=()=>(0,a.useContext)(i)},272141:(e,t,o)=>{o.d(t,{OptimizedCatalogOwnerProvider:()=>u,useOptimizedCatalogOwner:()=>d});var a=o(474848),i=o(296540),r=o(293721),n=o(634444),s=o(468073),l=o(351137);const c=(0,i.createContext)({findOwner:()=>{}}),d=()=>(0,i.useContext)(c),u=({children:e})=>{const{appCatalogService:t}=(0,l.useCatalogConfig)(),o=(0,r.useStore)(t.groupsService.$groups),i=(0,r.useStore)(t.profilesService.$profiles),d=(0,n.useStableCallback)((e=>{if(!e)return;const t=Math.abs(e);return s.Ranges.isGroupId(e)?o.get(t):i.get(t)}));return(0,a.jsx)(c.Provider,{value:{findOwner:d},children:e})}},351137:(e,t,o)=>{o.d(t,{CatalogConfigProvider:()=>a.CatalogConfigProvider,CatalogDesktopVideoProvider:()=>i.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>r.CatalogGroupsProvider,CatalogHandlersProvider:()=>u.CatalogHandlersProvider,CatalogLogProvider:()=>n.CatalogLogProvider,CatalogOwnerProvider:()=>s.CatalogOwnerProvider,CatalogSearchProvider:()=>c.CatalogSearchProvider,OptimizedCatalogOwnerProvider:()=>l.OptimizedCatalogOwnerProvider,useCatalogConfig:()=>a.useCatalogConfig,useCatalogDesktopVideo:()=>i.useCatalogDesktopVideo,useCatalogGroupsContext:()=>r.useCatalogGroupsContext,useCatalogHandlersContext:()=>u.useCatalogHandlersContext,useCatalogOwner:()=>s.useCatalogOwner,useCatalogSearch:()=>c.useCatalogSearch,useCatalogVideo:()=>d.useCatalogVideo,useCollectClick:()=>n.useCollectClick,useCollectView:()=>n.useCollectView,useOptimizedCatalogOwner:()=>l.useOptimizedCatalogOwner});var a=o(579691),i=o(533356),r=o(130713),n=o(459297),s=(o(7261),o(769422)),l=o(272141),c=o(128553),d=o(529094),u=o(211410)},165553:(e,t,o)=>{o.d(t,{withCatalogBlock:()=>a.withCatalogBlock,withCatalogStore:()=>i.withCatalogStore,withCatalogStoreOwner:()=>r.withCatalogStoreOwner});var a=o(738095),i=o(424815),r=(o(307362),o(48494))},738095:(e,t,o)=>{o.d(t,{withCatalogBlock:()=>n});var a=o(474848),i=o(296540),r=o(174269);function n(e,t){const o=({blockIndex:o=0,...n})=>{const s=(0,i.useMemo)((()=>(0,r.extractItemsIds)(n)),[n]),l=t(n);return s.length&&l?(0,a.jsx)(e,{index:o,block:n,items:s,ItemComponent:l}):null};return o.displayName=`${e.displayName}_withCatalogBlock`,o}},424815:(e,t,o)=>{o.d(t,{withCatalogStore:()=>s});var a=o(474848),i=o(174269),r=o(293721),n=o(351118);function s(e,t,o,{attachTrackCodeToUrl:s,getId:l,getUrl:c,getTrackCode:d,onView:u}={}){const p=p=>{const{appCatalogService:_}=(0,i.useCatalogConfig)(),g=(0,r.useStore)(_.pageService.$catalogType),m=(0,i.useCatalogStoreMap)(t,l?l(p):p.id),v=(0,n.isFunction)(o)?m&&o(m):o,S=d?d(m):p.track_code||(0,i.getObjectPropertyString)(m,"track_code"),C=(0,i.useLogClick)(v,S),h=(0,i.useRefLogView)({type:v,trackCode:S,callback:m&&u?()=>u(m,p):void 0});return m&&v?(0,a.jsx)(e,{...p,item:m,type:v,getRootRef:h,trackCode:S,blockId:p.block_id,collectClick:C,index:p.itemIndex||p.index,href:c&&(s?(0,i.getUrlWithTrackCode)(c(m,p),S,g):c(m,p))}):null};return p.displayName=`${e.displayName}_withCatalogStore`,p}},307362:(e,t,o)=>{o(474848),o(296540),o(174269),o(293721),o(351118)},48494:(e,t,o)=>{o.d(t,{withCatalogStoreOwner:()=>l});var a=o(474848),i=o(296540),r=o(174269),n=o(293721),s=o(351118);function l(e,t,o,{attachTrackCodeToUrl:l,getId:c,getUrl:d,getOwnerId:u,onView:p}={}){const _=_=>{const{appCatalogService:g}=(0,r.useCatalogConfig)(),m=(0,n.useStore)(g.pageService.$catalogType),{findOwner:v}=(0,r.useCatalogOwner)(),S=(0,r.useCatalogStoreMap)(t,c?c(_):_.id),C=(0,s.isFunction)(o)?S&&o(S):o,h=_.track_code||(0,r.getObjectPropertyString)(S,"track_code"),f=(0,r.useLogClick)(C,h),I=(0,r.useRefLogView)({type:C,trackCode:h,callback:S&&p?()=>p(S,_):void 0}),y=(0,i.useMemo)((()=>v(S&&u?u(S):(0,r.getObjectPropertyNumber)(S,"owner_id"))),[v,S]);return S&&y&&C?(0,a.jsx)(e,{..._,item:S,owner:y,type:C,getRootRef:I,trackCode:h,blockId:_.block_id,collectClick:f,index:_.itemIndex||_.index,href:d&&(l?(0,r.getUrlWithTrackCode)(d(S,y),h,m):d(S,y))}):null};return _.displayName=`${e.displayName}_withCatalogStoreOwner`,_}},924398:(e,t,o)=>{o.d(t,{useCatalogCommonFriends:()=>a.useCatalogCommonFriends,useCatalogOwnerStories:()=>i.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>r.useCatalogOwnerSubscribe,useCatalogStoreArray:()=>n.useCatalogStoreArray,useCatalogStoreMap:()=>n.useCatalogStoreMap,useLogClick:()=>s.useLogClick,useScrollToBlockById:()=>l.useScrollToBlockById});var a=o(501058),i=o(279046),r=o(135575),n=o(496049),s=o(992883),l=(o(657293),o(902476))},501058:(e,t,o)=>{o.d(t,{useCatalogCommonFriends:()=>n});var a=o(293721),i=o(351137),r=o(296540);const n=({friendsIds:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),o=(0,a.useStoreMap)({store:t.profilesService.$profiles,keys:[e],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({first_name:e="",photo_50:t,photo_100:o})=>({first_name:e,photo_50:t,photo_100:o})))}),n=(0,r.useMemo)((()=>o.map((e=>e.photo_50||e.photo_100||""))),[o]);return{commonFriends:o,commonFriendsPhotos:n}}},279046:(e,t,o)=>{o.d(t,{useCatalogOwnerStories:()=>n});var a=o(296540),i=o(363046),r=o(351137);const n=({ownerId:e,callback:t,hasUnseenStories:o})=>{const{appCatalogService:n}=(0,r.useCatalogConfig)();return{onOpenStories:(0,a.useCallback)((a=>{if(o){(0,i.cancelEvent)(a),t?.();const o=()=>n.profilesService.fireCheckUserStories(e);n.storiesService.fireOpenStories({ownerId:e,storiesCallback:o})}}),[e,o])}}},135575:(e,t,o)=>{o.d(t,{useCatalogOwnerSubscribe:()=>c});var a=o(174269),i=o(468073),r=o(363046),n=o(296540),s=o(891281),l=o(780345);const c=({ownerId:e,status:t,callback:o})=>{const{appCatalogService:c}=(0,a.useCatalogConfig)(),d=Math.abs(e),u=i.Ranges.isUserId(e),p=void 0!==t&&(u?(e=>{switch(e){case s.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND:case s.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST:return!1;case s.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST:case s.FriendsFriendStatusStatusEnumNames.IS_FRIEND:return!0}})(t):(e=>{switch(e){case l.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER:case l.GroupsGroupFullMemberStatusEnumNames.NOT_SURE:case l.GroupsGroupFullMemberStatusEnumNames.DECLINED:case l.GroupsGroupFullMemberStatusEnumNames.INVITED:return!1;case l.GroupsGroupFullMemberStatusEnumNames.MEMBER:case l.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST:return!0}})(t)),_=(0,a.useCatalogStoreArray)(c.groupsService.$groupsToLeave,u?void 0:d),g=(0,a.useCatalogStoreArray)(c.catalogUsersService.$deletableFriendsIds,u?d:void 0),m=(0,a.useCatalogStoreArray)(c.groupsService.$groupPendingIds,u?void 0:d),v=(0,a.useCatalogStoreArray)(c.catalogUsersService.$pendingFriendsIds,u?d:void 0),S=_||g,C=_||g||p,h=m||v,f=(0,n.useCallback)((e=>{(0,r.cancelEvent)(e),h||(o?.(!C),u?C?c.catalogUsersService.fireDeleteFriend({user_id:d}):c.catalogUsersService.fireAddFriend({user_id:d}):C?c.groupsService.fireLeaveGroup({group_id:d}):c.groupsService.fireJoinGroup({group_id:d}))}),[C,u,d,h]);return{isUser:u,pending:h,canUnsubscribe:C,addedRecently:S,onSubscribeToggle:f,subscribed:p}}},496049:(e,t,o)=>{o.d(t,{useCatalogStoreArray:()=>r,useCatalogStoreMap:()=>i});var a=o(293721);const i=(e,t)=>(0,a.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>t?e.get(t):void 0}),r=(e,t)=>(0,a.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>Boolean(t&&e.includes(t))})},225482:(e,t,o)=>{o.d(t,{useCommunityCollectionItems:()=>l});var a=o(174269),i=o(898848),r=o(984140),n=o(908671),s=o(866467);const l=(e=[])=>{const{groupsService:t}=(0,a.useCatalogGroupsContext)();return e.reduce(((e,o)=>{const a=t?.getGroup(o.id);return a?[...e,a]:e}),[]).map((o=>{const l=(0,i.isRetina)()?o.photo_100:o.photo_50,c=e.find((e=>e.id===o.id))?.track_code,d=(0,a.getUrlWithTrackCode)((0,r.getGroupUrl)(o),c,a.CatalogType.GROUPS),u=t?.checkSubscriptionLoading(o.id),p=o.members_count||0,_=(0,n.formatCount)(p),g=p<1e3?p:0,m=(0,s.getLang)("groups_X_app_users",g).replace(String(g),_);return{key:`${o.id}`,children:o.name,subtitle:m,photo:l,href:d,checked:Boolean(o.is_member),loading:u,isVerified:Boolean(o.verified),onSubscribeClick:()=>{o.is_member?t?.unsubscribe({group_id:o.id,track_code:c}):t?.subscribe({group_id:o.id,track_code:c})},ariaLabel:o.name,buttonAriaLabel:Boolean(o.is_member)?(0,s.getLang)("groups_dd_you_in_group"):(0,s.getLang)("global_share_button_join_public")}}))}},992883:(e,t,o)=>{o.d(t,{useLogClick:()=>r});var a=o(174269),i=o(351118);const r=(e,t)=>{const o=(0,a.useCollectClick)();return e&&t?a=>o({type:e,track_code:t,action:a}):i.noop}},657293:(e,t,o)=>{o.d(t,{useRefLogView:()=>s});var a=o(296540),i=o(351137),r=o(220208),n=o(538166);const s=({type:e,trackCode:t,trackCodes:o=[],callback:s,threshold:l=.8,meta:c,vkRef:d})=>{const u=(0,i.useCollectView)(),{viewWidth:p=r.ViewWidth.MOBILE}=(0,r.useAdaptivityWithJSMediaQueries)(),_=p<r.ViewWidth.TABLET,[g,m]=(0,n.useIntersectionObserver)({rootMargin:_?"0px 0px -48px 0px":void 0,threshold:l});return(0,a.useEffect)((()=>{const a=[...o,t].filter(Boolean);m&&u&&a.length>0&&e&&!c?.disable_track_rec_shown&&(a.forEach((t=>{u({type:e,track_code:t,vk_ref:d})})),s?.())}),[m,u,t,e,o.length,d]),g}},902476:(e,t,o)=>{o.d(t,{useScrollToBlockById:()=>s});var a=o(474848),i=o(293721),r=o(174269),n=o(296540);const s=e=>{const{scrollToBlockOffset:t}=(0,r.useCatalogConfig)(),o=(0,i.useStore)(r.appCatalogService.layoutService.$scrollToBlockById),s=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{o===e&&c(!0)}),[o,e]),(0,n.useEffect)((()=>{l&&(s.current?.scrollIntoView(),c(!1))}),[l]),l){const e="string"==typeof t?`calc(${t} * -1)`:-(t??0)+"px";return(0,a.jsx)("div",{style:{position:"relative"},children:(0,a.jsx)("div",{style:{position:"absolute",top:e},ref:s})})}return null}},174269:(e,t,o)=>{o.d(t,{APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE:()=>n.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,AppPromoSlowYtSnackbarEventTypes:()=>n.AppPromoSlowYtSnackbarEventTypes,CATALOG_AVATAR_SIZE_L:()=>c.CATALOG_AVATAR_SIZE_L,CATALOG_AVATAR_SIZE_SM:()=>c.CATALOG_AVATAR_SIZE_SM,Catalog:()=>i.Catalog,CatalogActionType:()=>c.CatalogActionType,CatalogBlockDataType:()=>c.CatalogBlockDataType,CatalogBlockLayoutName:()=>c.CatalogBlockLayoutName,CatalogDesktopVideoProvider:()=>d.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>d.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>d.CatalogLogProvider,CatalogSearchProvider:()=>d.CatalogSearchProvider,CatalogSnackbar:()=>C.CatalogSnackbar,CatalogType:()=>c.CatalogType,FAVORITE_SOURCES:()=>n.FAVORITE_SOURCES,FRIENDS_IN_GROUP:()=>c.FRIENDS_IN_GROUP,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_EVENT_SLIDER_SCROLL,GROUP_REDESIGN_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_SLIDER_SCROLL,ListenMutateEventsType:()=>r.ListenMutateEventsType,MARKET_ITEM_SLIDER_SCROLL:()=>c.MARKET_ITEM_SLIDER_SCROLL,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>c.MAX_FRIENDS_IN_GROUP_TO_SHOW,MINI_APP_AVATAR_SIZE:()=>c.MINI_APP_AVATAR_SIZE,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>c.OPEN_SEARCH_TAB_ACTION_URL_WEB,RICH_CELL_BUTTON_WIDTH_L:()=>c.RICH_CELL_BUTTON_WIDTH_L,SLIDER_AVATAR_SIZE_M:()=>c.SLIDER_AVATAR_SIZE_M,SLIDER_SCROLL:()=>c.SLIDER_SCROLL,SNACKBAR_EVENTS:()=>n.SNACKBAR_EVENTS,VirtualList:()=>n.VirtualList,appCatalogService:()=>l.appCatalogService,chunks:()=>n.chunks,createAppCatalogService:()=>l.createAppCatalogService,desktopLayoutResolver:()=>p.desktopLayoutResolver,extractExtendedData:()=>S.extractExtendedData,extractItemsIds:()=>S.extractItemsIds,getObjectPropertyNumber:()=>n.getObjectPropertyNumber,getObjectPropertyString:()=>n.getObjectPropertyString,getPlayFromByDuration:()=>f.getPlayFromByDuration,getUrlWithTrackCode:()=>n.getUrlWithTrackCode,modalLayoutResolver:()=>_.modalLayoutResolver,toColumnWithRows:()=>S.toColumnWithRows,useCatalogCommonFriends:()=>s.useCatalogCommonFriends,useCatalogConfig:()=>d.useCatalogConfig,useCatalogDesktopVideo:()=>d.useCatalogDesktopVideo,useCatalogGroupsContext:()=>d.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>d.useCatalogOwner,useCatalogOwnerStories:()=>s.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>s.useCatalogOwnerSubscribe,useCatalogSearch:()=>d.useCatalogSearch,useCatalogStoreArray:()=>s.useCatalogStoreArray,useCatalogStoreMap:()=>s.useCatalogStoreMap,useCatalogVideo:()=>d.useCatalogVideo,useCollectClick:()=>d.useCollectClick,useLogClick:()=>s.useLogClick,useOptimizedCatalogOwner:()=>d.useOptimizedCatalogOwner,useRefLogView:()=>h.useRefLogView,useScrollToBlockById:()=>s.useScrollToBlockById,videoCommunityLayoutResolver:()=>m.videoCommunityLayoutResolver,videoLayoutResolver:()=>g.videoLayoutResolver,videoListShowcaseLayoutResolver:()=>v.videoListShowcaseLayoutResolver,withCatalogBlock:()=>u.withCatalogBlock,withCatalogStore:()=>u.withCatalogStore,withCatalogStoreOwner:()=>u.withCatalogStoreOwner});var a=o(679005),i=o(767514),r=(o(493026),o(231736)),n=o(962271),s=o(924398),l=o(308631),c=o(49932),d=o(351137),u=o(165553),p=o(440013),_=o(300084),g=(o(594639),o(709758)),m=o(272068),v=o(184249),S=o(418755),C=o(643400),h=(o(159884),o(603710),o(657293)),f=o(506011);(0,a.enableMapSet)()},440013:(e,t,o)=>{o.d(t,{desktopLayoutResolver:()=>n});var a=o(979717),i=o(49932);const r=()=>null,n=({layout:e})=>{switch(e.name){case i.CatalogBlockLayoutName.LARGE_LIST:return"fit"===e.style?a.PinnedVideo:a.List;case i.CatalogBlockLayoutName.LIST:case i.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:case i.CatalogBlockLayoutName.LIST_WITH_RETURN_STATE:return a.List;case i.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return a.ShortVideoList;case i.CatalogBlockLayoutName.PLACEHOLDER:case i.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return a.Placeholder;case i.CatalogBlockLayoutName.HEADER:return a.Header;case i.CatalogBlockLayoutName.SLIDER:case i.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return a.Slider;case i.CatalogBlockLayoutName.SEPARATOR:return a.Separator;default:return r}}},594639:(e,t,o)=>{o(174269),o(828433),o(264383),o(900417),o(897907),o(285768),o(762855),o(260938),o(86941),o(476370),o(681776),o(872196),o(228555),o(105681),o(874794),o(875705)},300084:(e,t,o)=>{o.d(t,{modalLayoutResolver:()=>d});var a=o(582192),i=o(49932),r=o(621921),n=o(861053),s=o(173760),l=o(78129),c=o(430005);const d=({layout:e})=>{switch(e.name){case i.CatalogBlockLayoutName.SEPARATOR:return a.Separator;case i.CatalogBlockLayoutName.HEADER_COMPACT:return r.HeaderCompact;case i.CatalogBlockLayoutName.LIST:return n.List;case i.CatalogBlockLayoutName.SLIDER:return s.Slider;case i.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return l.PlaceholderSmall;case i.CatalogBlockLayoutName.BUTTON:return c.Button;default:return()=>null}}},709758:(e,t,o)=>{o.d(t,{videoLayoutResolver:()=>c});var a=o(174269),i=o(365003),r=o(287911),n=o(57744),s=o(8652),l=o(288413);const c=({layout:e})=>{switch(e.name){case a.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparator;case a.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case a.CatalogBlockLayoutName.LARGE_LIST:case a.CatalogBlockLayoutName.LIST:return r.List;case a.CatalogBlockLayoutName.TEXT:return n.Text;case a.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case a.CatalogBlockLayoutName.PLACEHOLDER_LINE:return s.Placeholder;default:return()=>null}}},272068:(e,t,o)=>{o.d(t,{videoCommunityLayoutResolver:()=>c});var a=o(174269),i=o(592595),r=o(57744),n=o(8652),s=o(697395),l=o(573011);const c=({layout:e})=>{switch(e.name){case a.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparatorCommunity;case a.CatalogBlockLayoutName.HEADER_COMPACT:return s.Header;case a.CatalogBlockLayoutName.LARGE_LIST:case a.CatalogBlockLayoutName.LIST:return i.ListCommunity;case a.CatalogBlockLayoutName.TEXT:return r.Text;case a.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case a.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},184249:(e,t,o)=>{o.d(t,{videoListShowcaseLayoutResolver:()=>c});var a=o(174269),i=o(992543),r=o(57744),n=o(8652),s=o(288413),l=o(534002);const c=({layout:e})=>{switch(e.name){case a.CatalogBlockLayoutName.SEPARATOR:return s.CatalogSeparator;case a.CatalogBlockLayoutName.HEADER_COMPACT:return l.HeaderListVideos;case a.CatalogBlockLayoutName.LARGE_LIST:case a.CatalogBlockLayoutName.LIST:return i.ListVideos;case a.CatalogBlockLayoutName.TEXT:return r.Text;case a.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case a.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},760503:(e,t,o)=>{o.d(t,{createActionsService:()=>i});var a=o(32489);const i=({domain:e})=>{const t=e.createEvent("select/Action"),o=e.createStore(null,{name:"selectedAction"});return(0,a.sample)({clock:t,source:o,fn:(e,t)=>t,target:o}),{selectAction:t,$selectedAction:o}}},448319:(e,t,o)=>{o.d(t,{createAppCatalogService:()=>W});var a=o(32489),i=o(174269),r=o(760503),n=o(454764),s=o(284763),l=o(819464),c=o(680241),d=o(901430),u=o(432276),p=o(9123),_=o(432448),g=o(822053),m=o(555671),v=o(170053),S=o(70343),C=o(698062),h=o(674870),f=o(490999),I=o(165853),y=o(587869),k=o(806533),E=o(263836),T=o(866870),A=o(578452),R=o(494299),x=o(703330),b=o(757230),L=o(232933),O=o(308587),w=o(247642),V=o(128586),P=o(820734),B=o(15573),N=o(345192),M=o(55617),D=o(876761),j=o(351118),G=o(664331),F=o(540462),U=o(105330),H=o(418755),$=o(679005);const z=(0,a.createDomain)("CATALOG/APP"),W=()=>{const e=z.createStore(!1,{name:"isStandaloneSection"}),t=z.createEvent("fire/SetIsStandaloneSection"),o=z.createEvent("fire/ClearApp"),W=z.createEvent("fire/SetExtendedData"),K=z.createEvent("fire/SetCatalog"),Y=z.createEvent("fire/ClearUpdatedCatalog"),q=z.createEvent("fire/RemoveBlock"),Q=z.createEvent("fire/RemoveBlock"),Z=z.createEvent("fire/SetSections"),J=z.createEvent("fire/GetSection"),X=z.createEvent("fire/AbortGetSection"),ee=z.createEvent("fire/ClearSectionResponse"),te=z.createEvent("fire/ClearCatalogGetBlockItemsResponse"),oe=z.createEvent("fire/UpdateNextFrom"),ae=z.createEvent("fire/HideBlock"),ie=z.createEvent("fire/GetBlockItems"),re=z.createStore({sections:[],default_section:""},{name:"catalog"}),ne=z.createStore(null,{name:"updatedCatalog"}),se=z.createStore(null,{name:"section"}),le=z.createStore([],{name:"sections"}),ce=z.createStore([],{name:"loadingBlockIds"}),de=z.createStore("",{name:"lastSectionId"}),ue=z.createStore("",{name:"nextFrom"}),pe=z.createStore(!1,{name:"fetchSectionPending"}),_e=z.createStore(!1,{name:"fetchSectionError"}),ge=z.createStore({}),me=z.createEffect({name:"fetch/GetSection",handler:async({cacheId:e,params:t,controller:o})=>{const a=o?.signal,i=new URL(window.location.href);i.search="";return{id:i.href,data:await(0,M.getSection)(t,{signal:a}),cacheId:e}}}),ve=(0,D.createCatalogHideBlockFx)({domain:z}),Se=(0,D.createCatalogGetBlockItemsFx)({domain:z}),Ce=(0,v.createStoriesService)({domain:z}),he=(0,f.createVideoService)({domain:z,data:W,$catalog:re}),fe=(0,S.createPageService)({domain:z}),Ie=(0,I.createSuggestionsService)({domain:z,data:W}),ye=(0,r.createActionsService)({domain:z}),ke=(0,n.createGroupsService)({domain:z,data:W,fetchStories:Ce.FetchStoriesEffectFx}),Ee=(0,s.createGroupCategoryItemsService)({domain:z,data:W}),Te=(0,l.createGroupCollectionItemsService)({domain:z,data:W}),Ae=(0,c.createLinksService)({domain:z,data:W}),Re=(0,d.createProfilesService)({domain:z,data:W,fetchStories:Ce.FetchStoriesEffectFx}),xe=(0,h.createPlaylistService)({domain:z,$catalog:re,$videoItems:he.$videoItems,data:W,removeVideoFromPlaylists:he.RemoveVideoFromPlaylistsEffectFx,removeVideoFromMyVideos:he.RemoveVideoFromMyVideosEffectFx}),be=(0,k.createOnboardingService)({domain:z}),Le=(0,x.createLayoutService)({domain:z,data:W,...he,SaveOnboardingEffectFx:be.SaveOnboardingEffectFx,fireCompleteOnboarding:be.fireCompleteOnboarding,$playlistItems:xe.$playlistItems}),Oe=(0,u.createCatalogUsersService)({domain:z,data:W,$profiles:Re.$profiles}),we=(0,p.createClipsService)({domain:z,data:W}),Ve=(0,_.createAppsService)({domain:z,data:W}),Pe=(0,g.createMarketItemsService)({domain:z,data:W}),Be=(0,m.createSearchRecentService)({domain:z}),Ne=(0,C.createPlaceholdersService)({domain:z,data:W}),Me=(0,y.createSearchSpellcheckersService)({domain:z,data:W}),De=(0,E.createNewsfeedItemsService)({domain:z,data:W}),je=(0,T.createPostsService)({domain:z,data:W}),Ge=(0,A.createStickersService)({domain:z,data:W}),Fe=(0,R.createMusicPlaylistsService)({domain:z,data:W}),Ue=(0,b.createAudioService)({domain:z,data:W}),He=(0,L.createEntitiesSearchEntityItemsService)({domain:z,data:W}),$e=(0,O.createNavigationTabsService)({domain:z,data:W}),ze=(0,w.createVKLiveChannelsService)({domain:z,data:W}),We=(0,V.createVKLiveCategoryService)({domain:z,data:W}),Ke=(0,P.createClassifiedsCategoryTreeService)({domain:z,data:W}),Ye=(0,B.createRadioStationsService)({domain:z,data:W}),qe=(0,N.createTextsService)({domain:z,data:W});return(0,a.sample)({clock:t,target:e}),z.onCreateStore((e=>{e?.reset(o)})),(0,a.sample)({clock:K,source:re,filter:(e,t)=>!(0,j.isEqual)(e,t),fn:(e,t)=>t,target:re}),(0,a.sample)({clock:re,target:oe}),(0,a.sample)({clock:oe,source:{lastSectionId:de,catalog:re},fn:({lastSectionId:e,catalog:t})=>t?.default_section||e,target:de}),(0,a.sample)({clock:oe,source:re,filter:le.map((e=>!e.length)),fn:e=>{const t=e.sections.find((t=>t.id===e.default_section));return t?.next_from||""},target:ue}),se.reset(ee),(0,a.sample)({clock:J,source:fe.$cacheId,fn:(e,t)=>({cacheId:e,params:t,controller:new AbortController}),target:me}),(0,a.sample)({clock:[X,J],source:me,filter:me.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,a.sample)({clock:me.pending,target:pe}),(0,a.sample)({clock:me.doneData,target:se}),(0,a.sample)({clock:Z,target:le}),(0,a.sample)({clock:le,target:oe}),(0,a.sample)({clock:oe,source:le,filter:le.map((e=>!!e?.length)),fn:e=>{const t=e[e.length-1];return t?.next_from?t?.next_from:""},target:ue}),(0,a.sample)({clock:me.failData,filter:e=>e&&!(0,G.isRequestAbortError)(e.error),fn:()=>!0,target:_e}),(0,a.sample)({clock:me.doneData,fn:e=>!e?.data?.section,target:_e}),(0,a.sample)({clock:K,fn:()=>!1,target:_e}),(0,a.sample)({clock:[he.RemoveVideoFromPlaylistsEffectFx.done,he.RemoveVideoFromMyVideosEffectFx.done],source:{sections:le,playlistItems:xe.$playlistItems},filter:({sections:e,playlistItems:t},{result:o})=>(0,H.checkRequestResultForPlaylist)(o,e,t)||Boolean(o),fn:({sections:e},{params:t})=>(0,$.produce)(e,(e=>{const o=e.find((e=>(0,H.testMySection)(e?.url)||(0,H.testUploadedSection)(e.url)||(0,H.testPlaylistSection)(e?.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.video_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,a.sample)({clock:he.RemoveVideoFromHistoryEffectFx.done,source:le,filter:(e,{params:t})=>Boolean(e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id)),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.find((e=>(0,H.testMySection)(e?.url)||(0,H.testHistorySection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.video_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,a.sample)({clock:he.MarkVideoNotInterestedEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const{params:o,sectionId:a}=t,r=e.find((e=>!(0,H.testMySection)(e?.url)&&e?.id!==a));r&&(0,H.mutateSectionBlocks)({section:r,ownerId:o.owner_id,itemId:o.video_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,a.sample)({clock:q,source:re,fn:(e,t)=>{const o=e.sections.findIndex((t=>t.id===e.default_section));if(-1!==o){const a=[...e.sections],i={...a[o]};return i.blocks=i?.blocks?.filter((e=>!t.includes(e.id))),a[o]=i,{...e,sections:[...a]}}return e},target:ne}),(0,a.sample)({clock:Ie.fireRemoveSearchRecentQuery,source:re,fn:(e,{params:t,block_id:o})=>(0,$.produce)(e,(a=>{const r=a.sections.find((t=>t.id===e.default_section)),n=r?.blocks,s=n?.findIndex((e=>e.id===o));if(!n||void 0===s||-1===s)return;const l=n[s];if(l.search_suggestions_ids=l.search_suggestions_ids?.filter((e=>e!==t.item_id)),l.search_suggestions_ids?.length)return;const c=n[s-1],d=n[s+1];let u=s,p=1;c?.layout.name===i.CatalogBlockLayoutName.HEADER_COMPACT&&(u=s-1,++p),d?.layout.name===i.CatalogBlockLayoutName.SEPARATOR&&++p,n.splice(u,p)})),target:ne}),(0,a.sample)({clock:[he.RemoveVideoFromPlaylistsEffectFx.done,he.RemoveVideoFromMyVideosEffectFx.done],source:{catalog:re,playlistItems:xe.$playlistItems},filter:({catalog:e,playlistItems:t},{result:o})=>(0,H.checkRequestResultForPlaylist)(o,e.sections,t)||Boolean(o),fn:({catalog:e},{params:t})=>(0,$.produce)(e,(e=>{const o=!(0,F.partConfigEnabled)("video_deleting_from_playlist_bug")||!((0,U.isMvk)()&&t.owner_id!==window.vk.id),a=e.sections?.find((e=>(0,H.testMySection)(e?.url)||(0,H.testUploadedSection)(e.url)||(0,H.testPlaylistSection)(e?.url)&&o));if(a&&((0,H.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:i.ListenMutateEventsType.RemoveVideo}),a.blocks))for(const e of a.blocks)e.layout.name===i.CatalogBlockLayoutName.HEADER&&e.badge?.text&&(e.badge.text=(+e.badge.text-1).toString())})),target:ne}),(0,a.sample)({clock:he.AddVideoToMyVideosEffectFx.done,source:re,filter:(e,{params:t})=>!!e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.sections?.find((e=>(0,H.testMySection)(e?.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.video_id,event:i.ListenMutateEventsType.AddVideo})})),target:ne}),(0,a.sample)({clock:he.RemoveVideoFromHistoryEffectFx.done,source:re,filter:(e,{params:t})=>!!e&&(0,j.isNumber)(t.owner_id)&&(0,j.isNumber)(t.video_id),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.sections?.find((e=>(0,H.testMySection)(e?.url)||(0,H.testHistorySection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.video_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,a.sample)({clock:he.MarkVideoNotInterestedEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const{params:o,sectionId:a}=t,r=e.sections?.find((e=>!(0,H.testMySection)(e?.url)&&e?.id!==a));r&&(0,H.mutateSectionBlocks)({section:r,ownerId:o.owner_id,itemId:o.video_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,a.sample)({clock:he.DislikeVideoEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.find((e=>(0,H.testLikedSection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.item_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,a.sample)({clock:he.DislikeVideoEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.sections?.find((e=>(0,H.testLikedSection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.item_id,event:i.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,a.sample)({clock:he.RemoveVideoFromFaveEffectFx.done,source:le,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.find((e=>(0,H.testBookmarksSection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.id,event:i.ListenMutateEventsType.RemoveVideo})})),target:le}),(0,a.sample)({clock:he.RemoveVideoFromFaveEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,$.produce)(e,(e=>{const o=e.sections?.find((e=>(0,H.testBookmarksSection)(e.url)));o&&(0,H.mutateSectionBlocks)({section:o,ownerId:t.owner_id,itemId:t.id,event:i.ListenMutateEventsType.RemoveVideo})})),target:ne}),(0,a.sample)({clock:Y,fn:()=>null,target:ne}),(0,a.sample)({clock:ae,fn:e=>({query:{block_id:e}}),target:ve}),(0,a.sample)({clock:ae,source:re,fn:(e,t)=>{const o=e.sections.findIndex((({id:t})=>t===e.default_section));if(-1!==o){const a=[...e.sections],r=a[o].blocks,n=r?.findIndex((({id:e})=>e===t));if(!r||!n||-1===n)return e;const s=r[n-1],l=r[n+1];let c=n,d=1;return s?.layout?.name===i.CatalogBlockLayoutName.HEADER&&(--c,++d),r[n-2]?.layout?.name===i.CatalogBlockLayoutName.SEPARATOR&&(--c,++d),l?.layout?.name===i.CatalogBlockLayoutName.SEPARATOR&&++d,r.splice(c,d),{...e,sections:[...a]}}return e},target:ne}),(0,a.sample)({clock:Q,target:ce}),(0,a.sample)({clock:ie,fn:({block_id:e,start_from:t})=>({query:{block_id:e,start_from:t}}),target:Se}),(0,a.sample)({clock:Se.doneData,target:ge}),ge.reset(te),{storiesService:Ce,videoService:he,pageService:fe,suggestionsService:Ie,actionsService:ye,groupsService:ke,groupCategoryItemsService:Ee,groupCollectionItemsService:Te,linksService:Ae,profilesService:Re,playlistService:xe,onboardingService:be,layoutService:Le,catalogUsersService:Oe,clipsService:we,appsService:Ve,marketItemsService:Pe,searchRecentService:Be,placeholdersService:Ne,searchSpellcheckersService:Me,newsfeedItemsService:De,postsService:je,stickersService:Ge,musicPlaylistsService:Fe,audioService:Ue,searchEntityItemsService:He,navigationTabsService:$e,VKLiveChannelsService:ze,VKLiveCategoryService:We,classifiedsCategoryTreeService:Ke,radioStationsService:Ye,textsService:qe,catalogService:{fireSetCatalog:K,fireClearCatalog:o,fireClearUpdatedCatalog:Y,fireRemoveBlocks:q,fireLoadingBlockIds:Q,fireSetSections:Z,fireGetSection:J,fireAbortGetSection:X,fireClearSectionResponse:ee,fireClearCatalogGetBlockItemsResponse:te,fireUpdateNextFrom:oe,fireHideBlock:ae,fireGetBlockItems:ie,$catalog:re,$updatedCatalog:ne,$sectionResponse:se,$sections:le,$loadingBlockIds:ce,$lastSectionId:de,$nextFrom:ue,$isSectionPending:pe,$fetchSectionError:_e,$catalogGetBlockItemsResponse:ge,GetSectionEffectFx:me,CatalogGetBlockItemsFx:Se},fireSetExtendedData:W,fireSetIsStandaloneSection:t,fireClearCatalog:o,domain:z,$isStandaloneSection:e}}},432448:(e,t,o)=>{o.d(t,{createAppsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"apps"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.mini_apps?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.mini_apps.forEach((t=>e.set(t.id,t)))})),target:o}),(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.games?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.games.forEach((t=>e.set(t.id,t)))})),target:o}),{$apps:o}}},757230:(e,t,o)=>{o.d(t,{createAudioService:()=>u});var a=o(55617),i=o(32489),r=o(679005),n=o(538522),s=o(187966),l=o(70148),c=o(391751),d=o(540462);const u=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"audioItems"}),u=e.createStore({},{name:"audioModifiedItems"}),p=e.createEvent(),_=e.createEvent(),g=e.createEffect((e=>(0,a.addAudio)(e))),m=e.createEffect((e=>(0,a.deleteAudio)(e))),v=e.createEffect((e=>(0,a.restoreAudio)(e)));return(0,i.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.audios?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.audios.forEach((t=>e.set((0,n.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:o}),(0,i.sample)({clock:t,fn:()=>({}),target:u}),(0,i.sample)({clock:p,source:u,filter:(e,t)=>{const{audio_id:o}=t;return!e[o]?.isDeleted},fn:(e,t)=>t,target:g}),(0,i.sample)({clock:p,source:u,filter:(e,t)=>{const{audio_id:o}=t;return!!e[o]?.isDeleted},fn:(e,t)=>t,target:v}),(0,i.sample)({clock:g.done,source:u,filter:(e,{result:t})=>!!t?.items?.length,fn:(e,{params:t,result:o})=>(0,r.produce)(e,(e=>{const{audio_id:a,user_id:i}=t,r=o?.items||[],{new_audio_id:n}=r.length?r[0]:{};if(n){const t={newAudioId:n,ownerId:i,isAdded:!0};e[a]=t}})),target:u}),(0,i.sample)({clock:v.done,source:u,filter:(e,{result:t})=>!!t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const{audio_id:o}=t;e[o]?.isDeleted&&delete e[o]})),target:u}),(0,i.sample)({clock:_,source:u,fn:(e,t)=>{const{audio_id:o}=t,{newAudioId:a,ownerId:i,isAdded:r}=e?.[o]||{};return r&&a?{...t,audio_id:a,owner_id:i,prev_audio_id:o}:t},target:m}),(0,i.sample)({clock:m.done,source:u,filter:(e,{params:t,result:o})=>{let a,i;return(0,d.partConfigEnabled)("web_my_music_cache_liked")?o.audio_ids.some((e=>!!(0,s.isAnyRawId)(e)&&(a=new l.OwnedIdentity({id:t.audio_id,ownerId:t.owner_id}),i=l.OwnedIdentity.fromRawId(e),(0,c.compareIdentities)(a,i)))):1===o},fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const{audio_id:o,prev_audio_id:a,owner_id:i}=t;a&&e[a].isAdded?delete e[a]:e[o]={ownerId:i,isDeleted:!0}})),target:u}),{$audioItems:o,$audioModifiedItems:u,addAudioToMyList:p,deleteAudioFromMyList:_}}},432276:(e,t,o)=>{o.d(t,{createCatalogUsersService:()=>l});var a=o(891281),i=o(55617),r=o(32489),n=o(679005),s=o(472658);const l=({domain:e,data:t,$profiles:o})=>{const l=e.createEvent("fire/AddFriend"),c=e.createEvent("fire/DeleteFriend"),d=e.createEvent("fire/CancelRequest"),u=e.createStore(new Map,{name:"catalogUsers"}),p=e.createStore([],{name:"deletableFriendsIds"}),_=e.createStore([],{name:"returnableFriendsIds"}),g=e.createStore([],{name:"pendingFriendsIds"}),m=e.createEffect({name:"fetch/AddFriend",handler:e=>(0,i.addFriend)(e)}),v=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,i.deleteFriend)(e)}),S=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,i.deleteFriend)(e)});return(0,r.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.catalog_users?.length),fn:(e,t)=>(0,n.produce)(e,(e=>{t.catalog_users.forEach((t=>e.set(t.item_id,t)))})),target:u}),(0,r.sample)({clock:[l,c,d],source:g,fn:(e,{user_id:t})=>(0,n.produce)(e,(e=>{e.includes(t)||e.push(t)})),target:g}),(0,r.sample)({clock:[m.done,v.done,S.done],source:g,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:g}),(0,r.sample)({clock:l,target:m}),(0,r.sample)({clock:m.done,source:o,fn:(e,{params:t,result:o})=>(0,n.produce)(e,(e=>{const i=e.get(t.user_id);if(i)switch(o){case s.FRIENDS_STATUS_REQUEST.ADDED:i.friend_status=a.FriendsFriendStatusStatusEnumNames.IS_FRIEND;break;case s.FRIENDS_STATUS_REQUEST.REQUEST:case s.FRIENDS_STATUS_REQUEST.REPEAT:i.friend_status=a.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST}})),target:o}),(0,r.sample)({clock:c,target:v}),(0,r.sample)({clock:d,target:S}),(0,r.sample)({clock:[v.done,S.done],source:o,filter:(e,{result:t})=>Boolean(t.success),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const o=e.get(t.user_id);o&&(o.friend_status=a.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND)})),target:o}),(0,r.sample)({clock:m.done,source:p,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:p}),(0,r.sample)({clock:v.done,source:p,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:p}),(0,r.sample)({clock:v.done,source:_,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:_}),(0,r.sample)({clock:m.done,source:_,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:_}),{fireAddFriend:l,fireDeleteFriend:c,fireCancelRequest:d,$catalogUsers:u,$deletableFriendsIds:p,$returnableFriendsIds:_,$pendingFriendsIds:g,AddFriendEffectFx:m,DeleteFriendEffectFx:v,CancelRequestEffectFx:S}}},820734:(e,t,o)=>{o.d(t,{createClassifiedsCategoryTreeService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"classifiedsCategoryTree"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.classifieds_category_tree?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.classifieds_category_tree.forEach((t=>e.set(t.id,t)))})),target:o}),{$classifiedsCategoryTree:o}}},9123:(e,t,o)=>{o.d(t,{createClipsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"clips"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.videos?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.videos.forEach((t=>{"short_video"===t.type&&e.set(`${t.owner_id}_${t.id}`,t)}))})),target:o}),{$clips:o}}},284763:(e,t,o)=>{o.d(t,{createGroupCategoryItemsService:()=>i});var a=o(32489);const i=({domain:e,data:t})=>{const o=e.createStore([],{name:"groupCategoryItems"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>!!t?.group_category_items?.length,fn:(e,t)=>{if(t?.group_category_items?.length){const o=t.group_category_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:o}),{$groupCategoryItems:o}}},819464:(e,t,o)=>{o.d(t,{createGroupCollectionItemsService:()=>i});var a=o(32489);const i=({domain:e,data:t})=>{const o=e.createStore([],{name:"groupCollectionItems"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>!!t?.group_collection_items?.length,fn:(e,t)=>{if(t?.group_collection_items?.length){const o=t.group_collection_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:o}),{$groupCollectionItems:o}}},454764:(e,t,o)=>{o.d(t,{createGroupsService:()=>d});var a=o(780345),i=o(755812),r=o(278116),n=o(929052),s=o(32489),l=o(679005),c=o(869071);const d=({domain:e,data:t,fetchStories:o})=>{const d=e.createEvent("fire/JoinGroup"),u=e.createEvent("fire/LeaveGroup"),p=e.createEvent("fire/AddGroupToFave"),_=e.createEvent("fire/GroupSubscribe"),g=e.createEvent("fire/GroupUnsubscribe"),m=e.createEvent("fire/RemoveGroupFromFave"),v=e.createEvent("fire/CheckStories"),S=e.createEvent("fire/AllowLeaveGroup"),C=e.createStore(new Map,{name:"groups"}),h=e.createStore([],{name:"groupsToLeave"}),f=e.createStore([],{name:"groupsLeft"}),I=e.createStore([],{name:"groupPendingIds"}),y=(0,i.createGroupsJoinFx)({domain:e}),k=(0,i.createGroupsLeaveFx)({domain:e}),E=(0,r.createFaveAddGroupFx)({domain:e}),T=(0,r.createFaveRemoveGroupFx)({domain:e}),A=(0,n.createWallSubscribeFx)({domain:e}),R=(0,n.createWallUnsubscribeFx)({domain:e});return(0,c.connectTrackTmrGroupsJoin)(y),(0,s.sample)({clock:t,source:C,filter:(e,t)=>Boolean(t.groups?.length),fn:(e,t)=>(0,l.produce)(e,(e=>{t.groups.forEach((t=>e.set(t.id,t)))})),target:C}),(0,s.sample)({clock:v,fn:e=>({owner_id:e}),target:o}),(0,s.sample)({clock:o.done,source:C,fn:(e,{params:t,result:o})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.owner_id));a&&(a.has_unseen_stories=Boolean(o.items.find((e=>e.name===a.name))?.has_unseen))})),target:C}),(0,s.sample)({clock:[d,u,p,m],source:I,filter:(e,t)=>!!t?.group_id&&!e.includes(t.group_id),fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:I}),(0,s.sample)({clock:[y.done,k.done,E.done,T.done,y.fail,k.fail,E.fail,T.fail],source:I,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t.query.group_id)):e,target:I}),(0,s.sample)({clock:[_,g],source:I,filter:(e,t)=>!!t?.owner_id&&!e.includes(t.owner_id),fn:(e,t)=>t?.owner_id?[...e,Math.abs(t.owner_id)]:e,target:I}),(0,s.sample)({clock:[A.done,R.done],source:I,filter:(e,{params:t})=>!!t?.query?.owner_id,fn:(e,{params:t})=>t?.query?.owner_id?e.filter((e=>e!==Math.abs(t.query.owner_id))):e,target:I}),(0,s.sample)({clock:d,fn:e=>({query:{...e}}),target:y}),(0,s.sample)({clock:y.done,source:C,filter:(e,{params:t,result:o})=>Boolean(t.query.group_id&&1===o),fn:(e,{params:t,result:o})=>(0,l.produce)(e,(e=>{const i=t.query.group_id?e.get(Math.abs(t.query.group_id)):null;i&&(i.is_member=o,i.member_status=a.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST)})),target:C}),(0,s.sample)({clock:y.done,fn:({params:e})=>e.query,target:S}),(0,s.sample)({clock:u,fn:e=>({query:{...e}}),target:k}),(0,s.sample)({clock:k.done,source:C,filter:(e,{params:t,result:o})=>Boolean(t.query.group_id&&1===o),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.query.group_id));o&&(o.is_member=0,o.member_status=a.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER)})),target:C}),(0,s.sample)({clock:p,fn:e=>({query:{...e}}),target:E}),(0,s.sample)({clock:E.done,source:C,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.query.group_id));o&&(o.is_favorite=1)})),target:C}),(0,s.sample)({clock:m,fn:e=>({query:{...e}}),target:T}),(0,s.sample)({clock:T.done,source:C,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.query.group_id));o&&(o.is_favorite=0)})),target:C}),(0,s.sample)({clock:_,fn:e=>({query:{...e}}),target:A}),(0,s.sample)({clock:A.done,source:C,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.query.owner_id));o&&(o.is_subscribed=1)})),target:C}),(0,s.sample)({clock:g,fn:e=>({query:{...e}}),target:R}),(0,s.sample)({clock:R.done,source:C,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.query.owner_id));o&&(o.is_subscribed=0)})),target:C}),(0,s.sample)({clock:S,source:h,filter:(e,t)=>!!t?.group_id,fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:h}),(0,s.sample)({clock:k.done,source:h,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t?.query?.group_id)):e,target:h}),(0,s.sample)({clock:k.done,source:f,fn:(e,{params:t})=>t?.query?.group_id?[...e,t.query.group_id]:e,target:f}),{fireJoinGroup:d,fireLeaveGroup:u,fireAddGroupToFave:p,fireGroupSubscribe:_,fireGroupUnsubscribe:g,fireRemoveGroupFromFave:m,$groups:C,$groupsToLeave:h,$groupsLeft:f,$groupPendingIds:I,JoinGroupEffectFx:y,LeaveGroupEffectFx:k}}},308631:(e,t,o)=>{o.d(t,{appCatalogService:()=>r,createAppCatalogService:()=>a.createAppCatalogService,isNewsfeedItemWallpost:()=>i.isNewsfeedItemWallpost});var a=o(448319),i=o(182427);const r=(0,a.createAppCatalogService)()},703330:(e,t,o)=>{o.d(t,{createLayoutService:()=>u});var a=o(474848),i=o(32489),r=o(174269),n=o(418755),s=o(866467),l=o(856289),c=o(25114),d=o(101272);const u=({domain:e,LikeVideoEffectFx:t,DislikeVideoEffectFx:o,AddVideoToFaveEffectFx:u,RemoveVideoFromFaveEffectFx:p,AddVideoToPlaylistsEffectFx:_,RemoveVideoFromPlaylistsEffectFx:g,AddVideoToMyVideosEffectFx:m,RemoveVideoFromMyVideosEffectFx:v,RemoveVideoFromHistoryEffectFx:S,fireCompleteOnboarding:C,$playlistItems:h,SaveOnboardingEffectFx:f})=>{const I=e.createEvent(),y=e.createEvent(),k=e.createEvent(),E=e.createEvent("fire/ScrollToBlock"),T=(0,i.restore)(I,null),A=(0,i.restore)(k,null),R=e.createStore(null,{name:"scrollToBlock"}),x=e.createEffect("showSnackbarEffectFx");return x.use((({onClose:e,...t})=>{I((0,a.jsx)(r.CatalogSnackbar,{onClose:()=>{I(null),e&&e()},...t}))})),(0,i.sample)({clock:y,target:x}),(0,i.sample)({clock:[t.finally,o.finally,u.finally,p.finally,_.finally,g.finally,m.finally,v.finally,S.finally],filter:e=>"fail"===e.status,fn:()=>({isError:!0,event:r.SNACKBAR_EVENTS.ERROR}),target:y}),(0,i.sample)({clock:u.done,fn:()=>(0,c.isAppPromoSlowYtSnackbarEnabled)()?((0,d.saveStatlogEvents)({name:r.APP_PROMO_SLOW_YT_SNACKBAR_EVENT_TYPE,value:r.AppPromoSlowYtSnackbarEventTypes.MVK_APP_PROMO_SLOW_YT_SNACKBAR_SHOW,keys:[window.cur.screen]}),(0,c.getAppPromoSlowYtSnackbarProps)()):{event:r.SNACKBAR_EVENTS.ADD_TO_FAVE},target:y}),(0,i.sample)({clock:p.done,fn:()=>({event:r.SNACKBAR_EVENTS.REMOVE_FROM_FAVE}),target:y}),(0,i.sample)({clock:_.done,source:h,filter:(e,{result:t})=>Boolean(t),fn:(e,{result:t})=>{if(Array.isArray(t)&&1===t.length){const o=e.find((({id:e})=>e===t[0]));if(o)return{content:`${(0,s.getLang)("mobile_video_added_to_playlist")} «${o.title}»`,action:(0,s.getLang)("mobile_video_showcase_form_upload_goto_video"),actionLink:(0,l.getPlaylistURL)(o.owner_id,o.id),layout:"horizontal"}}return{event:r.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS}},target:y}),(0,i.sample)({clock:g.done,filter:({result:e})=>Boolean(e),fn:({result:e})=>Array.isArray(e)&&1===e.length?{event:r.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST}:{event:r.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS},target:y}),(0,i.sample)({clock:m.done,fn:()=>({event:r.SNACKBAR_EVENTS.ADD_TO_MY}),target:y}),(0,i.sample)({clock:v.done,fn:({params:e})=>({event:(0,n.isCurrentUserId)(e.target_id)?r.SNACKBAR_EVENTS.REMOVE_FROM_MY:r.SNACKBAR_EVENTS.REMOVE_FROM_GROUP}),target:y}),(0,i.sample)({clock:S.done,fn:()=>({event:r.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY}),target:y}),(0,i.sample)({clock:f.done,filter:({result:e})=>1===e.code,fn:()=>({event:r.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG,action:(0,s.getLang)("mobile_video_onboarding_snackbar_refresh_action"),onActionClick:()=>{C()},layout:"horizontal"}),target:y}),(0,i.sample)({clock:E,target:R}),{fireScrollToBlockById:E,setSnackbar:I,showSnackbar:y,setPopout:k,$snackbar:T,$popout:A,$scrollToBlockById:R,ShowSnackbarEffectFx:x}}},680241:(e,t,o)=>{o.d(t,{createLinksService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"links"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.links?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.links.forEach((t=>{t.id&&e.set(t.id,t)}))})),target:o}),{$links:o}}},822053:(e,t,o)=>{o.d(t,{createMarketItemsService:()=>c});var a=o(55617),i=o(32489),r=o(679005),n=o(612392),s=o(538522),l=o(468073);const c=({domain:e,data:t})=>{const o=e.createEvent("fire/MakeFavorite"),c=e.createEvent("fire/RemoveFavorite"),d=e.createEvent("fire/AddToCart"),u=e.createStore(new Map,{name:"marketItems"}),p=e.createStore([],{name:"marketItemPendingIds"}),_=e.createEffect({name:"fetch/MakeFavorite",handler:({params:e,successCallback:t})=>(0,a.faveAddProduct)(e).then((e=>(t?.(),e)))}),g=e.createEffect({name:"fetch/RemoveFavorite",handler:async e=>(0,a.faveRemoveProduct)(e)}),m=(0,n.createMarketAddToCartFx)({domain:e});return(0,i.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.market_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.market_items.forEach((t=>e.set((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:u}),(0,i.sample)({clock:o,target:_}),(0,i.sample)({clock:c,target:g}),(0,i.sample)({clock:_.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const o=e.get((0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id}));o&&(o.is_favorite=!0)})),target:u}),(0,i.sample)({clock:g.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const o=e.get((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}));o&&(o.is_favorite=!1)})),target:u}),(0,i.sample)({clock:o,source:p,filter:(e,{params:t})=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,{params:t})=>(0,r.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:p}),(0,i.sample)({clock:c,source:p,filter:(e,t)=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,t)=>(0,r.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:p}),(0,i.sample)({clock:_.done,source:p,fn:(e,{params:t})=>{const o=(0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id});return e.filter((e=>e!==o))},target:p}),(0,i.sample)({clock:g.done,source:p,fn:(e,{params:t})=>{const o=(0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id});return e.filter((e=>e!==o))},target:p}),(0,i.sample)({clock:d,fn:e=>({query:e}),target:m}),(0,i.sample)({clock:m.done,source:u,fn:(e,{params:{query:t}})=>(0,r.produce)(e,(e=>{const o=e.get((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}));o&&(o.cart_quantity=(o.cart_quantity??0)+t.quantity)})),target:u}),(0,i.sample)({clock:d,source:p,fn:(e,t)=>(0,r.produce)(e,(e=>{e.push((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}))})),target:p}),(0,i.sample)({clock:m.done,source:p,fn:(e,{params:{query:t}})=>{const o=(0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)});return e.filter((e=>e!==o))},target:p}),{fireMakeFavorite:o,fireRemoveFavorite:c,fireAddToCart:d,$marketItems:u,$marketItemPendingIds:p}}},494299:(e,t,o)=>{o.d(t,{createMusicPlaylistsService:()=>n});var a=o(32489),i=o(679005),r=o(538522);const n=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"musicPlaylists"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.playlists?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.playlists.forEach((t=>e.set((0,r.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:o}),{$musicPlaylists:o}}},308587:(e,t,o)=>{o.d(t,{createNavigationTabsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"navigationTabs"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.navigation_tabs?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.navigation_tabs.forEach((t=>e.set(t.id,t)))})),target:o}),{$navigationTabs:o}}},263836:(e,t,o)=>{o.d(t,{createNewsfeedItemsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"newsFeedItems"}),r=e.createStore(new Map,{name:"reactions"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.newsfeed_items.forEach((({id:t,item:o})=>o&&e.set(t,o)))})),target:o}),(0,a.sample)({clock:t,source:r,filter:(e,t)=>Boolean(t.reaction_sets?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.reaction_sets.forEach((({id:t,items:o})=>e.set(t,o)))})),target:r}),{$newsFeedItems:o,$reactions:r}}},806533:(e,t,o)=>{o.d(t,{createOnboardingService:()=>n});var a=o(32489),i=o(55617),r=o(573856);const n=({domain:e})=>{const t=e.createEvent("fire/InitOnboardingOptions"),o=e.createEvent("fire/ToggleOnboardingOption"),n=e.createEvent("fire/SaveOnboarding"),s=e.createEvent("fire/CompleteOnboarding"),l=e.createStore([],{name:"onboardingOptions"}),c=e.createStore({status:r.OnboardingResponseStatus.IDLE},{name:"onboardingStatus"}),d=e.createEffect({name:"fetch/SaveOnboarding",handler:e=>(0,i.saveSelection)(e)});return(0,a.sample)({clock:n,target:d}),(0,a.sample)({clock:t,fn:e=>[...e],target:l}),(0,a.sample)({clock:o,source:l,fn:(e,t)=>e.map((e=>(t.replacement_id===e.replacement_id&&(e.selected=e.selected?0:1),e))),target:l}),(0,a.sample)({clock:d.done,filter:e=>1===e.result.code,fn:({result:e})=>({status:r.OnboardingResponseStatus.SUCCESS,message:e.message}),target:c}),(0,a.sample)({clock:d.fail,fn:()=>({status:r.OnboardingResponseStatus.ERROR}),target:c}),(0,a.sample)({clock:d.pending,filter:e=>e,fn:()=>({status:r.OnboardingResponseStatus.PENDING}),target:c}),(0,a.sample)({clock:s,fn:()=>({status:r.OnboardingResponseStatus.COMPLETE}),target:c}),{fireInitOptions:t,fireToggleOption:o,fireSaveOptions:n,fireCompleteOnboarding:s,$onboardingOptions:l,$onboardingStatus:c,SaveOnboardingEffectFx:d}}},573856:(e,t,o)=>{o.d(t,{OnboardingResponseStatus:()=>a});const a={IDLE:"IDLE",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:"PENDING",COMPLETE:"COMPLETE"}},70343:(e,t,o)=>{o.d(t,{createPageService:()=>r});var a=o(49932),i=o(32489);const r=({domain:e})=>{const t=e.createEvent("fire/SetPageId"),o=e.createEvent("fire/SetCacheId"),r=e.createEvent("fire/SetCatalogType"),n=e.createStore("",{name:"pageId"}),s=e.createStore("",{name:"cacheId"}),l=e.createStore(a.CatalogType.SEARCH,{name:"catalogType"});return(0,i.sample)({clock:t,target:n}),(0,i.sample)({clock:o,target:s}),(0,i.sample)({clock:r,target:l}),{fireSetPageId:t,fireSetCacheId:o,fireSetCatalogType:r,$pageId:n,$cacheId:s,$catalogType:l}}},698062:(e,t,o)=>{o.d(t,{createPlaceholdersService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"placeholders"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.placeholders?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.placeholders.forEach((t=>t.id&&e.set(t.id,t)))})),target:o}),{$placeholders:o}}},674870:(e,t,o)=>{o.d(t,{createPlaylistService:()=>p});var a=o(6598),i=o(810780),r=o(32489),n=o(55617),s=o(538522),l=o(679005),c=o(351118),d=o(507380),u=o(418755);const p=({domain:e,data:t,removeVideoFromPlaylists:o,removeVideoFromMyVideos:p,$videoItems:_,$catalog:g})=>{const m=e.createStore([],{name:"playlistItems"}),v=e.createStore(new Set,{name:"playlistsSubscribeLoading"}),S=e.createEvent("subscribeOnPlaylist"),C=e.createEvent("unsubscribeFromPlaylist"),h=e.createEffect("fetch/SubscribeToPlaylist"),f=e.createEffect("fetch/UnsubscribeFromPlaylist"),I=e.createEvent(),y=e.createStore(null,{name:"playlists"}),k=e.createStore(null,{name:"playlistsByVideo"}),E=e.createStore(!1,{name:"needSort"}),T=e.createStore(null,{name:"randomVideo"}),A=e.createStore(!1,{name:"randomVideoError"}),R=e.createStore(null,{name:"shuffleKey"}),x=e.createEvent("fire/GetPlaylistsByVideo"),b=e.createEvent("fire/GetPlaylists"),L=e.createEvent("fire/NeedSortPlaylist"),O=e.createEvent("fire/GetRandomVideo"),w=e.createEvent("fire/ClearRandomVideoData"),V=e.createEffect("fetch/GetPlaylistsByVideo"),P=(0,a.pending)({effects:[V]}),B=e.createEffect("fetch/GetPlaylists"),N=(0,a.pending)({effects:[B]}),M=e.createEffect("action/ControllerAbort"),D=e.createEffect("fetch/GetRandomVideo"),j=(0,a.pending)({effects:[D]});return k.reset(x),T.reset(w),R.reset(w),A.reset(w),h.use((e=>(0,n.subscribeToVideoPlaylist)(e))),f.use((e=>(0,n.unsubscribeFromVideoPlaylist)(e))),(0,r.sample)({clock:t,source:m,filter:(e,t)=>!!t?.albums?.length,fn:(e,t)=>{const o=new Map(e.map(((e,t)=>[(0,s.joinRawId)({itemId:e.id,ownerId:e.owner_id}),t])));return(0,l.produce)(e,(e=>{t.albums?.length&&t.albums.forEach((t=>{const a=(0,s.joinRawId)({itemId:t.id,ownerId:t.owner_id}),i=o.get(a);(0,c.isNumber)(i)&&i>=0?e[i]=t:e.push(t)}))}))},target:m}),B.use((({params:e,controller:t})=>{const{signal:o}=t||{};return(0,n.getPlaylistsExtended)({extended:1,...e},{signal:o})})),V.use((({params:e,controller:t})=>{const{signal:o}=t||{};return(0,n.getPlaylistsByVideoExtended)({extended:1,...e},{signal:o})})),M.use((({controller:e})=>{e?.abort()})),(0,r.sample)({clock:L,target:E}),(0,r.sample)({clock:b,fn:e=>({params:e,controller:new AbortController}),target:B}),(0,r.sample)({clock:b,source:B,filter:B.pending.map((e=>e)),target:M}),(0,r.sample)({clock:x,fn:e=>({params:e,controller:new AbortController}),target:V}),(0,r.sample)({clock:x,source:V,filter:V.pending.map((e=>e)),target:M}),(0,r.sample)({clock:V.doneData,filter:e=>Boolean(e?.items),fn:e=>({items:e.items.filter((({is_system:e})=>!e)),count:e.count}),target:k}),(0,r.sample)({clock:B.done,source:y,filter:(e,{result:t})=>Boolean(t?.items),fn:(e,{result:t,params:o})=>e&&o.params.offset?(0,l.produce)(e,(e=>{e.items.push(...t.items),e.count=t.count})):t,target:y}),(0,r.sample)({clock:[B.doneData,V.doneData],filter:e=>Boolean(e?.items),fn:e=>({albums:e.items}),target:t}),(0,r.sample)({clock:S,target:h}),(0,r.sample)({clock:C,target:f}),(0,r.sample)({clock:I,source:m,fn:(e,{album_id:t,owner_id:o,is_subscribed:a})=>(0,l.produce)(e,(e=>{const i=e.find((e=>e.id===t&&e.owner_id===o));i&&(i.is_subscribed=a)})),target:m}),(0,r.sample)({clock:h.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!0}),target:I}),(0,r.sample)({clock:f.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!1}),target:I}),(0,r.sample)({clock:[S,C],source:v,fn:(e,{album_id:t,owner_id:o})=>(0,l.produce)(e,(e=>{void 0!==t&&e.add((0,s.joinRawId)({ownerId:o,itemId:t}))})),target:v}),(0,r.sample)({clock:[h.done,f.done],source:v,fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const{album_id:o,owner_id:a}=t;void 0!==o&&e.delete((0,s.joinRawId)({ownerId:a,itemId:o}))})),target:v}),(0,r.sample)({clock:[o.done,p.done],source:{playlistItems:m,videoItems:_,catalog:g},filter:({playlistItems:e,catalog:t},{result:o})=>(0,u.checkRequestResultForPlaylist)(o,t.sections,e),fn:({playlistItems:e,videoItems:t,catalog:o},{params:a})=>(0,l.produce)(e,(e=>{const i=o.sections.find((e=>(0,u.testPlaylistSection)(e?.url))),r=i?.blocks?.[0]?.albums_ids?.[0];if(i&&r){const o=e?.find((e=>(0,s.joinFullId)(e.owner_id,e.id)===r));if(o){if(t?.length){const e=t.find((e=>e.id===a.video_id&&e?.image?.[0]?.url&&e.image[0].url===o.image?.[0]?.url));if(e){const a=i.blocks?.find((e=>e.videos_ids?.length)),r=(0,s.joinFullId)(Number(e.owner_id),Number(e.id)),n=a?.videos_ids?.find((e=>e!==r)),l=t.find((e=>(0,s.joinFullId)(Number(e.owner_id),Number(e.id))===n));o.image=l?.image,o.cover_video_restriction=l?.restriction,l?.restriction?.blur&&(o.image_blur=l?.restriction?.blur)}}o.count--}}})),target:m}),(0,r.sample)({clock:O,fn:e=>({params:e,controller:new AbortController}),target:D}),D.use((({params:e,controller:t})=>{const{signal:o}=t||{};return(0,n.getVideosFromAlbum)({count:1,...e},{signal:o})})),(0,r.sample)({clock:D.failData,filter:e=>!!e?.error&&!(0,d.isRequestAbortError)(e.error),fn:()=>!0,target:A}),(0,r.sample)({clock:[O,w],source:D,filter:D.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,r.sample)({clock:D.done,filter:({params:{params:e},result:t})=>Boolean(t?.items[0]?.video&&e.shuffle_key),fn:({params:{params:e},result:t})=>({randomVideo:t.items[0].video||null,shuffleKey:e.shuffle_key||null}),target:(0,i.spread)({targets:{randomVideo:T,shuffleKey:R}})}),{$playlistItems:m,$playlistsSubscribeLoading:v,$playlists:y,$playlistsByVideo:k,$pendingPlaylistsByVideo:P,$pendingPlaylists:N,subscribeOnPlaylist:S,unsubscribeFromPlaylist:C,updatePlaylistSubscriptionState:I,fireGetPlaylistsByVideo:x,fireGetPlaylists:b,fireNeedSortPlaylist:L,$needSortPlaylist:E,UnsubscribeFromPlaylistEffectFx:f,SubscribeToPlaylistEffectFx:h,fireGetRandomVideo:O,$shuffleKey:R,$randomVideo:T,$randomVideoPending:j,$randomVideoError:A,fireClearRandomVideoData:w}}},866870:(e,t,o)=>{o.d(t,{createPostsService:()=>l});var a=o(308631),i=o(61296),r=o(55617),n=o(32489),s=o(679005);o(182427);const l=({domain:e,data:t})=>{const o=e.createEvent("fire/FaveAddPost"),l=e.createEvent("fire/FaveRemovePost"),c=e.createEvent("fire/LikePost"),d=e.createEvent("fire/DislikePost"),u=e.createEvent("fire/AgreeBlurRestriction"),p=e.createEvent("fire/ExpandPostText"),_=e.createEvent("fire/ExpandPostAttachments"),g=e.createEvent("fire/ViewPost"),m=e.createStore(new Map,{name:"posts"}),v=e.createStore([],{name:"pendingPostIds"}),S=e.createStore(new Set,{name:"viewedPostIds"}),C=e.createStore(new Map,{name:"postExpandedStates"}),h=e.createEffect({name:"fetch/FaveAddPost",handler:({params:e,successCallback:t})=>(0,r.faveAddPost)(e).then((e=>(t?.(),e)))}),f=e.createEffect({name:"fetch/FaveRemovePost",handler:r.faveRemovePost}),I=e.createEffect({name:"fetch/LikePost",handler:e=>(0,r.likeAdd)({...e,type:"post"})}),y=e.createEffect({name:"fetch/DislikePost",handler:e=>(0,r.likeDelete)({...e,type:"post"})}),k=e.createEffect({name:"fetch/AgreeBlurRestriction",handler:r.agreeBlurRestriction});return(0,n.sample)({clock:t,source:m,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,s.produce)(e,(e=>{t.newsfeed_items.forEach((({item:t})=>{(0,a.isNewsfeedItemWallpost)(t)&&e.set((0,i.getPostRawId)(t),t)}))})),target:m}),(0,n.sample)({clock:o,target:h}),(0,n.sample)({clock:l,target:f}),(0,n.sample)({clock:u,target:k}),(0,n.sample)({clock:h.done,source:m,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const o=e.get((0,i.getPostRawId)(t.params));o&&(o.is_favorite=!0)})),target:m}),(0,n.sample)({clock:f.done,source:m,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const o=e.get((0,i.getPostRawId)(t));o&&(o.is_favorite=!1)})),target:m}),(0,n.sample)({clock:c,target:I}),(0,n.sample)({clock:d,target:y}),(0,n.sample)({clock:[I.done,y.done],source:m,fn:(e,{params:t,result:o})=>(0,s.produce)(e,(e=>{const a=e.get((0,i.getPostRawId)(t));a&&(a.reactions=o.reactions)})),target:m}),(0,n.sample)({clock:o,source:v,fn:(e,{params:t})=>(0,s.produce)(e,(e=>{e.push((0,i.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[l,c,d],source:v,fn:(e,t)=>(0,s.produce)(e,(e=>{e.push((0,i.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[f.done,I.done,y.done],source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,i.getPostRawId)(t))),target:v}),(0,n.sample)({clock:h.done,source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,i.getPostRawId)(t.params))),target:v}),(0,n.sample)({clock:p,source:C,fn:(e,t)=>(0,s.produce)(e,(e=>{const o=e.get(t);o?o.textExpanded=!0:e.set(t,{textExpanded:!0})})),target:C}),(0,n.sample)({clock:_,source:C,fn:(e,t)=>(0,s.produce)(e,(e=>{const o=e.get(t);o?o.attachmentsExpanded=!0:e.set(t,{attachmentsExpanded:!0})})),target:C}),(0,n.sample)({clock:g,source:S,fn:(e,t)=>(0,s.produce)(e,(e=>{e.add(t)})),target:S}),{fireFaveAddPost:o,fireFaveRemovePost:l,fireLikePost:c,fireDislikePost:d,fireAgreeBlurRestriction:u,fireExpandPostText:p,fireExpandPostAttachments:_,$posts:m,$pendingPostIds:v,$postExpandedStates:C}}},182427:(e,t,o)=>{o.d(t,{isNewsfeedItemWallpost:()=>i});const a="post",i=e=>e?.type===a},901430:(e,t,o)=>{o.d(t,{createProfilesService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t,fetchStories:o})=>{const r=e.createEvent("fire/CheckStories"),n=e.createStore(new Map,{name:"profiles"});return(0,a.sample)({clock:t,source:n,filter:(e,t)=>Boolean(t.profiles?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.profiles.forEach((t=>e.set(t.id,t)))})),target:n}),(0,a.sample)({clock:r,fn:e=>({owner_id:Math.abs(e)}),target:o}),(0,a.sample)({clock:o.done,source:n,fn:(e,{params:t,result:o})=>(0,i.produce)(e,(e=>{const a=e.get(t.owner_id);a&&(a.has_unseen_stories=Boolean(o.items.find((e=>e.name===a.first_name))?.has_unseen))})),target:n}),{fireCheckUserStories:r,$profiles:n}}},15573:(e,t,o)=>{o.d(t,{createRadioStationsService:()=>n});var a=o(32489),i=o(679005),r=o(55617);const n=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"radioStations"}),n=e.createStore([],{name:"loadingRadioStations"}),s=e.createEvent(),l=e.createEvent(),c=e.createEffect(r.followRadioStation),d=e.createEffect(r.unfollowRadioStation);return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.radio_stations?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.radio_stations.forEach((t=>e.set(t.id,t)))})),target:o}),(0,a.sample)({clock:s,target:c}),(0,a.sample)({clock:l,target:d}),(0,a.sample)({clock:c.done,source:o,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const o=e.get(t.station_id);o&&(o.is_followed=!0)})),target:o}),(0,a.sample)({clock:d.done,source:o,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const o=e.get(t.station_id);o&&(o.is_followed=!1)})),target:o}),(0,a.sample)({clock:[s,l],source:n,fn:(e,t)=>[...e,t.station_id],target:n}),(0,a.sample)({clock:[c.done,d.done],source:n,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>e.filter((e=>e!==t.station_id)),target:n}),{$radioStations:o,$loadingRadioStations:n,fireFollowRadioStation:s,fireUnfollowRadioStation:l}}},555671:(e,t,o)=>{o.d(t,{createSearchRecentService:()=>r});var a=o(32489),i=o(55617);const r=({domain:e})=>{const t=e.createEvent("fire/AddRecent"),o=e.createEvent("fire/ClearRecent"),r=e.createEvent("fire/GroupsRemoveRecent"),n=e.createEffect({name:"fetch/AddRecent",handler:async e=>(0,i.addRecent)(e)}),s=e.createEffect({name:"fetch/ClearRecent",handler:async e=>(0,i.clearSearchRecent)(e)}),l=e.createEffect({name:"fetch/RemoveRecent",handler:e=>(0,i.groupsRemoveRecent)(e)});return(0,a.sample)({clock:t,target:n}),(0,a.sample)({clock:o,target:s}),(0,a.sample)({clock:r,target:l}),{fireAddRecent:t,fireClearSearchRecent:o,fireGroupsRemoveRecent:r}}},232933:(e,t,o)=>{o.d(t,{createEntitiesSearchEntityItemsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"searchEntityItems"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.search_entity_items?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.search_entity_items.forEach((t=>{"vk_person"===t.type&&e.set(t.id,t)}))})),target:o}),{$searchEntityItems:o}}},587869:(e,t,o)=>{o.d(t,{createSearchSpellcheckersService:()=>i});var a=o(32489);const i=({domain:e,data:t})=>{const o=e.createStore([],{name:"searchSpellcheckers"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>!!t?.search_spellcheckers?.length,fn:(e,t)=>{if(t?.search_spellcheckers?.length){const o=t.search_spellcheckers.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...o]}return e},target:o}),{$searchSpellcheckers:o}}},578452:(e,t,o)=>{o.d(t,{createStickersService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"stickersPackPreviews"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.stickers_pack_previews?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.stickers_pack_previews.forEach((t=>e.set(t.id,t)))})),target:o}),{$stickersPackPreviews:o}}},170053:(e,t,o)=>{o.d(t,{createStoriesService:()=>r});var a=o(32489),i=o(55617);const r=({domain:e})=>{const t=e.createStore((()=>({})),{name:"storiesOpener"}),o=e.createEvent("fire/SetStoriesOpener"),r=e.createEvent("fire/OpenStories"),n=e.createEffect({name:"action/OpenStories",handler:({ownerId:e,openStories:t=()=>({}),storiesCallback:o=()=>!1})=>{t(`${e}/owner_feed${e}`,{source:"avatar",ownerId:e},{onClose:o})}}),s=e.createEffect({name:"action/FetchStories",handler:async e=>await(0,i.getStories)(e)});return(0,a.sample)({clock:r,source:t,fn:(e,t)=>({...t,openStories:e}),target:n}),(0,a.sample)({clock:o,target:t}),{fireSetStoriesOpener:o,fireOpenStories:r,FetchStoriesEffectFx:s}}},165853:(e,t,o)=>{o.d(t,{createSuggestionsService:()=>n});var a=o(55617),i=o(32489),r=o(679005);const n=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"suggestions"}),n=e.createEvent("fire/RemoveSearchRecentQuery"),s=e.createEffect({name:"fetch/RemoveSearchRecentQuery",handler:e=>{(0,a.removeSearchRecentQuery)(e)}});return(0,i.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.suggestions?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.suggestions.forEach((t=>t.id&&e.set(t.id,t)))})),target:o}),(0,i.sample)({clock:n,fn:({params:e})=>e,target:s}),{$suggestions:o,fireRemoveSearchRecentQuery:n}}},345192:(e,t,o)=>{o.d(t,{createTextsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"texts"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.texts?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.texts.forEach((t=>t.id&&e.set(t.id,t)))})),target:o}),{$texts:o}}},490999:(e,t,o)=>{o.d(t,{createVideoService:()=>l});var a=o(55617),i=o(538522),r=o(32489),n=o(679005),s=o(351118);const l=({domain:e,data:t,$catalog:o})=>{const l=e.createStore([],{name:"videoItems"}),c=e.createStore({},{name:"notOwnerRecommend"}),d=e.createStore({},{name:"notInterestedVideos"}),u=e.createStore(null,{name:"addToPlaylistModal"}),p=e.createEvent("openVideoActions"),_=e.createEvent("openAddToPlaylistModal"),g=e.createEvent("likeVideo"),m=e.createEvent("dislikeVideo"),v=e.createEvent("addVideoToFave"),S=e.createEvent("removeVideoFromFave"),C=e.createEvent("addVideoToWatchLater"),h=e.createEvent("removeVideoFromWatchLater"),f=e.createEvent("addVideoToPlaylist"),I=e.createEvent("removeVideoFromPlaylist"),y=e.createEvent("addVideoToMyVideos"),k=e.createEvent("removeVideoFromMyVideos"),E=e.createEvent("removeVideoFromHistory"),T=e.createEvent("markVideoNotInterested"),A=e.createEvent("markVideoNotOwnerRecommend"),R=e.createEvent("addVideoToMyVideosWithoutEffect"),x=e.createEvent("removeVideoFromMyVideosWithoutEffect"),b=e.createEffect({name:"fetch/likeVideo",handler:e=>(0,a.likeAdd)(e)}),L=e.createEffect({name:"fetch/dislikeVideo",handler:e=>(0,a.likeDelete)(e)}),O=e.createEffect({name:"fetch/addVideoToFave",handler:e=>(0,a.faveAddVideo)(e)}),w=e.createEffect({name:"fetch/removeVideoFromFave",handler:e=>(0,a.faveRemoveVideo)(e)}),V=e.createEffect({name:"fetch/addVideoToWatchLater",handler:e=>(0,a.faveAddVideo)(e)}),P=e.createEffect({name:"fetch/removeVideoFromWatchLater",handler:e=>(0,a.faveRemoveVideo)(e)}),B=e.createEffect({name:"fetch/addVideoToPlaylist",handler:e=>(0,a.addToPlaylist)(e)}),N=e.createEffect({name:"fetch/removeVideoFromPlaylist",handler:e=>(0,a.removeFromPlaylist)(e)}),M=e.createEffect({name:"fetch/addVideoToMyVideos",handler:e=>(0,a.addVideo)(e)}),D=e.createEffect({name:"fetch/removeVideoFromMyVideos",handler:e=>(0,a.deleteVideo)(e)}),j=e.createEffect({name:"fetch/removeVideoFromHistory",handler:e=>(0,a.removeViewingHistoryRecords)({video_ids:(0,i.joinFullId)(e.owner_id,e.video_id)})}),G=e.createEffect({name:"fetch/markVideoNotInterested",handler:({params:e})=>(0,a.markNotInterested)(e)}),F=e.createEffect({name:"fetch/notRecommendOwner",handler:({params:e})=>(0,a.markNotOwnerRecommend)(e)});return(0,r.sample)({clock:g,target:b}),(0,r.sample)({clock:m,target:L}),(0,r.sample)({clock:v,target:O}),(0,r.sample)({clock:S,target:w}),(0,r.sample)({clock:f,target:B}),(0,r.sample)({clock:C,target:V}),(0,r.sample)({clock:h,target:P}),(0,r.sample)({clock:I,target:N}),(0,r.sample)({clock:y,target:M}),(0,r.sample)({clock:k,target:D}),(0,r.sample)({clock:E,target:j}),(0,r.sample)({clock:T,source:o,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:G}),(0,r.sample)({clock:A,source:o,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:F}),(0,r.sample)({clock:_,target:u}),(0,r.sample)({clock:t,source:l,filter:(e,t)=>Boolean(t?.videos?.length),fn:(e,t)=>{const o=e=>void 0!==e.id&&void 0!==e.owner_id?(0,i.joinRawId)({itemId:e.id,ownerId:e.owner_id}):e.id,a=new Map(e.map(((e,t)=>[o(e),t]))),r=new Map(t.videos?.map(((e,t)=>[o(e),t])));return(0,n.produce)(e,(e=>{t.videos?.length&&t.videos.forEach(((t,i)=>{const n=o(t),l=a.get(n);(0,s.isNumber)(l)&&l>=0?e[l]=t:r.get(n)===i&&e.push(t)}))}))},target:l}),(0,r.sample)({clock:b.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:o})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));a&&(a.likes={count:o.likes,user_likes:1})})),target:l}),(0,r.sample)({clock:L.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:o})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));a&&(a.likes={count:o.likes,user_likes:0})})),target:l}),(0,r.sample)({clock:M.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));o&&(o.added=1)})),target:l}),(0,r.sample)({clock:D.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));o&&(o.added=0)})),target:l}),(0,r.sample)({clock:R,source:l,fn:(e,{video_id:t,owner_id:o})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t&&e.owner_id===o));a&&(a.added=1)})),target:l}),(0,r.sample)({clock:x,source:l,fn:(e,{video_id:t,owner_id:o})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t&&e.owner_id===o));a&&(a.added=0)})),target:l}),(0,r.sample)({clock:[O.done,V.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));o&&(o.is_favorite=!0)})),target:l}),(0,r.sample)({clock:[w.done,P.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));o&&(o.is_favorite=!1)})),target:l}),(0,r.sample)({clock:F.done,source:c,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:o,sectionId:a}=t;o.is_unset?delete e[o.owner_id]:e[o.owner_id]=a})),target:c}),(0,r.sample)({clock:G.done,source:d,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:o,sectionId:a}=t,r=(0,i.joinRawId)({itemId:o.video_id,ownerId:o.owner_id});o.is_unset?delete e[r]:e[r]=a})),target:d}),{$videoItems:l,$notInterestedVideos:d,$notOwnerRecommend:c,$addToPlaylistModal:u,openVideoActions:p,openAddToPlaylistModal:_,likeVideo:g,dislikeVideo:m,addVideoToFave:v,removeVideoFromFave:S,addVideoToWatchLater:C,removeVideoFromWatchLater:h,addVideoToPlaylist:f,removeVideoFromPlaylist:I,addVideoToMyVideos:y,removeVideoFromMyVideos:k,removeVideoFromHistory:E,markVideoNotInterested:T,markVideoNotOwnerRecommend:A,addVideoToMyVideosWithoutEffect:R,removeVideoFromMyVideosWithoutEffect:x,LikeVideoEffectFx:b,DislikeVideoEffectFx:L,AddVideoToFaveEffectFx:O,RemoveVideoFromFaveEffectFx:w,AddVideoToPlaylistsEffectFx:B,RemoveVideoFromPlaylistsEffectFx:N,AddVideoToMyVideosEffectFx:M,RemoveVideoFromMyVideosEffectFx:D,RemoveVideoFromHistoryEffectFx:j,MarkVideoNotInterestedEffectFx:G}}},128586:(e,t,o)=>{o.d(t,{createVKLiveCategoryService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(null,{name:"vkliveCategory"}),r=e.createStore(new Map,{name:"vkliveCategories"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.vklive_categories?.length),fn:(e,t)=>{const o=t.vklive_categories?.[0];return o?{...o}:e},target:o}),(0,a.sample)({clock:t,source:r,filter:(e,t)=>Boolean(t.vklive_categories?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.vklive_categories?.forEach((t=>e.set(t.id,t)))})),target:r}),{$vkliveCategory:o,$vkliveCategories:r}}},247642:(e,t,o)=>{o.d(t,{createVKLiveChannelsService:()=>r});var a=o(32489),i=o(679005);const r=({domain:e,data:t})=>{const o=e.createStore(new Map,{name:"vkliveChannels"});return(0,a.sample)({clock:t,source:o,filter:(e,t)=>Boolean(t.vklive_channels?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.vklive_channels?.forEach((t=>e.set(t.stream_id,t)))})),target:o}),{$vkliveChannels:o}}},231736:(e,t,o)=>{o.d(t,{ListenMutateEventsType:()=>a});var a=function(e){return e.AddVideo="add_video",e.RemoveVideo="remove_video",e}({})},861743:(e,t,o)=>{o.d(t,{convertSectionToCatalog:()=>a,convertUpdatedCatalogToUpdatedSection:()=>r});const a=e=>e?{sections:e?[e]:[],default_section:e.id||"",pinned_section:""}:null,i=e=>e?e.sections[0]:null,r=({updatedCatalog:e,...t})=>({...t,updatedSection:i(e)})},183112:(e,t,o)=>{o.d(t,{extractItemsIds:()=>r});var a=o(49932);const i=e=>e?.map((e=>({id:e}))),r=e=>(e=>{switch(e.data_type){case a.CatalogBlockDataType.GROUPS:return i(e.group_ids);case a.CatalogBlockDataType.GROUPS_INVITES:return i(e.group_invites);case a.CatalogBlockDataType.GROUPS_ALL:case a.CatalogBlockDataType.GROUPS_ITEMS:case a.CatalogBlockDataType.GROUPS_EVENTS:return e.group_items;case a.CatalogBlockDataType.CATALOG_USERS:return i(e.catalog_users_ids);case a.CatalogBlockDataType.MINI_APPS:return e.mini_app_ids?.map((e=>({id:Number(e)})));case a.CatalogBlockDataType.LINKS:return i(e.links_ids);case a.CatalogBlockDataType.VIDEOS:return i(e.videos_ids);case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CHANNELS_ITEMS:return i(e.vklive_channels_ids);case a.CatalogBlockDataType.VIDEO_SHOWCASE_VKLIVE_CATEGORIES_ITEMS:return i(e.vklive_categories_ids);case a.CatalogBlockDataType.ALBUMS:return e.albums_ids?.map((t=>({id:t,badge:e.item_badges?.some((({item_id:e})=>e===t))})));case a.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return i(e.search_suggestions_ids);case a.CatalogBlockDataType.SEARCH_AUTHORS:return e.search_author_items;case a.CatalogBlockDataType.SEARCH_SUGGESTIONS:return i(e.suggestions_ids);case a.CatalogBlockDataType.NEWSFEED_ITEMS:return i(e.newsfeed_item_ids);case a.CatalogBlockDataType.MUSIC_AUDIOS:return i(e.audios_ids);case a.CatalogBlockDataType.MUSIC_PLAYLISTS:return i(e.playlists_ids);case a.CatalogBlockDataType.GAMES:return e.games_items;case a.CatalogBlockDataType.MARKET_ITEMS:return i(e.market_item_ids);case a.CatalogBlockDataType.GROUPS_COLLECTION:return e?.group_collection_items_ids?.map((t=>({id:t,group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,isSingleItem:1===e.group_collection_items_ids?.length})))||[];case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:t,click_action:o})=>({id:t||"",group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,action:o})))||[];case a.CatalogBlockDataType.STICKERS_PACKS:return i(e.stickers_pack_ids);case a.CatalogBlockDataType.MINI_APPS_CONTENT:return t=e.miniapps_content_items,t?.map((e=>({...e,id:e.id??""})));case a.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return i(e.search_entity_ids);case a.CatalogBlockDataType.NAVIGATION_TABS:return i(e.navigation_tab_ids);case a.CatalogBlockDataType.PLACEHOLDER:return i(e.placeholder_ids);case a.CatalogBlockDataType.RADIO_STATIONS:return i(e.radio_stations_ids);default:return}var t})(e)??[]},43353:(e,t,o)=>{o.d(t,{getDataTestId:()=>i});const a="catalog",i=(...e)=>[a,...e].join("_")},418755:(e,t,o)=>{o.d(t,{checkRequestResultForPlaylist:()=>i.checkRequestResultForPlaylist,extractExtendedData:()=>i.extractExtendedData,extractItemsIds:()=>a.extractItemsIds,getClipDataTestId:()=>i.getClipDataTestId,getCurrentSubsectionFromCatalogById:()=>i.getCurrentSubsectionFromCatalogById,getDataTestId:()=>n.getDataTestId,getEventItemTypeByDataType:()=>i.getEventItemTypeByDataType,getGroupItemsDataTestId:()=>i.getGroupItemsDataTestId,getMaxItemsByBlock:()=>i.getMaxItemsByBlock,isCurrentUserId:()=>i.isCurrentUserId,mutateSectionBlocks:()=>i.mutateSectionBlocks,splitCatalogBlocksByIsland:()=>i.splitCatalogBlocksByIsland,testBookmarksSection:()=>i.testBookmarksSection,testDiscoverSection:()=>i.testDiscoverSection,testHistorySection:()=>i.testHistorySection,testLikedSection:()=>i.testLikedSection,testMySection:()=>i.testMySection,testPlaylistSection:()=>i.testPlaylistSection,testUploadedSection:()=>i.testUploadedSection,toColumnWithRows:()=>r.toColumnWithRows,unionBlocksByLayout:()=>i.unionBlocksByLayout});var a=o(183112),i=o(484474),r=o(672851),n=o(43353)},672851:(e,t,o)=>{o.d(t,{toColumnWithRows:()=>n});var a=o(474848),i=o(296540);const r=()=>({resultLength:0,components:[]});function n(e,t){const o=Array(t).fill(null).map(r);return e.forEach((e=>{const t=o.reduce(((e,t)=>t.resultLength<e.resultLength?t:e));e.length&&(t.resultLength+=e.length),t.components.push(e)})),[o.map(((e,t)=>({key:t,component:e.components.map((({component:e,key:t})=>(0,a.jsx)(i.Fragment,{children:e},t)))})))]}},484474:(e,t,o)=>{o.d(t,{checkRequestResultForPlaylist:()=>k,extractExtendedData:()=>u,getClipDataTestId:()=>E,getCurrentSubsectionFromCatalogById:()=>y,getEventItemTypeByDataType:()=>p,getGroupItemsDataTestId:()=>T,getMaxItemsByBlock:()=>d,isCurrentUserId:()=>g,mutateSectionBlocks:()=>_,splitCatalogBlocksByIsland:()=>A,testBookmarksSection:()=>h,testDiscoverSection:()=>C,testHistorySection:()=>S,testLikedSection:()=>f,testMySection:()=>m,testPlaylistSection:()=>v,testUploadedSection:()=>I,unionBlocksByLayout:()=>c});var a=o(49932),i=o(317216),r=o(231736),n=o(679005),s=o(538522);const l=(e,t,o)=>{const a=e[o]??[],i=t[o]??[];return Array.isArray(a)&&Array.isArray(i)?{...t,id:e.id,[o]:[...a,...i]}:null},c=e=>e.reduce(((e,t)=>(0,n.produce)(e,(o=>{e.some((e=>e.next_from===t.next_from))||o.push(t)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{t.blocks?.length&&e.push(...t.blocks)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{if(0===e.length)return void e.push(t);const o=((e,t)=>{if(e.layout.name!==t.layout.name||e.data_type!==t.data_type)return null;switch(e.data_type){case a.CatalogBlockDataType.MARKET_ITEMS:return l(e,t,"market_item_ids");case a.CatalogBlockDataType.VIDEOS:return l(e,t,"videos_ids");case a.CatalogBlockDataType.ALBUMS:return l(e,t,"albums_ids");default:return null}})(e[e.length-1],t);o?e[e.length-1]=o:e.push(t)}))),[]),d=e=>e.data_type===a.CatalogBlockDataType.NEWSFEED_ITEMS?10:null,u=e=>{const t={};return Object.entries(e).forEach((([e,o])=>{if("catalog"!==e&&"section"!==e&&Array.isArray(o))switch(e){case a.CatalogExtendedDataName.ALBUMS:case a.CatalogExtendedDataName.CATALOG_USERS:case a.CatalogExtendedDataName.GROUPS:case a.CatalogExtendedDataName.LINKS:case a.CatalogExtendedDataName.MARKET_ITEMS:case a.CatalogExtendedDataName.MINI_APPS:case a.CatalogExtendedDataName.PLACEHOLDERS:case a.CatalogExtendedDataName.PROFILES:case a.CatalogExtendedDataName.VIDEOS:case a.CatalogExtendedDataName.SUGGESTIONS:case a.CatalogExtendedDataName.SEARCH_SPELLCHECKERS:case a.CatalogExtendedDataName.NEWSFEED_ITEMS:case a.CatalogExtendedDataName.REACTION_SETS:case a.CatalogExtendedDataName.PLAYLISTS:case a.CatalogExtendedDataName.AUDIOS:case a.CatalogExtendedDataName.GROUP_COLLECTION_ITEMS:case a.CatalogExtendedDataName.GROUP_CATEGORY_ITEMS:case a.CatalogExtendedDataName.GAMES:case a.CatalogExtendedDataName.STICKERS_PACK_PREVIEWS:case a.CatalogExtendedDataName.SEARCH_ENTITY_ITEMS:case a.CatalogExtendedDataName.NAVIGATION_TABS:case a.CatalogExtendedDataName.CLASSIFIEDS_CATEGORY_TREE:case a.CatalogExtendedDataName.RADIO_STATIONS:case a.CatalogExtendedDataName.TEXTS:t[e]=[...o];break;default:return}})),t},p=e=>{switch(e.data_type){case a.CatalogBlockDataType.LINKS:return i.EventItemType.LINK;case a.CatalogBlockDataType.MINI_APPS:return i.EventItemType.MINI_APP;case a.CatalogBlockDataType.MARKET_ITEMS:return i.EventItemType.MARKET_ITEM;case a.CatalogBlockDataType.GROUPS_ITEMS:case a.CatalogBlockDataType.GROUPS:case a.CatalogBlockDataType.GROUPS_COLLECTION:case a.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return i.EventItemType.GROUP;case a.CatalogBlockDataType.CATALOG_USERS:return i.EventItemType.USER;case a.CatalogBlockDataType.VIDEOS:return i.EventItemType.VIDEO;case a.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:case a.CatalogBlockDataType.SEARCH_SUGGESTIONS:case a.CatalogBlockDataType.SEARCH_SPELLCHECKER:return i.EventItemType.SEARCH_SUGGESTION;case a.CatalogBlockDataType.ALBUMS:return i.EventItemType.VIDEO_PLAYLIST;case a.CatalogBlockDataType.NEWSFEED_ITEMS:return i.EventItemType.POST;case a.CatalogBlockDataType.SEARCH_AUTHORS:return i.EventItemType.SEARCH_AUTHOR;case a.CatalogBlockDataType.MUSIC_AUDIOS:return i.EventItemType.MUSIC_AUDIO;case a.CatalogBlockDataType.GAMES:return i.EventItemType.GAME;case a.CatalogBlockDataType.STICKERS_PACKS:return i.EventItemType.STICKERS;default:return}},_=({section:e,ownerId:t,itemId:o,clear:a=!1,event:i})=>{if(!e?.blocks||(Number.isNaN(t)||Number.isNaN(o))&&!a)return;const n=(0,s.joinFullId)(t,o);for(const t of e.blocks)switch(i){case r.ListenMutateEventsType.AddVideo:t.videos_ids&&t.videos_ids.unshift(n);break;case r.ListenMutateEventsType.RemoveVideo:t.videos_ids&&(t.videos_ids=a?[]:t.videos_ids.filter((e=>e!==n)))}},g=e=>e===window.vk.id,m=e=>Boolean(e?.endsWith("my")),v=e=>Boolean(e?.includes("playlist")),S=e=>Boolean(e?.includes("history")),C=e=>Boolean(e?.includes("discover")),h=e=>Boolean(e?.includes("bookmarks")),f=e=>Boolean(e?.includes("liked")),I=e=>Boolean(e?.includes("uploaded")),y=({catalog:e,subsectionId:t})=>{const o={sectionIndex:-1,subsectionIndex:-1};if(!e||!t)return o;let a=-1;const i=e.sections.findIndex((e=>e?.subsections?.some((({id:e},o)=>!(e!==t)&&(a=o,!0)))));if(a<0&&i<0)return o;const r=e?.sections?.[i]?.subsections?.[a];return{currentSubsection:r,sectionIndex:i,subsectionIndex:a}},k=(e,t,o)=>{if(t&&o){const a=t.find((e=>v(e?.url))),i=a?.blocks?.[0]?.albums_ids?.[0];if(a&&i){const t=o?.find((e=>(0,s.joinFullId)(e.owner_id,e.id)===i));if(t?.can_edit)return Array.isArray(e)?e.includes(t.id):Boolean(e)}}return!1},E=({action:e,ref_layout_name:t})=>t===a.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER&&e?.type===a.CatalogActionType.OPEN_URL?"clips-catalog-open-url":void 0,T=({layout:e,type:t,isAction:o=!1})=>{if(!o)return"";const i=e.name===a.CatalogBlockLayoutName.HEADER&&"none"===t,r=e.name===a.CatalogBlockLayoutName.HEADER&&t===a.CatalogActionType.OPEN_SECTION;return i?"market-group-items-header-title":r?"market-group-items-header-open-section":""},A=(e,t=[])=>{const o=e.findIndex((e=>e.layout.name===a.CatalogBlockLayoutName.SEPARATOR&&"island"===e.layout.style));return o>=0?A(e.slice(o+1),[...t,e.slice(0,o)]):[...t,e]}},846347:(e,t,o)=>{o.d(t,{Snackbar:()=>d});var a=o(474848),i=o(892401),r=o(16496),n=o(351118),s=o(220208),l=o(723723),c=o(793793);const d=({content:e="",isError:t,onClose:o=()=>{},...d})=>(0,a.jsx)(s.Snackbar,{layout:"vertical",before:t?(0,a.jsx)(i.Icon24ErrorCircleOutline,{className:(0,l.getColorClass)("color_accent_red")}):(0,a.jsx)(r.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")}),onClose:o,duration:5e3,className:c.default.root,...d,children:(0,n.decodeHTMLEntities)(e)})},620360:(e,t,o)=>{o.d(t,{Snackbar:()=>a.Snackbar});var a=o(846347)},402711:(e,t,o)=>{o.d(t,{VideoListItem:()=>p});var a=o(474848),i=o(141575),r=o(17173),n=o(220208),s=o(412888),l=o(285056),c=o(271036),d=o(723723),u=o(451549);const p=({onMoreClick:e,onClick:t,preview:o,title:p="",secondTitle:_,lastTitle:g,url:m,getRootRef:v,endAdornment:S,isActive:C})=>{const h=Boolean(e&&!(0,u.isVKUserAnonymous)());return(0,a.jsx)(n.Tappable,{"data-testid":"video_list_item",href:m,onClick:e=>{t?.(e)},activated:C,activeClassName:r.default.active,children:(0,a.jsxs)("div",{className:r.default.root,children:[(0,a.jsx)("div",{ref:v,className:r.default.preview,children:o}),(0,a.jsxs)("div",{className:r.default.info,children:[(0,a.jsxs)("div",{className:r.default.main,children:[(0,a.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"2",className:r.default.title,lines:2,children:p}),!!_&&(0,a.jsx)(l.Subhead,{className:r.default.subtitle,dangerouslySetInnerHTML:{__html:_}}),!!g&&(0,a.jsx)(l.Subhead,{className:r.default.subtitle,dangerouslySetInnerHTML:{__html:g}})]}),h&&(0,a.jsx)(c.IconButton,{"data-testid":"video_list_item_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:t=>{t.preventDefault(),t.stopPropagation(),e?.(t)},children:(0,a.jsx)(i.Icon24MoreHorizontal,{})}),S&&(0,a.jsx)("div",{className:r.default.endAdornment,children:S})]})]})})}},246055:(e,t,o)=>{o.r(t),o.d(t,{VideoPreview:()=>P});var a=o(474848),i=o(296540),r=o(351118),n=o(854950),s=o(720028),l=o(347929),c=o(707427),d=o(988398),u=o(355940),p=o(309481),_=o(470704),g=o(353322),m=o(620483),v=o(661823),S=o(934679),C=o(948258),h=o(220208),f=o(578392),I=o(783856),y=o(723723),k=o(15978),E=o(815138),T=o(980353),A=o(218409),R=o(120903),x=o(856289),b=o(188546),L=o(866467),O=o(276293),w=o(540462);const V=["waiting","started"];function P(e){const{video:t,itemUrl:o,mode:P="regular",ratio:B,withTimeline:N=!1,withPlayBtn:M=!1,fullWidth:D=!1,onItemClick:j,onButtonClick:G,isActive:F}=e,{restriction:U,image:H=[]}=t,$=(0,T.useWindowWidth)(),z=(0,A.useVideoThumbRatio)(B),[W,K]=(0,i.useState)(!1),Y=(0,C.useAppearanceDetector)(),q=(0,i.useMemo)((()=>{const e=(0,n.getImageMinWidth)(D?$:250);if((0,w.partConfigEnabled)("disable_common_covers_of_videos")){if(!H?.length)return;const t=(0,b.findBaseImage)(H);if(t)return{...t,url:(0,b.getBaseImageUrl)(t.url,e)}}const t=H.filter((e=>!e.with_padding));return(0,r.getPhotoSize)(t.length?t:H,e)}),[H,D,$]);(0,i.useEffect)((()=>{q?.url&&K(!1)}),[q?.url]);const Q=(0,i.useCallback)((e=>j?.(e,t)),[j,t]),Z=Boolean(t.processing),J="upcoming"===t.live_status,X=(0,s.isBasePrivacyLimited)(t?.privacy_view),ee=(0,x.isLiveVideo)(t),te="by_link"==t?.privacy_view?.category,oe=U&&Boolean(U.blur),ae=!oe&&!U&&Boolean(t.duration)&&!F,ie=Boolean(t.interactive_info),re=ie&&(0,w.partConfigEnabled)("interactive_video_redesign_badge_mvk"),ne=!ae&&ee&&V.some((e=>e===t.live_status)),se=Boolean(U?.can_play&&U?.mute_info_link);let le=0;N&&t.viewed_duration&&t.duration&&!ie&&(le=100*t.viewed_duration/t.duration);const ce=ie?"compact"===P?"":(0,L.getLang)("video_interactive_label"):t.platform;return(0,a.jsxs)(h.Tappable,{"data-testid":"video_preview",Component:o?"a":"div",hasHover:!1,href:o,className:(0,r.classNames)(O.default.video,{[O.default.videoRounded]:!D,[O.default.videoPage]:D,[O.default.videoBlur]:oe}),style:{paddingBottom:`${z}%`},onClick:Q,children:[q&&!W?(0,a.jsx)("img",{onError:()=>K(!0),className:(0,r.classNames)(O.default.videoImage,{[O.default.videoImageBlur]:oe}),loading:"lazy",src:q.url,width:q.width,height:q.height}):!U&&(0,a.jsx)("div",{className:O.default.previewFailed,children:(0,a.jsx)(l.Icon56VideoOutline,{})}),X&&!Z?(0,a.jsx)(f.TextTooltip,{placement:"top",text:(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,L.getLang)("profile_user_content_videos_is_privacy_locked")}}),appearance:"black",children:(0,a.jsx)("div",{className:(0,r.classNames)(O.default.cornerIcon,O.default.cornerIconPrivacy),children:te?(0,a.jsx)(c.Icon16ChainOutline,{}):(0,a.jsx)(d.Icon16Lock,{})})}):null,F&&(0,a.jsx)(I.Overlay,{centered:!0,className:O.default.activeIconOverlay,children:(0,a.jsx)(u.Icon16Poll,{className:(0,y.getColorClass)("color_icon_contrast")})}),M?(0,a.jsx)("div",{className:O.default.playBtn,children:(0,a.jsx)(p.Icon28Play,{})}):null,se?(0,a.jsx)("div",{className:O.default.playBtn,children:(0,a.jsx)(_.Icon24Mute,{})}):null,Z||J?(0,a.jsx)("div",{className:O.default.cornerIcon,children:(0,a.jsx)(g.Icon16ClockOutline,{})}):null,ae||ie?(0,a.jsx)(k.AppearanceProvider,{value:re?"dark":Y,children:(0,a.jsxs)("span",{className:(0,r.classNames)(O.default.videoDuration,{[O.default.videoInteractive]:re}),children:[re&&(0,a.jsx)("div",{className:O.default.interactiveIcon,children:(0,a.jsx)(m.Icon12HandPointUp,{})}),(0,a.jsx)(E.Join,{separator:" · ",children:[ce,ae&&(0,r.formatDuration)(t?.duration||0)]})]})}):null,ne?(0,a.jsx)("div",{className:O.default.videoLive,children:(0,a.jsx)(v.Icon20LiveBadge,{})}):null,J?(0,a.jsx)("div",{className:(0,r.classNames)(O.default.videoLive,O.default.videoUpcomingLive),children:(0,a.jsx)(S.IconLiveText20h,{className:(0,y.getColorClass)("color_icon_contrast")})}):null,!!le&&(0,a.jsx)("div",{className:O.default.progressBar,children:(0,a.jsx)("div",{className:O.default.progress,style:{width:`${le}%`}})}),(0,a.jsx)(R.VideoPreviewOverlay,{video:t,mode:P,fullWidth:D,className:O.default.overlay,onClick:G})]})}},120903:(e,t,o)=>{o.d(t,{VideoPreviewOverlay:()=>v});var a=o(474848),i=o(459382),r=o(351118),n=o(397729),s=o(40853),l=o(842321),c=o(359841),d=o(588069),u=o(220208),p=o(285056),_=o(720836),g=o(454154),m=o(706789);const v=e=>{const{video:t,className:o,mode:v="regular",fullWidth:S=!1,onClick:C}=e,{restriction:h,converting:f,live_status:I}=t,{getLang:y}=(0,i.useLangContext)(),{viewWidth:k=u.ViewWidth.SMALL_MOBILE}=(0,u.useAdaptivityWithJSMediaQueries)(),E=k<u.ViewWidth.MOBILE,T=Boolean(f),A="upcoming"===I,R=h&&Boolean(h.blur),x="regular"===v,b=!S&&x||!x,L=Boolean(h?.icon_name),O=Boolean(h?.can_play&&h?.mute_info_link),w=b?p.Subhead:p.Text;if(h&&!O&&L){const e=b?28:56,t=(0,r.getPhotoSize)(h.card_icon,e*window.devicePixelRatio),{title:i,text:s,button:l}=h,c=Boolean(x&&i),d=Boolean(S&&s),u=Boolean(h.can_play&&C&&S&&l),v=Boolean(t&&!c&&!u&&!d),f=t&&!(c&&d&&u&&E);return(0,a.jsx)("div",{className:(0,r.classNames)(m.default.overlay,{[m.default.blur]:R},o),children:(0,a.jsx)(_.Placeholder,{icon:f&&(0,a.jsx)(n.MaskIcon,{className:(0,r.classNames)(m.default.icon,{[m.default.center]:v}),src:t.url,size:e}),header:c&&(0,a.jsx)(w,{Component:"span",className:m.default.title,children:i}),action:u&&(0,a.jsx)(g.Button,{mode:"secondary",size:"s",appearance:"overlay",onClick:C,children:l?.title}),noPadding:!0,children:d&&(0,a.jsx)(p.Footnote,{Component:"span",className:m.default.text,children:s})})})}if(T){const e=!x,t=b?s.Icon28RecentOutline:l.Icon56RecentOutline;return(0,a.jsx)("div",{className:(0,r.classNames)(m.default.overlay,{[m.default.blur]:R},o),children:(0,a.jsx)(_.Placeholder,{icon:(0,a.jsx)(t,{className:(0,r.classNames)(m.default.icon,{[m.default.center]:e})}),header:x&&(0,a.jsx)(w,{Component:"span",className:m.default.title,children:y("profile_user_content_videos_video_is_processing")}),noPadding:!0})})}if(A){const e=!x,t=b?c.Icon28LiveClockBadgeOutline:d.Icon56LiveClockBadgeOutline;return(0,a.jsx)("div",{className:(0,r.classNames)(m.default.overlay,{[m.default.blur]:R},o),children:(0,a.jsx)(_.Placeholder,{icon:(0,a.jsx)(t,{className:(0,r.classNames)(m.default.icon,{[m.default.center]:e})}),header:x&&(0,a.jsx)(w,{Component:"span",className:m.default.title,children:y("mobile_video_live_start_soon")}),noPadding:!0})})}return null}},472658:(e,t,o)=>{o.d(t,{FRIENDS_STATUS:()=>i,FRIENDS_STATUS_REQUEST:()=>a});const a={REQUEST:1,ADDED:2,REPEAT:4},i={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},538166:(e,t,o)=>{o.d(t,{useIntersectionObserver:()=>n});var a=o(296540),i=o(150585),r=o(878701);const n=({triggerOnce:e=!1,rootMargin:t,threshold:o=1,delay:n=200})=>{const[s,l]=(0,a.useState)(null),c=1-o,[d,u]=(0,a.useState)(!1),{top:p=0,bottom:_=0,left:g=0,right:m=0}=(0,a.useMemo)((()=>(e=>{if(!e)return{};if(!/^[-+]?\d+px [-+]?\d+px [-+]?\d+px [-+]?\d+px$/.test(e))throw new Error(`useIntersectionObserver: unsupported rootMargin format: ${e}`);const[t,o,a,i]=e.split(" ").map(parseFloat);return{top:t,right:o,bottom:a,left:i}})(t)),[t]);return(0,a.useEffect)((()=>{if((0,r.isIntersectionObserverSupported)()&&s){const t=new IntersectionObserver((([o])=>{u(o.isIntersecting),e&&o.isIntersecting&&t.disconnect()}),{threshold:o,rootMargin:`${p}px ${m}px ${_}px ${g}px`});return t.observe(s),()=>t.disconnect()}}),[o,e,p,_,m,g,s]),(0,a.useEffect)((()=>{if(!(0,r.isIntersectionObserverSupported)()&&s&&(!d||!e)){const e=(0,i.throttle)((()=>{const e=s.getBoundingClientRect();u(e.top+c*e.height>=-p&&e.bottom-c*e.height<=window.innerHeight+_&&e.left+c*e.width>=-g&&e.right-c*e.width<=window.innerWidth+m)}),n);return e(),document.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>document.removeEventListener("scroll",e,{capture:!0})}}),[d,e,p,_,m,g,o,n,s]),[l,d]}},218409:(e,t,o)=>{o.d(t,{MAX_RATIO:()=>i,MIN_RATIO:()=>r,useVideoThumbRatio:()=>n});var a=o(296540);const i=56.25,r=112.54,n=(e=0)=>(0,a.useMemo)((()=>e?e<i?i:e>r?r:+e.toFixed(2):i),[e])},980353:(e,t,o)=>{o.d(t,{useWindowWidth:()=>r});var a=o(296540),i=o(351118);const r=()=>{const[e,t]=(0,a.useState)(window.innerWidth);return(0,a.useEffect)((()=>{const e=()=>t(window.innerWidth);return(0,i.debounce)(e,700),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},459382:(e,t,o)=>{o.d(t,{useLangContext:()=>n});var a=o(296540);function i(){console.warn("This is default implementation. Please use platform specific lang context")}const r=(0,a.createContext)({getLang:e=>(i(),e),langSex:(e,t)=>(i(),`${t}`),langNumeric:(e,t)=>(i(),t.join("")),langDate:e=>(i(),String(e)),langReplace:e=>(i(),String(e))}),n=()=>(0,a.useContext)(r)},397729:(e,t,o)=>{o.d(t,{MaskIcon:()=>r});var a=o(474848),i=o(351118);function r({src:e,size:t,className:o,style:r,...n}){return(0,a.jsx)("div",{className:(0,i.classNames)("MaskIcon",`MaskIcon--${t}`,o),style:{...r,maskImage:`url("${e}")`,WebkitMaskImage:`url("${e}")`,width:`${t}px`,height:`${t}px`},...n})}},198485:(e,t,o)=>{o.d(t,{$isMouseActive:()=>a.$isMouseActive,$selectedItemIndex:()=>a.$selectedItemIndex,fireDownSelectionIndex:()=>a.fireDownSelectionIndex,fireResetItemsIndex:()=>a.fireResetItemsIndex,fireResetSelectionIndex:()=>a.fireResetSelectionIndex,fireSetItemIndex:()=>a.fireSetItemIndex,fireSetSelectionIndexByItem:()=>a.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>a.fireUpSelectionIndex});var a=o(787587)},787587:(e,t,o)=>{o.d(t,{$isMouseActive:()=>i,$itemsIndex:()=>n,$selectedIndex:()=>r,$selectedItemIndex:()=>s,fireDownSelectionIndex:()=>d,fireResetItemsIndex:()=>_,fireResetSelectionIndex:()=>p,fireSetItemIndex:()=>u,fireSetSelectionIndexByItem:()=>l,fireUpSelectionIndex:()=>c});const a=(0,o(32489).createDomain)("SEARCH_TOP/MODAL"),i=a.createStore(!0,{name:"isMouseActive"}),r=a.createStore(-1,{name:"selectedIndex"}),n=a.createStore([],{name:"maxItemsIndex"}),s=a.createStore(null,{name:"selectedItemIndex"}),l=a.createEvent("fire/SetSelectionIndexByItem"),c=a.createEvent("fire/UpSelectionIndex"),d=a.createEvent("fire/DownSelectionIndex"),u=a.createEvent("fire/SetItemIndex"),p=(a.createEvent("fire/SetItemIndex"),a.createEvent("fire/ResetSelectionIndex")),_=a.createEvent("fire/ResetItemsIndex")},652547:(e,t,o)=>{o.d(t,{CLIP_MAX_LIMIT:()=>v,CLIP_MIN_LIMIT:()=>m,checkStopActionOnEventOnShortVideo:()=>_,formatNumberTranslation:()=>g,getThumb:()=>u,getUrlToOwnerFeedShortVideo:()=>S,isLockedVideo:()=>p});var a=o(351118),i=o(908671),r=o(501397),n=o(866467),s=o(105330),l=(o(615650),o(188546)),c=o(540462),d=o(468073);function u(e,t,o){const i=o&&(0,a.isRetina)()?2:1,n=((0,a.isNumber)(t)?t:t.width||0)*i,s=((0,a.isNumber)(t)?0:t.height||0)*i;if((0,c.partConfigEnabled)("disable_common_covers_of_videos")){if(!e?.length)return;const t=(0,l.findBaseImage)(e);if(t)return(0,l.getBaseImageUrl)(t.url,n,s);(0,r.logError)(new Error(`Unexpectedly no base picture. ${e[0].url}`))}const d=e.filter((e=>!e.with_padding));return(0,a.getPhotoSize)(d.length?d:e,n,s)?.url}function p(e,t){return Boolean(t?.userIsAdmin)&&Boolean(e.privacyView&&!function(e){return function(e,t){return!e.category||!t.length||t.includes(e.category)}(e,["all","any"])&&0===(e?.excludedCategory?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0)}(e.privacyView))}const _=e=>{const t=e?.target,o=new RegExp(`^https?:\\/\\/${s.VK_HOST_REGEX_UNSAFE.source}\\/clip(-?\\d+_\\d+)$`);return!!t?.href&&o.test(t.href)};function g(e,t){return`${(0,i.formatCount)(e)} ${(0,n.langNumeric)(e>=1e3?1e3:e,t)}`}const m=1,v=60;function S(e,t,o){let a=o;return a||(a=d.Ranges.isGroupId(e)?`club${d.Ranges.convertOwnerIdToGroupId(e)}`:`id${e}`),`/clips/${a}/feed/clip${e}_${t}`}},451549:(e,t,o)=>{o.d(t,{isVKUserAnonymous:()=>i});var a=o(810068);const i=()=>a.Ranges.isZeroOwner(window.vk.id)},720028:(e,t,o)=>{o.d(t,{isBasePrivacyLimited:()=>a});const a=e=>!(e=>!e||((e,t)=>!e?.category||!t?.length||t.includes(e.category))(e,["all","any"])&&0===(e?.excluded_category?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0))(e)},444430:(e,t,o)=>{o.d(t,{encodeUrlSearchParams:()=>a});const a=(e,t="")=>{const o=Object.entries(e).filter((([,e])=>Boolean(e||0===e))).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return o?`${t}${o}`:""}},682040:(e,t,o)=>{o.d(t,{formatViews:()=>i});var a=o(866467);const i=(e=0,t=!1)=>{if(e<=1e3)return t?(0,a.getLang)("video_N_views_list",e):e.toString();let o=1;const i=e>1e6?"M":"K",r=e>1e6?1e6:1e3,n=e/r;n.toFixed(o).endsWith("0")&&(o=0);const s=(n.toFixed(o)+i).replace(".",",");if(t){const e=Math.trunc(n)*r;return(0,a.getLang)("video_N_views_list",e).replace(e.toString(),s)}return s}},304814:(e,t,o)=>{o.d(t,{isAuthorAllVideosPage:()=>a});const a=(e=window.location.pathname)=>/^\/@[^/]+\/all(\/.*)?$/.test(e)},370420:(e,t,o)=>{o.d(t,{getMenuItems:()=>v,report:()=>m,share:()=>g,watchLater:()=>_});var a=o(474848),i=o(863318),r=o(44348),n=o(473148),s=o(848659),l=o(518710),c=o(671112),d=o(866467),u=o(540462),p=o(451549);const _=(e,t)=>{if(!(e.can_add_to_faves||e.is_favorite))return null;return(0,u.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")?{onClick:t,children:e.is_favorite?(0,d.getLang)("video_remove_from_watch_later"):(0,d.getLang)("video_catalog_showcase_section_my_watch_later_title"),before:e.is_favorite?(0,a.jsx)(i.Icon20DeleteClockOutline,{}):(0,a.jsx)(r.Icon20ClockOutline,{}),"data-testid":"video_card_watch_later_button"}:{onClick:t,children:e.is_favorite?(0,d.getLang)("global_remove_from_bookmarks"):(0,d.getLang)("global_add_to_bookmarks"),before:(0,a.jsx)(n.Icon20FavoriteOutline,{}),"data-testid":"video_card_favorite_button"}},g=(e,t)=>e.can_repost?{onClick:t,before:(0,a.jsx)(s.Icon20ShareOutline,{}),children:(0,d.getLang)("video_share_with_friends"),"data-testid":"video_card_share_button"}:null,m=(e,t)=>{const o=!!e.vk_live_channel_url&&(0,c.isLiveVideo)(e);return e.owner_id!==window.vk.id&&e.owner_id&&e.id&&!o?{onClick:t,before:(0,a.jsx)(l.Icon20ReportOutline,{}),children:(0,d.getLang)("global_report_spam"),"data-testid":"video_card_complain_button"}:null};function v(...e){if((0,p.isVKUserAnonymous)())return;const t=e.filter((e=>Boolean(e)));return t.length?t:void 0}},744138:(e,t,o)=>{o.d(t,{VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME:()=>a,VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES:()=>i});const a="videosubscriptionbadge",i={ADD_BADGE:"add_badge",RM_BADGE:"rm_badge"}},693679:(e,t,o)=>{o.d(t,{VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME:()=>a.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_NAME,VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES:()=>a.VIDEO_SUBSCRIPTIONS_BADGE_EVENT_TYPES});var a=o(744138)},344384:(e,t,o)=>{o.d(t,{checkIsPlaylistReversed:()=>s,setReversedPlaylist:()=>l});var a=o(873900),i=o(553608);const r="video_reversed_playlists",n=()=>JSON.parse(i.vkLocalStorage.getItem(r)||"{}"),s=({playlistId:e,ownerId:t})=>{const o=(0,a.getIdentityRawId)({id:e,ownerId:t});return n()[o]||0},l=({playlistId:e,ownerId:t,isReversed:o})=>{const s=(0,a.getIdentityRawId)({id:e,ownerId:t}),l=n();i.vkLocalStorage.setItem(r,JSON.stringify({...l,[s]:o}))}},353034:(e,t,o)=>{o.d(t,{browser:()=>i});const a=navigator.userAgent.toLowerCase(),i={version:(a.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(a)||/opr/i.test(a),vivaldi:/vivaldi/i.test(a),amigo:/amigo.*mrchrome soc/i.test(a),msie:/msie/i.test(a)&&!/opera/i.test(a)||/trident\//i.test(a)||/edge/i.test(a),msie6:/msie 6/i.test(a)&&!/opera/i.test(a),msie7:/msie 7/i.test(a)&&!/opera/i.test(a),msie8:/msie 8/i.test(a)&&!/opera/i.test(a),msie9:/msie 9/i.test(a)&&!/opera/i.test(a),msie_edge:/edge/i.test(a)&&!/opera/i.test(a),mozilla:/firefox/i.test(a),yabrowser:/yabrowser/i.test(a),whale:/whale/i.test(a),chrome:/chrome/i.test(a)&&!/edge/i.test(a),safari:!/chrome/i.test(a)&&/webkit|safari|khtml/i.test(a),iphone:/iphone/i.test(a),ipod:/ipod/i.test(a),iphone4:/iphone.*OS 4/i.test(a),ipod4:/ipod.*OS 4/i.test(a),ipad:/ipad/i.test(a),ios:/.+(ipod|ipad|iphone.*os)/i.test(a),android:/android/i.test(a),bada:/bada/i.test(a),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(a),msie_mobile:/iemobile/i.test(a),safari_mobile:/iphone|ipod|ipad/i.test(a),opera_mobile:/opera mini|opera mobi/i.test(a),opera_mini:/opera mini/i.test(a),mac:/mac/i.test(a),windows7:/windows nt 6.1/i.test(a),windowsVista:/windows nt 6.0/i.test(a),windowsXp:/windows nt (5.2|5.1)/i.test(a),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(a),smart_tv:/smart-tv|smarttv/i.test(a)}},294691:(e,t,o)=>{o.d(t,{getAudioPlaylistAlbumType:()=>i});var a=o(797488);function i(e){return(0,a.isExperimentalAudioPlaylist)(e)?e.album?.view:e.album_type}},61296:(e,t,o)=>{o.d(t,{getPostRawId:()=>i});var a=o(873900);const i=({id:e,item_id:t,owner_id:o})=>{const i=e||t;return o&&i?(0,a.getIdentityRawId)({ownerId:o,id:i}):""}},488709:(e,t,o)=>{o.d(t,{UsersApi:()=>n});var a=o(331635),i=o(641569),r=o(132028);class n extends i.ApiNamespace{get namespace(){return"users"}constructor(...e){super(...e),this.getWithPrefetch=this.makeMethod("get",!0),this.get=this.makeMethod("get"),this.getFollowers=this.makeMethod("getFollowers"),this.search=this.makeMethod("search"),this.getSubscriptions=this.makeMethod("getSubscriptions")}}n=(0,a.__decorate)([r.scope.global()],n)},876761:(e,t,o)=>{o.d(t,{createCatalogGetAudioSearchFx:()=>u,createCatalogGetBlockItemsFx:()=>S,createCatalogGetClassifiedsFx:()=>i,createCatalogGetOwnerVideosSearchFx:()=>v,createCatalogGetPeopleSearchFx:()=>n,createCatalogGetSearchGamesFx:()=>g,createCatalogGetSearchGroupsFx:()=>C,createCatalogGetSearchMiniAppsFx:()=>_,createCatalogGetSectionFx:()=>r,createCatalogGetShortVideoSearchFx:()=>h,createCatalogGetVideoFx:()=>c,createCatalogGetVideoSearchWeb2Fx:()=>p,createCatalogGetVideoShowcaseFx:()=>d,createCatalogHideBlockFx:()=>l,createCatalogPrefetchPeopleSearchFx:()=>s,createCatalogReplaceBlocksFx:()=>m});var a=o(412554);const i=e=>(0,a.createApiEffect)("catalog.getClassifieds",e),r=e=>(0,a.createApiEffect)("catalog.getSection",e),n=e=>(0,a.createApiEffect)("catalog.getPeopleSearch",e),s=e=>(0,a.createPrefetchEffect)("catalog.getPeopleSearch",e),l=e=>(0,a.createApiEffect)("catalog.hideBlock",e),c=e=>(0,a.createApiEffect)("catalog.getVideo",e),d=e=>(0,a.createApiEffect)("catalog.getVideoShowcase",e),u=e=>(0,a.createApiEffect)("catalog.getAudioSearch",e),p=e=>(0,a.createApiEffect)("catalog.getVideoSearchWeb2",e),_=e=>(0,a.createApiEffect)("catalog.getSearchMiniApps",e),g=e=>(0,a.createApiEffect)("catalog.getSearchGames",e),m=e=>(0,a.createApiEffect)("catalog.replaceBlocks",e),v=e=>(0,a.createApiEffect)("catalog.getOwnerVideosSearch",e),S=e=>(0,a.createApiEffect)("catalog.getBlockItems",e),C=e=>(0,a.createApiEffect)("catalog.getSearchGroups",e),h=e=>(0,a.createApiEffect)("catalog.getShortVideoSearch",e)},612392:(e,t,o)=>{o.d(t,{createMarketAddToCartFx:()=>u,createMarketDeleteAlbumFx:()=>d,createMarketDeleteFx:()=>m,createMarketGetAlbumByIdFx:()=>c,createMarketGetAlbumsFx:()=>s,createMarketGetByIdFx:()=>i,createMarketGetEditUrlFx:()=>g,createMarketGetSellerResponseTimeFx:()=>l,createMarketGetSettingsFx:()=>n,createMarketGetTotalCountersFx:()=>r,createMarketRemoveFromCartFx:()=>p,createMarketReorderAlbumsFx:()=>_});var a=o(412554);const i=e=>(0,a.createApiEffect)("market.getById",e),r=e=>(0,a.createApiEffect)("market.getCounters",e),n=e=>(0,a.createApiEffect)("market.getSettings",e),s=e=>(0,a.createApiEffect)("market.getAlbums",e),l=e=>(0,a.createApiEffect)("market.getSellerResponseTime",e),c=e=>(0,a.createApiEffect)("market.getAlbumById",e),d=e=>(0,a.createApiEffect)("market.deleteAlbum",e),u=e=>(0,a.createApiEffect)("market.addToCart",e),p=e=>(0,a.createApiEffect)("market.removeFromCart",e),_=e=>(0,a.createApiEffect)("market.reorderAlbums",e),g=e=>(0,a.createApiEffect)("market.getEditUrl",e),m=e=>(0,a.createApiEffect)("market.delete",e)},929052:(e,t,o)=>{o.d(t,{createWallSubscribeFx:()=>i,createWallUnsubscribeFx:()=>r});var a=o(412554);const i=e=>(0,a.createApiEffect)("wall.subscribe",e),r=e=>(0,a.createApiEffect)("wall.unsubscribe",e)},314799:(e,t,o)=>{o.d(t,{useHelpHint:()=>r});var a=o(984745),i=o(335797);const r=e=>(0,i.useEntitiesStore)((0,a.ensureAccountHelpHintsService)().$helpHints,e)},601379:(e,t,o)=>{o.d(t,{isVideoVideoFullWithIds:()=>a});const a=e=>void 0!==e.id&&void 0!==e.owner_id},100460:(e,t,o)=>{o.d(t,{moveArrayElement:()=>i});const a=(e,t)=>e>=0?e:t+e,i=({items:e,from:t,to:o})=>{const i=[...e];return(({items:e,from:t,to:o})=>{if(!e.length)return;const i=a(t,e.length),r=a(o,e.length);i!==r&&e.splice(r,0,...e.splice(t,1))})({items:i,from:t,to:o}),i}},883828:(e,t,o)=>{o.d(t,{MAX_INT32:()=>a,MIN_INT32:()=>i});const a=2**31-1,i=-(2**31)},141815:(e,t,o)=>{o.d(t,{default:()=>a});const a={button:"IconButton__button--egAsj"}},840023:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"VirtualList__root--XpVO4",viewport:"VirtualList__viewport--HarWT"}},213442:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"BlockFilter__root--tWVY7",icon:"BlockFilter__icon--AKZ6c"}},66474:(e,t,o)=>{o.d(t,{default:()=>a});const a={options:"Onboarding__options--3fhaE",saveButton:"Onboarding__saveButton--JiczL",doneBox:"Onboarding__doneBox--Xvb69",headlineDone:"Onboarding__headlineDone--pYTu0",doneBoxIcon:"Onboarding__doneBoxIcon--7nHlq"}},275370:(e,t,o)=>{o.d(t,{default:()=>a});const a={link:"OpenSearchTab__link--tGF8M"}},596910:(e,t,o)=>{o.d(t,{default:()=>a});const a={openSectionSliderCell:"OpenSectionSliderCell__openSectionSliderCell--MXzLQ",openSectionSliderCard:"OpenSectionSliderCell__openSectionSliderCard--ZFLv8",openSectionSliderCellButton:"OpenSectionSliderCell__openSectionSliderCellButton--1WPo8",openSectionSliderCellButtonIcon:"OpenSectionSliderCell__openSectionSliderCellButtonIcon--cLF5l",openSectionSliderCellText:"OpenSectionSliderCell__openSectionSliderCellText--q42oQ"}},507898:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"ShowFilters__root--W9cQr",iconBefore:"ShowFilters__iconBefore--T78Yt",headline:"ShowFilters__headline--1dVyM"}},874921:(e,t,o)=>{o.d(t,{default:()=>a});const a={title:"AudioPlaylist__title--n8LrG",subtitle:"AudioPlaylist__subtitle--1h8fY",year:"AudioPlaylist__year--bmqVe"}},704547:(e,t,o)=>{o.d(t,{default:()=>a});const a={banner:"Banner__banner--ajyPV",actionsWrapper:"Banner__actionsWrapper--1lOAl"}},540909:(e,t,o)=>{o.d(t,{default:()=>a});const a={chips:"Chips__chips--USbQX",chipsFadedOut:"Chips__chipsFadedOut--mbzGE",chipsHidden:"Chips__chipsHidden--4xa6c",chipsHeadline:"Chips__chipsHeadline--PZvxC",chipsSubhead:"Chips__chipsSubhead--36Ndf"}},144033:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"DoubleStackedList__root--YRzWj",rootWithoutGrid:"DoubleStackedList__rootWithoutGrid--v4dt1"}},962125:(e,t,o)=>{o.d(t,{default:()=>a});const a={largeSliderCard:"GroupCategoryLargeItem__largeSliderCard--FRmgy"}},140157:(e,t,o)=>{o.d(t,{default:()=>a});const a={sliderCard:"GroupCollection__sliderCard--RgYQR",singleSliderCard:"GroupCollection__singleSliderCard--xqesh"}},103941:(e,t,o)=>{o.d(t,{default:()=>a});const a={iconLeave:"GroupItem__iconLeave--3Utqz",government:"GroupItem__government--kxTt9",governmentIcon:"GroupItem__governmentIcon--3FxBN",stack:"GroupItem__stack--puENg",sliderCard:"GroupItem__sliderCard--wLQCG",sliderEvent:"GroupItem__sliderEvent--SY4Jq",stacked:"GroupItem__stacked--mJrGZ",blur:"GroupItem__blur--x43js"}},327677:(e,t,o)=>{o.d(t,{default:()=>a});const a={header:"HeaderCompact__header--cZq7Y"}},342079:(e,t,o)=>{o.d(t,{default:()=>a});const a={iconSmall:"Link__iconSmall--UIaIM",iconUrl:"Link__iconUrl--iZLhN"}},780571:(e,t,o)=>{o.d(t,{default:()=>a});const a={searchEntityFlat:"List__searchEntityFlat--Zuso3",searchEntityFlatFirst:"List__searchEntityFlatFirst--3T2fv"}},245665:(e,t,o)=>{o.d(t,{default:()=>a});const a={card:"MarketItem__card--1rVb8",imageWrapper:"MarketItem__imageWrapper--GhuJ5",image:"MarketItem__image--pwqOe",body:"MarketItem__body--aLPya",subtitle:"MarketItem__subtitle--8Cmec",header:"MarketItem__header--wFvOf",oldPrice:"MarketItem__oldPrice--lPb9g",group:"MarketItem__group--JXcH7",caption:"MarketItem__caption--nTYye",verified:"MarketItem__verified--pNJus"}},261233:(e,t,o)=>{o.d(t,{default:()=>a});const a={musicCell:"MusicAudios__musicCell--F4tZa",padding:"MusicAudios__padding--dAFsN",moreIcon:"MusicAudios__moreIcon--RZdYM"}},934393:(e,t,o)=>{o.d(t,{default:()=>a});const a={placeholder:"Placeholder__placeholder--7F7w7",placeholderBig:"Placeholder__placeholderBig--fGylw",placeholderStretched:"Placeholder__placeholderStretched--q6AF8",image:"Placeholder__image--T9aGo"}},828336:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"PlaylistBanner__root--8kKyp",ratio:"PlaylistBanner__ratio--hHVe7",verticalRatio:"PlaylistBanner__verticalRatio--NhL4R",thumb:"PlaylistBanner__thumb--Avefg",blur:"PlaylistBanner__blur--KtJwi",verticalThumb:"PlaylistBanner__verticalThumb--tqLeq",placeholder:"PlaylistBanner__placeholder--puuDK"}},504944:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"PlaylistCard__root--NHOaf",preview:"PlaylistCard__preview--fHOnq",thumb:"PlaylistCard__thumb--mPciY",blur:"PlaylistCard__blur--6xXG8",counter:"PlaylistCard__counter--y27EK",title:"PlaylistCard__title--TQJda"}},916126:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"PlaylistHeader__root--zfRpr",titleWrapper:"PlaylistHeader__titleWrapper--7glTe",avatar:"PlaylistHeader__avatar--mEU6j",title:"PlaylistHeader__title--qFHih",subtitle:"PlaylistHeader__subtitle--VPWLt"}},90330:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"PlaylistPreview__root--YC94K",overlay:"PlaylistPreview__overlay--9ToBL",badge:"PlaylistPreview__badge--8ncV3"}},929477:(e,t,o)=>{o.d(t,{default:()=>a});const a={searchSpellcheck:"SearchSpellchecker__searchSpellcheck--3rV6K",searchSpellcheckSubtitle:"SearchSpellchecker__searchSpellcheckSubtitle--2Ugd2",searchSpellcheckSubtitleButton:"SearchSpellchecker__searchSpellcheckSubtitleButton--qPy5r",searchSpellcheckTitle:"SearchSpellchecker__searchSpellcheckTitle--HysRb",searchSpellcheckQuery:"SearchSpellchecker__searchSpellcheckQuery--FcGkp"}},682624:(e,t,o)=>{o.d(t,{default:()=>a});const a={suggestionItem:"SliderSuggestion__suggestionItem--dsmYR"}},770973:(e,t,o)=>{o.d(t,{default:()=>a});const a={content:"Slider__content--S4KHN",pagination:"Slider__pagination--4j3Nc",groupsItemSliderElement:"Slider__groupsItemSliderElement--ySIGf"}},458431:(e,t,o)=>{o.d(t,{default:()=>a});const a={suggestionRemove:"Suggestion__suggestionRemove--Y6lkf"}},111648:(e,t,o)=>{o.d(t,{default:()=>a});const a={catalogTripleStackedSliderInner:"TripleStackedSliderItems__catalogTripleStackedSliderInner--kSLGO",catalogTripleStackedSliderColumnS:"TripleStackedSliderItems__catalogTripleStackedSliderColumnS--VcScn",catalogTripleStackedSliderColumn:"TripleStackedSliderItems__catalogTripleStackedSliderColumn--jT1kV",row:"TripleStackedSliderItems__row--O3VRd"}},57873:(e,t,o)=>{o.d(t,{default:()=>a});const a={card:"ShortVideoCard__card--HciQa"}},856473:(e,t,o)=>{o.d(t,{default:()=>a});const a={cardRounded:"VideoCard__cardRounded--AFkh1",cardRoundedSmall:"VideoCard__cardRoundedSmall--WVpzt",info:"VideoCard__info--e8Hty",largeCard:"VideoCard__largeCard--6RCf1",main:"VideoCard__main--JSEpE",avatarWrapper:"VideoCard__avatarWrapper--66k0L",titleWrapper:"VideoCard__titleWrapper--YSebH",title:"VideoCard__title--3Z3on",subtitle:"VideoCard__subtitle--PC5qv",userNameWrapper:"VideoCard__userNameWrapper--FVMKl",userName:"VideoCard__userName--hDyqd",verifiedIcon:"VideoCard__verifiedIcon--kEShI",viewIcon:"VideoCard__viewIcon--LKf9f",views:"VideoCard__views--9AxEW"}},586507:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"BlockFilter__root--4YrYX",icon:"BlockFilter__icon--eCFl3"}},352671:(e,t,o)=>{o.d(t,{default:()=>a});const a={banner:"SliderBanner__banner--mfhT9",videoSubscriptionsSelectBg:"SliderBanner__videoSubscriptionsSelectBg--jmUlX",videoTransferFromYoutubeBg:"SliderBanner__videoTransferFromYoutubeBg--cfiTr"}},885470:(e,t,o)=>{o.d(t,{default:()=>a});const a={title:"GroupItem__title--vLpxZ"}},160478:(e,t,o)=>{o.d(t,{default:()=>a});const a={separator:"IslandSeparator__separator--Yv9HF",lowerSeparatorWrapper:"IslandSeparator__lowerSeparatorWrapper--FnnIe",upperSeparator:"IslandSeparator__upperSeparator--8W8XF",lowerSeparator:"IslandSeparator__lowerSeparator--qN8jS"}},58643:(e,t,o)=>{o.d(t,{default:()=>a});const a={list:"ListGrid__list--un8QD"}},526094:(e,t,o)=>{o.d(t,{default:()=>a});const a={container:"PinnedVideo__container--eUI4S"}},505695:(e,t,o)=>{o.d(t,{default:()=>a});const a={container:"SliderPlaylist__container--dWrmd"}},653258:(e,t,o)=>{o.d(t,{default:()=>a});const a={shortVideoList:"ShortVideoList__shortVideoList--AIrxY"}},947946:(e,t,o)=>{o.d(t,{default:()=>a});const a={scrollContainer:"Slider__scrollContainer--Stu8X",groupContainer:"Slider__groupContainer--vlxH4"}},163023:(e,t,o)=>{o.d(t,{default:()=>a});const a={item:"TripleStackedSliderItems__item--dVdi6"}},786176:(e,t,o)=>{o.d(t,{default:()=>a});const a={clipContainer:"SliderShortVideoCard__clipContainer--1gis6"}},349215:(e,t,o)=>{o.d(t,{default:()=>a});const a={sizeM:"OptimizedVideoCardSlider__sizeM--h6A4l",sizeL:"OptimizedVideoCardSlider__sizeL--6QBsb",sizeS:"OptimizedVideoCardSlider__sizeS--YltuS",container:"OptimizedVideoCardSlider__container--t83Dw"}},623377:(e,t,o)=>{o.d(t,{default:()=>a});const a={sizeM:"VideoCardSlider__sizeM--WidWb",sizeL:"VideoCardSlider__sizeL--0cGhR",sizeS:"VideoCardSlider__sizeS--eGn8r",container:"VideoCardSlider__container--wMRYE"}},253222:(e,t,o)=>{o.d(t,{default:()=>a});const a={sizeM:"VideoCardSliderWrapper__sizeM--lKfsV",sizeL:"VideoCardSliderWrapper__sizeL--M0LvO",sizeS:"VideoCardSliderWrapper__sizeS--BAeTn",container:"VideoCardSliderWrapper__container--HzSoj"}},251138:(e,t,o)=>{o.d(t,{default:()=>a});const a={container:"OpenUrl__container--NqtDh",link:"OpenUrl__link--hA9mc"}},934456:(e,t,o)=>{o.d(t,{default:()=>a});const a={itemVerification:"CatalogUser__itemVerification--vYwE7",extraDescription:"CatalogUser__extraDescription--bQOI1"}},989488:(e,t,o)=>{o.d(t,{default:()=>a});const a={buttonRemove:"CatalogUserButton__buttonRemove--clKSO"}},724072:(e,t,o)=>{o.d(t,{default:()=>a});const a={buttonLeave:"GroupItemButton__buttonLeave--e3d6F"}},440802:(e,t,o)=>{o.d(t,{default:()=>a});const a={government:"GroupItemDescription__government--KoNcP",governmentIcon:"GroupItemDescription__governmentIcon--y2oAQ",userStack:"GroupItemDescription__userStack--hgkU7"}},985219:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"HeaderCompact__root--A715j"}},729265:(e,t,o)=>{o.d(t,{default:()=>a});const a={button:"ClearRecentGroups__button--kmoca",icon:"ClearRecentGroups__icon--Z0LJg",link:"ClearRecentGroups__link--pJ9mD"}},234073:(e,t,o)=>{o.d(t,{default:()=>a});const a={list:"List__list--wuKh2"}},627619:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"Slider__root--GL39x",inner:"Slider__inner--qvBLN"}},162879:(e,t,o)=>{o.d(t,{default:()=>a});const a={authors:"List__authors--3wwGO"}},827217:(e,t,o)=>{o.d(t,{default:()=>a});const a={list:"ListCommunity__list--JBIIY"}},237091:(e,t,o)=>{o.d(t,{default:()=>a});const a={horizontalVideo:"ListVideos__horizontalVideo--1UVl0"}},169786:(e,t,o)=>{o.d(t,{default:()=>a});const a={author:"SearchAuthor__author--DV4OJ"}},555657:(e,t,o)=>{o.d(t,{default:()=>a});const a={searchSpellcheck:"SearchSpellchecker__searchSpellcheck--42uru"}},793793:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"Snackbar__root--HGitv"}},17173:(e,t,o)=>{o.d(t,{default:()=>a});const a={root:"VideoListItem__root--Jb2YU",active:"VideoListItem__active--BS1no",preview:"VideoListItem__preview--WxsqK",info:"VideoListItem__info--Y8IgK",main:"VideoListItem__main--dXnDr",title:"VideoListItem__title--QfaKw",subtitle:"VideoListItem__subtitle--t9PVL",endAdornment:"VideoListItem__endAdornment--9At5J"}},276293:(e,t,o)=>{o.d(t,{default:()=>a});const a={video:"VideoPreview__video--ge4wE",videoRounded:"VideoPreview__videoRounded--1xF8a",videoPage:"VideoPreview__videoPage--mxbot",videoDuration:"VideoPreview__videoDuration--4OljO",videoInteractive:"VideoPreview__videoInteractive--dzZeH",interactiveIcon:"VideoPreview__interactiveIcon--MSD3O",videoLive:"VideoPreview__videoLive--4pa3S",videoUpcomingLive:"VideoPreview__videoUpcomingLive--zKJZx",videoImage:"VideoPreview__videoImage--L4wly",views:"VideoPreview__views--5LAqV",previewFailed:"VideoPreview__previewFailed--u96Ys",processingLabel:"VideoPreview__processingLabel--RBPyj",adultLock:"VideoPreview__adultLock--cQaSZ",cornerIcon:"VideoPreview__cornerIcon--uHf89",cornerIconPrivacy:"VideoPreview__cornerIconPrivacy--7Yu3w",progressBar:"VideoPreview__progressBar--GAdDq",progress:"VideoPreview__progress--Ex8SF",playBtn:"VideoPreview__playBtn--gSWSP",activeIconOverlay:"VideoPreview__activeIconOverlay--mmyI4",videoImageBlur:"VideoPreview__videoImageBlur--0v1Uc",videoBlur:"VideoPreview__videoBlur--zGUvo",overlay:"VideoPreview__overlay--6ghp4"}},706789:(e,t,o)=>{o.d(t,{default:()=>a});const a={overlay:"VideoPreviewOverlay__overlay--QqZOE",title:"VideoPreviewOverlay__title--h8PQQ",icon:"VideoPreviewOverlay__icon--n5ob5",center:"VideoPreviewOverlay__center--cpPfj",text:"VideoPreviewOverlay__text--1ZX2n",blur:"VideoPreviewOverlay__blur--kKzPc"}},320933:(e,t,o)=>{e.exports=o.p+"icons/3ccf7e5538a2b3e1.png"},126468:(e,t,o)=>{e.exports=o.p+"icons/99b52bcc7860598e.png"},981600:(e,t,o)=>{e.exports=o.p+"icons/309c84b2bf7649a4.png"},890031:(e,t,o)=>{e.exports=o.p+"icons/27380207479bae55.png"},144813:(e,t,o)=>{e.exports=o.p+"icons/185a450d8369e998.png"},677620:(e,t,o)=>{e.exports=o.p+"icons/51cab928166b3f7f.png"},806884:(e,t,o)=>{e.exports=o.p+"icons/65dacff3c65f7222.png"},369916:(e,t,o)=>{e.exports=o.p+"icons/ac45eda0fb95c09a.png"},912796:(e,t,o)=>{e.exports=o.p+"icons/221c62f925ff3643.png"},612096:(e,t,o)=>{e.exports=o.p+"icons/3f9ddcf87d8417e1.png"},53976:(e,t,o)=>{e.exports=o.p+"icons/6817ed9f0117bbcc.png"},466101:(e,t,o)=>{e.exports=o.p+"icons/32e664a0b23ccabe.png"},111579:(e,t,o)=>{e.exports=o.p+"icons/e0618453a9c76d6d.png"},785249:(e,t,o)=>{e.exports=o.p+"icons/9021b39b6a693d5f.png"},2847:(e,t,o)=>{e.exports=o.p+"icons/246ccdfadbfaade2.png"},989100:(e,t,o)=>{e.exports=o.p+"icons/496b5c46e87dbf81.png"},470380:(e,t,o)=>{e.exports=o.p+"icons/f6c2768b427d7152.png"},800073:(e,t,o)=>{e.exports=o.p+"icons/1a7b53f02abb2d56.png"},682871:(e,t,o)=>{e.exports=o.p+"icons/7e5fb002d24b07e1.png"},47221:(e,t,o)=>{e.exports=o.p+"icons/6cc35b91f8c4d0ae.png"},626779:(e,t,o)=>{e.exports=o.p+"icons/8e60acd721e6e66d.png"},988705:(e,t,o)=>{e.exports=o.p+"icons/0749331c1904c608.png"},246705:(e,t,o)=>{e.exports=o.p+"icons/83a1b1525cd1590a.png"},22500:(e,t,o)=>{e.exports=o.p+"icons/2d1be6c7a82f5e5a.png"},58235:(e,t,o)=>{e.exports=o.p+"icons/158b2a6044b89e51.png"},674976:(e,t,o)=>{e.exports=o.p+"icons/d969b2f0fe244fcf.png"},734252:(e,t,o)=>{e.exports=o.p+"icons/b331d96a2ba3e100.png"},934679:(e,t,o)=>{o.d(t,{IconLiveText20h:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 42 20",width:42,height:20,vkuiIconId:"live_text_20h",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{d:"M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1m7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2zm-8.325 9.31-2.55-7.824a1 1 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a1 1 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69Z"})})},558294:(e,t,o)=>{o.d(t,{Icon40VkVideoLogo:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsxs)(i.SvgIconRootV2,{viewBox:"0 0 40 40",width:40,height:40,vkuiIconId:"vk_video_logo_40",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,a.jsxs)("g",{clipPath:"url(#vk_video_logo_40__a)",children:[(0,a.jsx)("path",{fill:"#07F",d:"M0 14.624C0 2.581 2.581 0 14.624 0h10.752C37.419 0 40 2.581 40 14.624v10.752C40 37.419 37.419 40 25.376 40H14.624C2.581 40 0 37.419 0 25.376z"}),(0,a.jsx)("path",{fill:"#FF2B42",d:"M21.493 40h3.814c11.816 0 14.566-2.462 14.689-13.793q.004-.408.004-.831V14.624q0-.457-.005-.895C39.863 2.452 37.1 0 25.307 0h-3.814C9.393 0 6.8 2.581 6.8 14.624v10.752C6.8 37.419 9.393 40 21.493 40"}),(0,a.jsx)("path",{fill:"#fff",d:"M28.225 16.54c2.022 1.167 3.033 1.75 3.373 2.513a2.57 2.57 0 0 1 0 2.088c-.34.763-1.35 1.346-3.373 2.514l-5.541 3.199c-2.022 1.168-3.033 1.751-3.863 1.664a2.57 2.57 0 0 1-1.809-1.044c-.49-.675-.49-1.843-.49-4.178v-6.398c0-2.335 0-3.503.49-4.178a2.57 2.57 0 0 1 1.809-1.044c.83-.087 1.84.497 3.863 1.664z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"vk_video_logo_40__a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h40v40H0z"})})})]})},509163:(e,t,o)=>{o.d(t,{RasterIcon20LockShadow:()=>s});var a=o(506447),i=o(320933),r=o(126468),n=o(981600);const s=(0,a.makeRasterIcon)("RasterIcon20LockShadow","lock_shadow",20,{lightmdpi:i,lightxhdpi:r,lightxxhdpi:n})},621258:(e,t,o)=>{o.d(t,{RasterIcon24BusinessVerified:()=>d});var a=o(506447),i=o(144813),r=o(890031),n=o(53976),s=o(612096),l=o(470380),c=o(989100);const d=(0,a.makeRasterIcon)("RasterIcon24BusinessVerified","business_verified",24,{lightmdpi:i,darkmdpi:r,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},69381:(e,t,o)=>{o.d(t,{RasterIcon24CrownVerified:()=>d});var a=o(506447),i=o(806884),r=o(677620),n=o(111579),s=o(466101),l=o(682871),c=o(800073);const d=(0,a.makeRasterIcon)("RasterIcon24CrownVerified","crown_verified",24,{lightmdpi:i,darkmdpi:r,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},918277:(e,t,o)=>{o.d(t,{RasterIcon24Verified:()=>d});var a=o(506447),i=o(912796),r=o(369916),n=o(2847),s=o(785249),l=o(626779),c=o(47221);const d=(0,a.makeRasterIcon)("RasterIcon24Verified","verified",24,{lightmdpi:i,darkmdpi:r,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},130149:(e,t,o)=>{o.d(t,{RasterIcon40CheckCircleShadow:()=>s});var a=o(506447),i=o(988705),r=o(22500),n=o(674976);const s=(0,a.makeRasterIcon)("RasterIcon40CheckCircleShadow","check_circle_shadow",40,{lightmdpi:i,lightxhdpi:r,lightxxhdpi:n})},243517:(e,t,o)=>{o.d(t,{RasterIcon40CircleOutlineShadow:()=>s});var a=o(506447),i=o(246705),r=o(58235),n=o(734252);const s=(0,a.makeRasterIcon)("RasterIcon40CircleOutlineShadow","circle_outline_shadow",40,{lightmdpi:i,lightxhdpi:r,lightxxhdpi:n})},707427:(e,t,o)=>{o.d(t,{Icon16ChainOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"chain_outline_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{d:"M10.422 3.023a1.82 1.82 0 0 1 2.552 0 1.77 1.77 0 0 1-.003 2.502l-.746.747a.75.75 0 0 0 1.06 1.06l.746-.744a3.25 3.25 0 0 0-.002-4.631 3.32 3.32 0 0 0-4.661 0L6.14 5.153a3.25 3.25 0 0 0 0 4.633.75.75 0 1 0 1.054-1.067 1.75 1.75 0 0 1 0-2.5zM5.575 12.98a1.82 1.82 0 0 1-2.552 0 1.75 1.75 0 0 1 0-2.5l.754-.754a.75.75 0 1 0-1.06-1.06l-.75.75a3.25 3.25 0 0 0 .002 4.63 3.32 3.32 0 0 0 4.661 0l3.228-3.197a3.25 3.25 0 0 0 0-4.632.75.75 0 0 0-1.054 1.067 1.75 1.75 0 0 1 0 2.499z"})})},373561:(e,t,o)=>{o.d(t,{Icon16Clock:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"clock_16",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.9-11.5a.9.9 0 1 0-1.8 0V8a.9.9 0 0 0 .264.636l2.1 2.1a.9.9 0 1 0 1.272-1.272L8.9 7.627z",clipRule:"evenodd"})})},378204:(e,t,o)=>{o.d(t,{Icon16DownloadOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"download_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.75 1.75a.75.75 0 0 0-1.5 0v6.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44zm-6 10.75a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})},745401:(e,t,o)=>{o.d(t,{Icon16ListPlayOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"list_play_outline_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75m0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75M2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8m12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541z"})})},355940:(e,t,o)=>{o.d(t,{Icon16Poll:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 16 16",width:16,height:16,vkuiIconId:"poll_16",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("g",{fill:"currentColor",children:(0,a.jsx)("path",{d:"M3 6a1 1 0 0 1 2 0v6a1 1 0 1 1-2 0zM7 2a1 1 0 0 1 2 0v10a1 1 0 1 1-2 0zM11 8a1 1 0 1 1 2 0v4a1 1 0 1 1-2 0z"})})})},22225:(e,t,o)=>{o.d(t,{Icon20AddSquareOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"add_square_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.092c-.181-.093-.456-.177-1.03-.224-.592-.048-1.36-.049-2.505-.049m-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748M10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})})},753833:(e,t,o)=>{o.d(t,{Icon20CheckAlt:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_alt_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.659 5.344a1.16 1.16 0 0 1 0 1.645L8.82 14.812a1.167 1.167 0 0 1-1.649 0l-3.83-3.823a1.16 1.16 0 0 1 0-1.646 1.167 1.167 0 0 1 1.648 0l3.007 3 7.013-7a1.167 1.167 0 0 1 1.649 0Z",clipRule:"evenodd"})})},690272:(e,t,o)=>{o.d(t,{Icon20ChevronCircleOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"chevron_circle_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0M9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"})})},44348:(e,t,o)=>{o.d(t,{Icon20ClockOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"clock_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsxs)("g",{fill:"currentColor",children:[(0,a.jsx)("path",{d:"M10.25 6.5a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 .516.713l3.5 1.15a.75.75 0 1 0 .468-1.425l-2.984-.981z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M18.5 10a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0M3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0",clipRule:"evenodd"})]})})},863318:(e,t,o)=>{o.d(t,{Icon20DeleteClockOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"delete_clock_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.418 4a1.75 1.75 0 0 1 3.164 0zm-1.58 0a3.25 3.25 0 0 1 6.325 0h4.087a.75.75 0 0 1 0 1.5h-.545l-.155 1.573a.75.75 0 0 1-1.493-.146l.14-1.427H4.803l.896 9.14c.051.527.087.882.134 1.156.046.265.095.4.147.492a1.4 1.4 0 0 0 .654.593c.177.078.431.113 1.172.118a.75.75 0 0 1-.01 1.5c-.69-.005-1.261-.022-1.768-.246a2.9 2.9 0 0 1-1.354-1.228c-.17-.302-.259-.624-.319-.973a18 18 0 0 1-.146-1.238L3.295 5.5H2.75a.75.75 0 0 1 0-1.5h4.087ZM14 19c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8a.75.75 0 0 1 .75.75v1.849l.913.608a.75.75 0 1 1-.832 1.248l-1.247-.831A.75.75 0 0 1 13.25 14v-2.25A.75.75 0 0 1 14 11",clipRule:"evenodd"})})},473148:(e,t,o)=>{o.d(t,{Icon20FavoriteOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"favorite_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.408 3.134a.92.92 0 0 0-.825 0c-.049.024-.19.13-.443.598-.244.448-.522 1.086-.919 2.003-.16.37-.327.739-.482 1.112-.02.049-.084.204-.196.332a1 1 0 0 1-.33.252c-.168.08-.351.097-.384.102l-.682.096c-.993.14-1.685.24-2.184.356-.52.121-.66.229-.697.269a.92.92 0 0 0-.218.798c.01.053.077.217.462.587.37.355.916.792 1.7 1.419l.248.2c.028.021.187.137.294.303.08.125.133.266.153.413.025.18-.012.355-.023.41-.029.139-.053.279-.08.418-.217 1.15-.371 1.964-.432 2.56-.066.636.003.822.026.86a.92.92 0 0 0 .747.442c.045.002.24-.029.765-.393.492-.343 1.129-.87 2.03-1.619l.315-.262c.038-.031.093-.077.147-.116.067-.047.172-.114.315-.154a1 1 0 0 1 .56 0c.143.04.249.107.315.154.054.039.11.085.148.116l.315.262c.9.748 1.537 1.276 2.03 1.619.524.364.72.395.764.393a.92.92 0 0 0 .747-.441c.024-.039.092-.225.027-.86-.062-.597-.215-1.41-.433-2.561q-.038-.21-.08-.418a1.3 1.3 0 0 1-.023-.41 1 1 0 0 1 .153-.413c.107-.166.266-.282.294-.304l.249-.199c.783-.627 1.329-1.064 1.699-1.419.386-.37.452-.534.462-.587a.92.92 0 0 0-.218-.798c-.036-.04-.176-.148-.697-.27-.498-.116-1.19-.214-2.184-.355-.23-.032-.462-.068-.694-.097-.052-.007-.218-.028-.372-.101a1 1 0 0 1-.33-.252c-.122-.14-.187-.313-.2-.343l-.478-1.101c-.397-.917-.675-1.555-.918-2.003-.254-.467-.395-.574-.443-.598ZM8.895 1.761a2.45 2.45 0 0 1 2.2 0c.5.25.83.732 1.103 1.236.281.516.585 1.218.963 2.09l.413.953.523.074c.945.133 1.706.24 2.28.375.56.13 1.113.32 1.488.738a2.46 2.46 0 0 1 .582 2.128c-.11.55-.49.996-.906 1.394-.426.408-1.026.888-1.77 1.484l-.112.09.044.231c.209 1.103.376 1.982.444 2.652.066.64.073 1.3-.243 1.817a2.46 2.46 0 0 1-1.991 1.176c-.605.025-1.178-.3-1.706-.667-.553-.384-1.24-.955-2.104-1.672l-.108-.09-.108.09c-.864.717-1.55 1.288-2.104 1.672-.527.367-1.101.692-1.706.667a2.46 2.46 0 0 1-1.991-1.176c-.315-.517-.309-1.177-.243-1.817.069-.67.235-1.549.445-2.652l.044-.232-.112-.089c-.745-.596-1.345-1.077-1.77-1.484-.416-.398-.796-.844-.907-1.394a2.46 2.46 0 0 1 .582-2.128c.375-.417.929-.608 1.489-.738.574-.134 1.335-.242 2.28-.375l.522-.074.413-.953c.378-.872.682-1.574.963-2.09.274-.504.603-.986 1.103-1.236",clipRule:"evenodd"})})},264992:(e,t,o)=>{o.d(t,{Icon20ListAddOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"list_add_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsxs)("g",{fill:"currentColor",children:[(0,a.jsx)("path",{d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75M2 9.75A.75.75 0 0 1 2.75 9h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75M2 14.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M19.28 12.22a.75.75 0 0 1 0 1.06l-4.495 4.496a.75.75 0 0 1-1.06 0l-2.503-2.495a.75.75 0 0 1 1.06-1.062l1.972 1.966 3.966-3.965a.75.75 0 0 1 1.06 0",clipRule:"evenodd"})]})})},845794:(e,t,o)=>{o.d(t,{Icon20MinusSquareOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"minus_square_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.4 3.5h3.2c1.145 0 1.913.001 2.505.05.574.046.849.13 1.03.222a2.5 2.5 0 0 1 1.092 1.093c.093.181.177.456.224 1.03.048.592.049 1.36.049 2.505v3.2c0 1.145-.001 1.913-.05 2.505-.046.574-.13.849-.223 1.03a2.5 2.5 0 0 1-1.092 1.092c-.181.093-.456.177-1.03.224-.592.048-1.36.049-2.505.049H8.4c-1.145 0-1.913-.001-2.505-.05-.574-.046-.849-.13-1.03-.223a2.5 2.5 0 0 1-1.093-1.092c-.092-.181-.176-.456-.222-1.03-.049-.592-.05-1.36-.05-2.505V8.4c0-1.145.001-1.913.05-2.505.046-.574.13-.849.222-1.03a2.5 2.5 0 0 1 1.093-1.093c.181-.092.456-.176 1.03-.222.592-.049 1.36-.05 2.505-.05M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.75.85a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})})},255121:(e,t,o)=>{o.d(t,{Icon20UserAddOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"user_add_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5M8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0m-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.7.7 0 0 1-.05.288.3.3 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.3.3 0 0 1-.09-.12.7.7 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71M12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902",clipRule:"evenodd"})})},954647:(e,t,o)=>{o.d(t,{Icon20WriteOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"write_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.076 2.649A2.22 2.22 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.3 3.3 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.3 3.3 0 0 1 .965-2.34l8.123-8.132zm2.286 4.135.927-.926a.71.71 0 0 0 0-1.013l-1.137-1.136a.71.71 0 0 0-.507-.21.71.71 0 0 0-.507.21l-.927.926zM12.135 5.71l-8.109 8.118a1.8 1.8 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z",clipRule:"evenodd"})})},548099:(e,t,o)=>{o.d(t,{Icon24ChevronRight:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"chevron_right_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M14.232 12 8.116 5.884a1.25 1.25 0 1 1 1.768-1.768l7 7a1.25 1.25 0 0 1 0 1.768l-7 7a1.25 1.25 0 0 1-1.768-1.768z"})})},900388:(e,t,o)=>{o.d(t,{Icon28ChevronRightOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"chevron_right_outline_28",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h28v28H0z"}),(0,a.jsx)("path",{stroke:"#8BC1FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m11 7.5 6.5 6.5-6.5 6.5"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414z"})]})})},206412:(e,t,o)=>{o.d(t,{Icon28FavoriteOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"favorite_outline_28",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h28v28H0z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393z"})]})})},516744:(e,t,o)=>{o.d(t,{Icon28HistoryBackwardOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"history_backward_outline_28",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h28v28H0z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12c-3.226 0-6.251-1.28-8.487-3.516a1 1 0 0 1 1.415-1.414A9.96 9.96 0 0 0 14 24c5.523 0 10-4.477 10-10S19.523 4 14 4a9.97 9.97 0 0 0-7.143 3H8.5a1 1 0 0 1 .117 1.993L8.5 9h-4a1 1 0 0 1-.993-.883L3.5 8V4a1 1 0 0 1 1.993-.117L5.5 4v1.529A11.97 11.97 0 0 1 14 2m0 6a1 1 0 0 1 .993.883L15 9v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083-3-3a1 1 0 0 1-.284-.576L13 14V9a1 1 0 0 1 1-1"})]})})},128704:(e,t,o)=>{o.d(t,{Icon28PlayCircleFillRed:()=>n});var a=o(474848),i=o(296540),r=o(506447);const n=e=>{const t=i.useId();return(0,a.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"play_circle_fill_red_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,a.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:`url(#play_circle_fill_red_28${t}a)`}),(0,a.jsx)("path",{fill:"#fff",d:"M19.024 13.13c.635.384.635 1.354 0 1.738l-6.612 3.997c-.63.38-1.412-.1-1.412-.868v-7.995c0-.768.783-1.25 1.412-.869l6.612 3.998Z"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:`play_circle_fill_red_28${t}a`,x1:"0",x2:"28.733",y1:"0",y2:".773",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#FF5263"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#FF3347"})]})})]})}},386872:(e,t,o)=>{o.d(t,{Icon28SearchOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"search_outline_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 4a9 9 0 1 0 5.618 16.032l4.675 4.675a1 1 0 0 0 1.414-1.414l-4.675-4.675A9 9 0 0 0 13 4m0 2a7 7 0 1 0 0 14 7 7 0 0 0 0-14",clipRule:"evenodd"})})},310182:(e,t,o)=>{o.d(t,{Icon28UserCircleFillBlue:()=>n});var a=o(474848),i=o(296540),r=o(506447);const n=e=>{const t=i.useId();return(0,a.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"user_circle_fill_blue_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,a.jsx)("circle",{cx:"14",cy:"14",r:"14",fill:`url(#user_circle_fill_blue_28${t}a)`}),(0,a.jsx)("path",{fill:"#fff",d:"M16.75 11.25a2.75 2.75 0 1 0-5.5 0 2.75 2.75 0 1 0 5.5 0M8.5 18.115v.715c0 .37.3.67.67.67h9.66c.37 0 .67-.3.67-.67v-.715C19.5 15.692 15.836 15 14 15s-5.5.692-5.5 3.115"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:`user_circle_fill_blue_28${t}a`,x1:"0",x2:"28.733",y1:"0",y2:".773",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#70B2FF"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#5C9CE6"})]})})]})}},65956:(e,t,o)=>{o.d(t,{Icon36Hearts2Outline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsxs)(i.SvgIconRootV2,{viewBox:"0 0 36 36",width:36,height:36,vkuiIconId:"hearts_2_outline_36",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 20.54C3 16.907 5.998 14 9.645 14c1.872 0 3.492.82 4.855 2.257C15.864 14.82 17.483 14 19.355 14 23.002 14 26 16.906 26 20.54c0 1.926-.529 3.443-1.791 4.993-1.191 1.461-3.049 2.965-5.639 4.94l-2.712 2.07c-.8.61-1.915.61-2.715 0l-2.713-2.07c-2.59-1.975-4.447-3.479-5.638-4.94C3.529 23.983 3 22.466 3 20.54m6.645-4.04c-2.312 0-4.145 1.832-4.145 4.04 0 1.348.33 2.308 1.23 3.414.972 1.193 2.584 2.523 5.216 4.531l2.554 1.948 2.554-1.948c2.633-2.008 4.244-3.338 5.216-4.531.901-1.106 1.23-2.066 1.23-3.413 0-2.209-1.832-4.041-4.145-4.041-1.254 0-2.481.627-3.685 2.247a1.458 1.458 0 0 1-2.34 0c-1.203-1.62-2.43-2.247-3.685-2.247",clipRule:"evenodd"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M11 10.06C11 6.638 13.935 4 17.382 4c1.77 0 3.312.738 4.618 2.042C23.306 4.738 24.848 4 26.618 4 30.065 4 33 6.638 33 10.06c0 1.273-.26 2.39-.904 3.48-.622 1.052-1.562 2.009-2.793 3.04a1.25 1.25 0 1 1-1.605-1.917c1.154-.966 1.839-1.707 2.245-2.396.385-.65.557-1.315.557-2.207 0-1.891-1.66-3.56-3.882-3.56-1.19 0-2.342.567-3.468 2.013a1.46 1.46 0 0 1-2.3 0C19.724 7.067 18.573 6.5 17.382 6.5c-2.222 0-3.882 1.669-3.882 3.56q0 .235.016.448a1.25 1.25 0 0 1-2.493.187A9 9 0 0 1 11 10.06",clipRule:"evenodd"})]})},499121:(e,t,o)=>{o.d(t,{Icon36ListPlayOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 36 36",width:36,height:36,vkuiIconId:"list_play_outline_36",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 9.25C4 8.56 4.56 8 5.25 8h23.5a1.25 1.25 0 1 1 0 2.5H5.25C4.56 10.5 4 9.94 4 9.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m28.416-1.801a1.238 1.238 0 0 1 0 2.102l-8.575 5.269c-.808.497-1.841-.093-1.841-1.051V19.23c0-.958 1.033-1.548 1.841-1.051l8.575 5.269Z"})})},586594:(e,t,o)=>{o.d(t,{Icon56ErrorOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"error_outline_56",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h56v56H0z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4m0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7m0 27a2 2 0 1 1 0 4 2 2 0 0 1 0-4m0-17.5a1.5 1.5 0 0 1 1.5 1.5v11l-.007.144A1.5 1.5 0 0 1 26.5 29V18l.007-.144A1.5 1.5 0 0 1 28 16.5"})]})})},812009:(e,t,o)=>{o.d(t,{Icon56ListPlayOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"list_play_outline_56",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M24 39.5a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m0-12a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m26-12a1.5 1.5 0 0 0-1.5-1.5h-41a1.5 1.5 0 0 0 0 3h41a1.5 1.5 0 0 0 1.5-1.5m-.164 19.687c-.264-.593-1.05-1.047-2.62-1.956l-9.413-5.45c-1.576-.913-2.364-1.369-3.01-1.301a2 2 0 0 0-1.41.813C33 27.819 33 28.729 33 30.55v10.9c0 1.82 0 2.731.382 3.257a2 2 0 0 0 1.41.813c.647.068 1.435-.389 3.011-1.3l9.414-5.45c1.57-.91 2.355-1.364 2.619-1.957a2 2 0 0 0 0-1.626",clipRule:"evenodd"})})},534492:(e,t,o)=>{o.d(t,{Icon56MarketOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"market_outline_56",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"nonzero",children:[(0,a.jsx)("path",{d:"M0 0h56v56H0z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M28 6c5.523 0 10 4.477 10 10h2.59c2.23 0 3.037.232 3.852.668a4.54 4.54 0 0 1 1.89 1.89c.436.815.668 1.623.668 3.852v13.77c0 4.458-.464 6.075-1.336 7.704a9.1 9.1 0 0 1-3.78 3.78c-1.63.872-3.246 1.336-7.703 1.336H21.819c-4.457 0-6.074-.464-7.703-1.336a9.1 9.1 0 0 1-3.78-3.78C9.464 42.254 9 40.638 9 36.181V22.41c0-2.23.232-3.037.668-3.852a4.54 4.54 0 0 1 1.89-1.89c.815-.436 1.623-.668 3.852-.668H18c0-5.523 4.477-10 10-10m12.83 13H15.41c-1.58 0-2.005.082-2.437.313a1.55 1.55 0 0 0-.66.66c-.219.409-.304.813-.312 2.197L12 36.18c0 3.612.255 4.931.981 6.29a6.1 6.1 0 0 0 2.55 2.549c1.358.726 2.677.981 6.288.981h12.362c3.61 0 4.93-.255 6.288-.981a6.1 6.1 0 0 0 2.55-2.55c.726-1.358.981-2.677.981-6.288V22.41c0-1.58-.082-2.005-.313-2.437a1.55 1.55 0 0 0-.66-.66c-.409-.219-.813-.304-2.197-.312m-21.287 3c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zm17 0c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zM28 9a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7"})]})})},760045:(e,t,o)=>{o.d(t,{Icon56UserAddOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"user_add_outline_56",vkuiProps:e,children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M0 0h56v56H0z"}),(0,a.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M45 19.5c0-3.592-2.908-6.5-6.5-6.5a6.5 6.5 0 0 0-6.5 6.5c0 3.592 2.908 6.5 6.5 6.5s6.5-2.908 6.5-6.5m3 0c0 5.248-4.252 9.5-9.5 9.5a9.5 9.5 0 0 1-9.5-9.5c0-5.248 4.252-9.5 9.5-9.5s9.5 4.252 9.5 9.5M25.5 41.071c0 1.932-.003 1.929 1.147 1.929h24.706c1.15 0 1.147.003 1.147-1.929C52.5 36.565 46.338 34 39 34s-13.5 2.565-13.5 7.071M39 31c8.838 0 16.5 3.19 16.5 10.071 0 3.533-1.278 4.929-4.147 4.929H26.647c-2.87 0-4.147-1.396-4.147-4.929C22.5 34.19 30.162 31 39 31M11.5 14a1.5 1.5 0 0 1 1.5 1.5V24h8.5a1.5 1.5 0 0 1 0 3H13v8.5a1.5 1.5 0 0 1-3 0V27H1.5a1.5 1.5 0 0 1 0-3H10v-8.5a1.5 1.5 0 0 1 1.5-1.5"})]})})},347929:(e,t,o)=>{o.d(t,{Icon56VideoOutline:()=>r});var a=o(474848),i=(o(296540),o(506447));const r=e=>(0,a.jsx)(i.SvgIconRootV2,{viewBox:"0 0 56 56",width:56,height:56,vkuiIconId:"video_outline_56",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.068 6.162a7.27 7.27 0 0 1-3.025 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.068-1.304-.698-2.327-1.72-3.024-3.025S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.745c0 2.798.186 3.76.714 4.748a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713M18.72 38c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134z"})})}}])}if("undefined"!=typeof window&&window.partConfigEnabled?.("static_loading_execute_errors"))try{e(),window.stManager?.done?.("dist/web/chunks/a2fd86ec.c8ee25b0.js")}catch(e){throw window.stManager?.fail?.("dist/web/chunks/a2fd86ec.c8ee25b0.js",e),e}else e(),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/chunks/a2fd86ec.c8ee25b0.js");